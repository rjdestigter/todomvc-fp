{"version":3,"sources":["../node_modules/fp-ts/es6/Functor.js","../node_modules/fp-ts/es6/Applicative.js","../node_modules/fp-ts/es6/boolean.js","../node_modules/fp-ts/es6/BooleanAlgebra.js","../node_modules/fp-ts/es6/Bounded.js","../node_modules/fp-ts/es6/DistributiveLattice.js","../node_modules/fp-ts/es6/BoundedDistributiveLattice.js","../node_modules/fp-ts/es6/Choice.js","../node_modules/fp-ts/es6/Compactable.js","../node_modules/fp-ts/es6/Console.js","../node_modules/fp-ts/es6/Const.js","../node_modules/fp-ts/es6/Date.js","../node_modules/fp-ts/es6/EitherT.js","../node_modules/fp-ts/es6/Field.js","../node_modules/fp-ts/es6/Filterable.js","../node_modules/fp-ts/es6/Foldable.js","../node_modules/fp-ts/es6/FoldableWithIndex.js","../node_modules/fp-ts/es6/FunctorWithIndex.js","../node_modules/fp-ts/es6/Identity.js","../node_modules/fp-ts/es6/IO.js","../node_modules/fp-ts/es6/ValidationT.js","../node_modules/fp-ts/es6/IOEither.js","../node_modules/fp-ts/es6/IORef.js","../node_modules/fp-ts/es6/ReadonlyMap.js","../node_modules/fp-ts/es6/Map.js","../node_modules/fp-ts/es6/Semigroup.js","../node_modules/fp-ts/es6/Monoid.js","../node_modules/fp-ts/es6/ReadonlyNonEmptyArray.js","../node_modules/fp-ts/es6/NonEmptyArray.js","../node_modules/fp-ts/es6/OptionT.js","../node_modules/fp-ts/es6/Random.js","../node_modules/fp-ts/es6/ReaderT.js","../node_modules/fp-ts/es6/Reader.js","../node_modules/fp-ts/es6/ReaderEither.js","../node_modules/fp-ts/es6/Task.js","../node_modules/fp-ts/es6/ReaderTask.js","../node_modules/fp-ts/es6/TaskEither.js","../node_modules/fp-ts/es6/ReaderTaskEither.js","../node_modules/fp-ts/es6/ReadonlySet.js","../node_modules/fp-ts/es6/ReadonlyTuple.js","../node_modules/fp-ts/es6/Semiring.js","../node_modules/fp-ts/es6/Ring.js","../node_modules/fp-ts/es6/Set.js","../node_modules/fp-ts/es6/Show.js","../node_modules/fp-ts/es6/StateT.js","../node_modules/fp-ts/es6/State.js","../node_modules/fp-ts/es6/StateReaderTaskEither.js","../node_modules/fp-ts/es6/Store.js","../node_modules/fp-ts/es6/Strong.js","../node_modules/fp-ts/es6/These.js","../node_modules/fp-ts/es6/TheseT.js","../node_modules/fp-ts/es6/TaskThese.js","../node_modules/fp-ts/es6/Traced.js","../node_modules/fp-ts/es6/Traversable.js","../node_modules/fp-ts/es6/Tuple.js","../node_modules/fp-ts/es6/WriterT.js","../node_modules/fp-ts/es6/Writer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@matechs/effect/es6/original/exit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@matechs/effect/es6/listc.js","../node_modules/@matechs/effect/es6/defs.js","../node_modules/@matechs/effect/es6/original/runtime.js","../node_modules/@matechs/effect/es6/list.js","../node_modules/@matechs/effect/es6/driverSync.js","../node_modules/@matechs/effect/es6/driver.js","../node_modules/@matechs/effect/es6/original/support/util.js","../node_modules/@matechs/effect/es6/ref.js","../node_modules/@matechs/effect/es6/original/support/completable.js","../node_modules/@matechs/effect/es6/deferred.js","../node_modules/fp-ts-contrib/es6/Do.js","../node_modules/@matechs/effect/es6/effect.js","../node_modules/@matechs/effect/es6/managed.js","../node_modules/@matechs/effect/es6/original/support/list.js","../node_modules/@matechs/effect/es6/original/support/dequeue.js","../node_modules/@matechs/effect/es6/ticket.js","../node_modules/@matechs/effect/es6/semaphore.js","../node_modules/@matechs/effect/es6/queue.js","../node_modules/@matechs/effect/es6/sanity.js","../node_modules/@matechs/effect/es6/stream/step.js","../node_modules/@matechs/effect/es6/stream/sink.js","../node_modules/@matechs/effect/es6/stream/support.js","../node_modules/@matechs/effect/es6/stream/stream.js","../node_modules/@matechs/effect/es6/stream/subject.js","../node_modules/@matechs/effect/es6/freeEnv.js","../node_modules/fp-ts/es6/ReadonlyArray.js","../node_modules/fp-ts/es6/Option.js","../node_modules/fp-ts/es6/pipeable.js","../node_modules/fp-ts/es6/Either.js","../node_modules/fp-ts/es6/ReadonlyRecord.js","../node_modules/fp-ts/lib/pipeable.js","../node_modules/fp-ts/es6/function.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/fp-ts/lib/function.js","../node_modules/fp-ts/lib/Option.js","../node_modules/@matechs/effect/lib/effect.js","../node_modules/fp-ts/es6/Apply.js","../node_modules/fp-ts/es6/Array.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/fp-ts/es6/Ord.js","../node_modules/fp-ts/es6/Eq.js","../node_modules/fp-ts/es6/Record.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/io-ts/es6/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/webpack/buildin/global.js","../node_modules/fp-ts-contrib/lib/Do.js","../node_modules/fp-ts/es6/ChainRec.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/fp-ts/lib/Array.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/core-util-is/lib/util.js","../node_modules/fp-ts/es6/Tree.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/process/browser.js","../node_modules/process-nextick-args/index.js","../node_modules/@matechs/effect/lib/original/exit.js","../node_modules/@matechs/effect/lib/ref.js","../node_modules/@matechs/effect/lib/deferred.js","../node_modules/fp-ts/lib/Apply.js","../node_modules/fp-ts/es6/Ordering.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/stream-browserify/index.js","../node_modules/@matechs/console/es6/index.js","../node_modules/fp-ts/lib/Either.js","../node_modules/events/events.js","../node_modules/readable-stream/readable-browser.js","../node_modules/readable-stream/node_modules/safe-buffer/index.js","../node_modules/buffer/index.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/@matechs/effect/lib/managed.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/isarray/index.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/@matechs/effect/lib/stream/stream.js","../node_modules/@matechs/effect/lib/original/runtime.js","../node_modules/@matechs/effect/lib/listc.js","../node_modules/@matechs/effect/lib/list.js","../node_modules/fp-ts/lib/Eq.js","../node_modules/@matechs/effect/lib/queue.js","../node_modules/@matechs/effect/lib/semaphore.js","../node_modules/@matechs/effect/lib/original/support/dequeue.js","../node_modules/@matechs/effect/lib/original/support/list.js","../node_modules/@matechs/effect/lib/ticket.js","../node_modules/@matechs/effect/lib/stream/sink.js","../node_modules/@matechs/effect/lib/stream/step.js","../node_modules/@matechs/effect/lib/stream/support.js","../node_modules/@matechs/effect/lib/stream/index.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","../node_modules/util-deprecate/browser.js","../node_modules/string_decoder/node_modules/safe-buffer/index.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/writable-browser.js","../node_modules/readable-stream/duplex-browser.js","../node_modules/readable-stream/transform.js","../node_modules/readable-stream/passthrough.js","../node_modules/fp-ts/lib/ChainRec.js","../node_modules/@matechs/effect/lib/driverSync.js","../node_modules/@matechs/effect/lib/driver.js","../node_modules/@matechs/effect/lib/original/support/util.js","../node_modules/@matechs/effect/lib/defs.js","../node_modules/@matechs/effect/lib/original/support/completable.js","../node_modules/fp-ts/lib/ReadonlyArray.js","../node_modules/fp-ts/lib/Ord.js","../node_modules/fp-ts/lib/Ordering.js","../node_modules/fp-ts/lib/Tree.js","../node_modules/fp-ts/lib/Record.js","../node_modules/fp-ts/lib/ReadonlyRecord.js","../node_modules/@matechs/effect/lib/sanity.js","../node_modules/@matechs/effect/lib/stream/subject.js"],"names":["getFunctorComposition","F","G","map","fa","f","ga","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getApplicativeComposition","of","a","ap","fgab","fga","h","fold","onFalse","onTrue","value","booleanAlgebraBoolean","meet","x","y","join","zero","one","implies","not","booleanAlgebraVoid","undefined","getFunctionBooleanAlgebra","B","getDualBooleanAlgebra","boundedNumber","ordNumber","top","Infinity","bottom","getMinMaxDistributiveLattice","O","min","max","getMinMaxBoundedDistributiveLattice","splitChoice","pab","pcd","compose","left","right","fanin","splitChoiceF","pac","pbc","promap","id","e","_tag","identity","getCompactableComposition","FC","CC","compact","separate","fge","getLeft","getRight","log","console","warn","error","info","URI","make","unsafeCoerce","getShow","S","show","c","getEq","getApply","_E","const_","fab","concat","getApplicative","M","empty","contramap","_a","pipeable","create","Date","now","getTime","getEitherM","A","either","chain","ma","isLeft","alt","fx","bimap","g","mapLeft","onLeft","onRight","getOrElse","orElse","swap","rightM","leftM","ml","fieldNumber","add","mul","sub","degree","_","div","mod","gcd","E","field","equals","lcm","gcdSF","getFilterableComposition","partitionMap","filterMap","partition","filter","getFoldableComposition","reduce","b","foldMap","foldMapF","foldMapG","reduceRight","foldM","mb","intercalate","sep","fm","init","acc","traverse_","mu","constant","applyFirst","getFoldableWithIndexComposition","reduceWithIndex","fi","gi","foldMapWithIndex","foldMapWithIndexF","foldMapWithIndexG","reduceRightWithIndex","getFunctorWithIndexComposition","mapWithIndex","mab","traverse","ta","sequence","extract","extend","wa","chainRec","tailRec","apFirst","apSecond","chainFirst","duplicate","flatten","getSemigroup","getMonoid","io","fromIO","getValidationM","getValidation","e1","isRight","e2","T","rightIO","leftIO","getIOSemigroup","getApplySemigroup","getApplyMonoid","tryCatch","onError","bracket","acquire","use","release","getIOValidation","ioEither","getFilterable","fromEitherK","_i","fromEither","chainEitherK","throwError","fromOption","fromPredicate","filterOrElse","IORef","_this","read","write","bind","modify","newIORef","fromMap","m","Map","toMap","SK","SA","elements","forEach","k","substring","size","d","isEmpty","member","lookupE","lookup","isSome","elem","values","next","done","v","keys","Array","from","sort","compare","collect","keysO","out","ks_1","key","push","get","toReadonlyArray","toUnfoldable","U","toArrayO","arr","len","unfold","some","none","insertAt","lookupWithKeyE","lookupWithKey","r","found","isNone","set","deleteAt","delete","updateAt","modifyAt","pop","deleteAtE","deleteAtEk","option","entries","ka","isSubmap","lookupWithKeyS","d1","d2","d2OptA","isSubmap_","fromEquals","mx","my","mxOptA","singleton","fromFoldable","fka","bOpt","_mapWithIndex","_partitionMapWithIndex","ei","_partitionWithIndex","_filterMapWithIndex","o","_filterWithIndex","getFilterableWithIndex","readonlyMap","partitionMapWithIndex","partitionWithIndex","filterMapWithIndex","filterWithIndex","getWitherable","ks","traverseWithIndex","_loop_1","traverseWithIndexF","foldMapWithIndexM","wilt","traverseF","wither","oa","predicate","RM","toArray","map_","as","getFirstSemigroup","getLastSemigroup","getTupleSemigroup","semigroups","getDualSemigroup","getFunctionSemigroup","getStructSemigroup","getMeetSemigroup","getJoinSemigroup","getObjectSemigroup","semigroupAll","semigroupAny","semigroupSum","semigroupProduct","semigroupString","semigroupVoid","getIntercalateSemigroup","monoidAll","monoidAny","monoidSum","monoidProduct","monoidString","monoidVoid","foldSemigroup","getTupleMonoid","monoids","getDualMonoid","getFunctionMonoid","getEndomorphismMonoid","getStructMonoid","getMeetMonoid","getJoinMonoid","cons","RA","snoc","fromReadonlyArray","fromArray","head","nea","tail","slice","reverse","ord","group","groupSort","sortO","groupO","groupBy","as_1","last","fy","zipWith","zip","unzip","readonlyNonEmptyArray","RNEA","copy","l","nonEmptyArray","getOptionM","fnone","onNone","onSome","fromM","random","Math","randomInt","low","high","floor","randomRange","randomBool","getReaderM","ask","asks","local","q","fromReader","reader","mbc","ab","la","first","second","rightReader","leftReader","getReaderSemigroup","getReaderValidation","readerEither","never","Promise","then","rx","ry","task","getRaceMonoid","race","delay","millis","resolve","setTimeout","fromIOK","chainIOK","all","fromTask","taskSeq","TA","run","fromTaskK","chainTaskK","readerTask","readerTaskSeq","rightTask","me","leftTask","fromIOEither","getTaskSemigroup","onRejected","reason","taskify","args","getTaskValidation","taskEither","fromIOEitherK","chainIOEitherK","tryCatchK","taskEitherSeq","TE","fromTaskEither","leftReaderTask","rightReaderTask","fromReaderEither","pipe","aquire","getReaderTaskValidation","readerTaskEither","fromTaskEitherK","chainTaskEitherK","readerTaskEitherSeq","fromSet","Set","toSet","subsetE","isSubset","elemE","every","union","intersection","EB","EC","hasB","hasC","difference","getUnionMonoid","getIntersectionSemigroup","insert","remove","ax","has","EE","EA","elemEE","elemEA","ob","fst","sa","snd","readonlyTuple","getChain","getMonad","getChainRec","result","ba","ae","fea","fas","getFunctionSemiring","getFunctionRing","ring","negate","getTupleRing","rings","R","RS","subset","toggle","removeE","insertE","showString","JSON","stringify","showNumber","showBoolean","getStructShow","shows","getTupleShow","getStateM","s1","put","gets","fromState","evalState","execState","state","RTE","fromReaderTaskEither","rightState","leftState","fromReaderTaskEitherK","chainReaderTaskEitherK","stateReaderTaskEither","stateReaderTaskEitherSeq","seek","peek","pos","seeks","peeks","experiment","store","splitStrong","fanout","splitStrongF","split","both","onBoth","SE","isBoth","fb","these","toTuple","leftOrBoth","rightOrBoth","getLeftOnly","getRightOnly","fromOptions","fe","getTheseM","mapT","leftT","TH","taskThese","tracks","listen","listens","censor","getComonad","monoid","traced","p1","p2","getTraversableComposition","H","traverseG","sequenceF","sequenceG","fgha","RT","tuple","getWriterM","w","evalWriter","execWriter","tell","pass","_b","W","w1","w2","writer","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","raise","interrupt","_createForOfIteratorHelper","_e","it","err","normalCompletion","didErr","step","_e2","EffectTag","LinkedListNode","LinkedList","newNode","deletedHead","DoublyLinkedListNode","previous","DoublyLinkedList","deletedTail","defaultRuntime","running","array","isRunning","deleteHead","thunk","append","ms","handle","dispatch","cb","clearTimeout","list","isNotEmpty","newLast","prev","singleNode","isSingleton","popUnsafe","popLastUnsafe","lastUnsafe","Frame","FoldFrame","recover","MapFrame","makeInterruptFrame","interruptStatus","u","fromEffect","exitRegion","DriverSyncImpl","runtime","completed","started","interrupted","currentFrame","envStack","listeners","Error","interruptRegionStack","frame","isInterruptible","complete","go","interruptExit","loop","dispatchResumeInterrupt","Pure","status","cause","foldResume","current","AccessEnv","env","L","ProvideEnv","f1","foldExit","f0","PureOption","PureEither","Raised","Completed","Suspended","Async","Chain","Collapse","f2","InterruptibleRegion","AccessRuntime","AccessInterruptible","resumeInterrupt","isComplete","DriverImpl","interruptWithError","cancelAsync","op","wrappedCancel","resume","deleteTail","contextSwitch","tuple2","makeRef","initial","update","CompletableImpl","DeferredImpl","wait","callback","exit","source","effect","onInterrupted","makeDeferred","DoClass","do","action","doL","name","bindL","let","letL","sequenceS","sequenceSL","return","Do","Implementation","eff","pure","raised","raiseError","ex","raiseAbort","abortedWith","raiseInterrupt","suspended","sync","trySync","trySyncMap","async","asyncTotal","Ei","interruptibleRegion","inner","flag","chain_","chainOption","onEmpty","encaseOption","chainEither","encaseEither","chainTask","encaseTask","chainTaskEither","encaseTaskEither","failure","success","foldExit_","accessInterruptible","accessRuntime","withRuntime","accessEnvironment","accessM","access","provide","inverted","provideR","r2","provideM","rm","base","lift","liftEither","to","chainTap","chainTap_","asUnit","unit","chainError","chainError_","mapError","mapLeft_","zipWith_","zip_","applySecond","applySecondL","ap__","ioa","iof","flip","forever","interruptible","uninterruptible","after","dispatchLater","makeInterruptMaskCutout","uninterruptibleMask","cutout","interruptibleMask","combineFinalizerExit","fiberExit","releaseExit","bracketExit","finalize","onComplete_","finalizer","onComplete","onInterrupted_","combineInterruptExit","errors","Ar","others","dropLeft","shifted","shiftBefore","shiftAfter","shiftedAsync","shiftAsyncBefore","shiftAsyncAfter","setInterval","clearInterval","liftDelay","FiberImpl","driver","Op","fromNullable","sendInterrupt","onExit","opt","pureNone","makeFiber","fiber","start","fork","completeLatched","latch","channel","combine","other","act","raceFold","onFirstWon","onSecondWon","fiber1","fiber2","i1","i2","timeoutFold","onTimeout","onCompleted","delayFiber","interruptLoser","loser","raceFirst","io1","io2","fallbackToLoser","parZipWith","iob","aExit","bFiber","bExit","aFiber","parZip","parApplyFirst","parApplySecond","parAp","parAp_","orAbort","timeoutOption","actionFiber","fromPromise","catch","fromPromiseMap","runSync","runUnsafeSync","runToPromise","reject","runToPromiseExit","flow","alt_","leftMap","rightMap","DoG","SS","sequenceT","ST","parEffect","_CTX","parDo","parSequenceS","parSequenceT","when","or_","or","condWith","cond","fromNullableM","getCauseSemigroup","ca","getCauseValidationM","fabe","fae","fbe","effectify","ManagedTag","sequenceOption","traverseOption","wiltOption","witherOption","sequenceEither","traverseEither","sequenceTree","TR","tree","traverseTree","sequenceTreePar","traverseTreePar","sequenceArray","traverseArray","traverseArrayWithIndex","wiltArray","witherArray","sequenceArrayPar","traverseArrayPar","traverseArrayWithIndexPar","wiltArrayPar","witherArrayPar","sequenceRecord","RE","record","traverseRecord","traverseRecordWithIndex","wiltRecord","witherRecord","sequenceRecordPar","traverseRecordPar","traverseRecordWithIndexPar","wiltRecordPar","witherRecordPar","encaseEffect","rio","Encase","Bracket","BracketExit","suspend","provideAll","res","resa","resb","resfab","chainTapWith","consume","allocate","leak","innerLeak","man","managed","Semigroup","Monoid","isCons","isNil","nil","foldl","seed","foldlc","foldr","P","cata","ifCons","ifNil","catac","find","front","back","ct","fns","DequeueImpl","ticketExit","ticket","cleanup","ticketUse","makeTicket","isReservationFor","rsv","sanityCheck","round","makeSemaphoreImpl","ref","releaseN","waiting","take","needed","ready","cancelWait","pending","acquireN","offer","ticketN","withPermitsN","available","withPermit","makeSemaphore","poption","unboundedOffer","queue","makeConcurrentQueueImpl","factory","overflowStrategy","offerGate","takeGate","cleanupLatch","item","unboundedQueue","msg","SinkStepTag","natCapacity","slidingQueue","capacity","droppingQueue","boundedQueue","sem","sinkCont","Cont","sinkDone","leftover","Done","isSinkCont","sinkStepLeftover","sinkStepState","stepMany","sink","multi","isSinkDone","drainWhileSink","_state","queueSink","queueUtils","ops","hasCB","runFromQueue","emitter","rangeIterator","iteratorSource","interval","end","fromSource","pull","cont","cell","arrayFold","fromIterator","fromRange","fromIteratorUnsafe","once","repeatedly","periodically","_cont","_f","aborted","zipWithIndex","stream","folded","concatL_","stream1","stream2","fold1","intermediate","fold2","concatL","concat_","repeat","outer","as_","filter_","distinctAdjacent_","eq","seen","distinctAdjacent","foldM_","fold_","t2","scanM_","accum","scanM","scan_","scan","outerfold","innerfold","mapM_","mapM","transduce_","derivedInitial","initSink","feedSink","foldState","sinkState","chunk","nextSinkStep","nextFoldState","nextNextSinkState","transduce","drop_","drop","take_","t2s","takeWhile_","pred","takeWhile","takeUntil_","until","wrappedUntil","type","wrappedStream","mergeAll","wrapped","takeUntil","into_","into","intoManaged_","managedSink","intoManaged","intoLeftover_","intoLeftover","sinkQueue","cq","deferred","bs","aq","alatch","bq","blatch","agrab","bgrab","aOpt","queueBreakerSource","breaker","streamQueueSource","peel_","pullStream","peel","peelManaged_","peelManaged","interruptFiberSlot","slot","optFiber","switchLatest","pushQueue","pushBreaker","internalBreaker","fiberSlot","interruptPushFiber","downstreamSource","advanceStreams","breakerError","nextOpt","spawnPushFiber","chainSwitchLatest_","chainSwitchLatest","interruptWeaveHandles","fibers","makeWeave","attach","AP","handles","merge_","maxActive","semaphore","weave","merge","chainMerge_","chainMerge","streams","dropWhile_","rest","dropWhile","collectArray","drain","_next","sfab","fromObjectReadStream","su","on","toError","Writable","objectMode","getSourceFromObjectReadStream","fromObjectReadStreamB","batch","open","splice","getSourceFromObjectReadStreamB","subject","Q","subscribe","sp","derived","specURI","Reflect","ownKeys","define","cn","fn","providing","sym","entry","implement","implementWith","instance","opaque","__spreadArrays","il","j","jl","ras","lenx","leny","xs","ys","getOrd","fromCompare","aLen","bLen","ordering","makeBy","range","replicate","mma","rLen","foldLeft","onNil","onCons","foldRight","scanLeft","scanRight","isNonEmpty","isOutOfBound","takeLeft","takeRight","takeLeftWhile","spanIndexUncurry","spanLeft","dropRight","dropLeftWhile","findIndex","findFirst","findFirstMap","findLast","findLastMap","findLastIndex","unsafeInsertAt","unsafeUpdateAt","unsafeDeleteAt","rights","lefts","fc","rotate","abs","element","uniq","elemS","sortBy","ords","getOrdMonoid","chop","cs","splitAt","chunksOf","comprehension","input","scope","readonlyArray","fa_1","resLen","temp","l_1","ret","bb","mt","b_1","fbs","predicateWithIndex","optionB","toNullable","toUndefined","exists","getRefinement","getOption","mapNullable","getFirstMonoid","getLastMonoid","defaultSeparate","bc","cd","de","ef","fg","gh","hi","ij","I","isFunctor","isContravariant","isFunctorWithIndex","isApply","isChain","isBifunctor","isExtend","isFoldable","foldMapM","isFoldableWithIndex","isAlt","that","isCompactable","isFilterable","isFilterableWithIndex","isProfunctor","isSemigroupoid","isMonadThrow","String","EL","parseJSON","parse","stringifyJSON","getValidationSemigroup","getValidationMonoid","fromRecord","toRecord","optionSome","_hasOwnProperty","deleteAtk","isSubrecord","isSubrecordE","readonlyRecord","fromFoldableMapM","fromFoldableMap","keys_1","optionA","keys_2","keys_3","fr","keys_4","keys_5","keys_6","keys_7","changed","exports","function_1","require","constTrue","constFalse","constNull","constUndefined","constVoid","increment","decrement","absurd","tupled","untupled","_slicedToArray","_arr","_n","_d","_s","_classCallCheck","pipeable_1","__importStar","__esModule","fp_ts_1","driverSync_1","driver_1","util_1","defs_1","ref_1","deferred_1","Do_1","Apply_1","_TAG","_A","_S","_R","abort","interruptWithErrorAndOthers","curried","combined","tupleConstructors","getTupleConstructor","getRecordConstructor","_defineProperty","obj","strictEqual","ordString","ordBoolean","lt","gt","leq","geq","clamp","minO","maxO","between","lessThanO","greaterThanO","optimizedCompare","monoidOrdering","getTupleOrd","getDualOrd","ordDate","date","valueOf","eqStrict","eqString","eqNumber","eqBoolean","getStructEq","eqs","getTupleEq","eqDate","RR","pna","objectKeys","module","Duplex","util","inherits","Readable","method","options","readable","allowHalfOpen","onend","_writableState","ended","nextTick","onEndNT","self","highWaterMark","_readableState","destroyed","_destroy","__extends","extendStatics","setPrototypeOf","__proto__","__","constructor","Type","is","validate","encode","decode","asDecoder","asEncoder","actual","appendContext","decoder","failures","context","message","pushAll","undefinedType","_super","NullType","UndefinedType","string","VoidType","UnknownType","StringType","number","NumberType","boolean","BigIntType","BooleanType","UnknownArray","AnyArrayType","UnknownRecord","AnyDictionaryType","toString","RefinementType","FunctionType","refinement","Number","isInteger","LiteralType","KeyofType","RecursiveType","runDefinition","ArrayType","codec","us","ui","ai","InterfaceType","getNameFromProps","useIdentity","codecs","getInterfaceTypeName","types","uk","ak","type_1","vak","PartialType","DictionaryType","domain","codomain","UnionType","IntersectionType","TupleType","ReadonlyType","ReadonlyArrayType","TaggedUnionType","tag","ExactType","NeverType","AnyType","ObjectType","displayName","StrictType","ctor","superCtor","super_","TempCtor","Function","window","_unsupportedIterableToArray","minLen","test","_setPrototypeOf","_inherits","subClass","superClass","_typeof","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","Super","getPrototypeOf","isNativeReflectConstruct","NewTarget","construct","Parent","Class","_cache","indexOf","Wrapper","objectToString","arg","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","isBuffer","Buffer","forest","getArrayEq","drawForest","draw","indentation","isLast","drawTree","unfoldTree","unfoldForest","unfoldTreeM","unfoldForestMM","unfoldForestM","ts","traverseM","object","enumerableOnly","getOwnPropertySymbols","symbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr2","_getPrototypeOf","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","title","browser","argv","version","versions","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","arg1","arg2","arg3","completable_1","effect_1","sign","eqOrdering","semigroupOrdering","invert","_isNativeReflectConstruct","sham","Proxy","Stream","EventEmitter","Transform","PassThrough","dest","ondata","pause","ondrain","_isStdio","onclose","didOnEnd","destroy","onerror","er","listenerCount","consoleURI","Console_","assert","time","clear","count","countReset","debug","dirxml","groupCollapsed","groupEnd","table","timeEnd","timeLog","trace","Console","provideConsole","ChainRec_1","ReflectOwnKeys","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","isNaN","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","unshift","warned","onceWrapper","fired","wrapFn","_onceWrap","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","RangeError","setMaxListeners","getMaxListeners","doError","handler","position","originalListener","shift","index","spliceOne","rawListeners","eventNames","buffer","copyProps","src","dst","SafeBuffer","encodingOrOffset","alloc","allocUnsafe","allocUnsafeSlow","fill","encoding","buf","SlowBuffer","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","Uint8Array","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","isEncoding","fromString","checked","val","data","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","_isBuffer","swap16","swap32","swap64","inspect","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","setImmediate","WritableState","internalUtil","deprecate","OurUint8Array","realHasInstance","destroyImpl","nop","isDuplex","writableObjectMode","hwm","writableHwm","writableHighWaterMark","defaultHwm","finalCalled","needDrain","ending","finished","noDecode","decodeStrings","defaultEncoding","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","hasInstance","_uint8ArrayToBuffer","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_undestroy","undestroy","exit_1","ReadableState","EElistenerCount","debugUtil","debuglog","StringDecoder","BufferList","kProxyEvents","readableObjectMode","readableHwm","readableHighWaterMark","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","awaitDrain","readingMore","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","addChunk","maybeReadMore","needMoreData","isPaused","setEncoding","enc","howMuchToRead","computeNewHighWaterMark","emitReadable_","maybeReadMore_","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","nOrig","doRead","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onfinish","cleanedUp","pipeOnDrain","increasedAwaitDrain","event","dests","ev","wrap","paused","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","afterTransform","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","_this2","err2","__generator","thisArg","body","label","sent","trys","verb","stream_1","sink_1","step_1","atake","btake","collectArraySink","drainSink","listc_1","RuntimeImpl","deletedTail_1","headUnsafe","last_1","sanity_1","semaphore_1","dequeue_1","ticket_1","natNumber","list_1","nonEmpty","findc","foldrc","filterc","instances","liftPureSink","constSink","headSink","lastSink","evalSink","queueOptionSink","mapWith","op_1","subject_1","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","skipTempReset","charAt","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","custom","Timeout","clearFn","_id","_clearFn","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","addEventListener","attachEvent","installPostMessageImplementation","MessageChannel","port1","port2","installMessageChannelImplementation","createElement","html","documentElement","script","onreadystatechange","removeChild","appendChild","installReadyStateChangeImplementation","config","localStorage","runtime_1","tryComplete","Option_1","Ord_1","Ordering_1","Array_1","Eq_1","Sink","support_1"],"mappings":"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","file":"static/js/2.2634938b.chunk.js","sourcesContent":["export function getFunctorComposition(F, G) {\n    return {\n        map: function (fa, f) { return F.map(fa, function (ga) { return G.map(ga, f); }); }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nexport function getApplicativeComposition(F, G) {\n    return __assign(__assign({}, getFunctorComposition(F, G)), { of: function (a) { return F.of(G.of(a)); }, ap: function (fgab, fga) {\n            return F.ap(F.map(fgab, function (h) { return function (ga) { return G.ap(h, ga); }; }), fga);\n        } });\n}\n","/**\n * @since 2.2.0\n */\n/**\n * Defines the fold over a boolean value.\n * Takes two thunks `onTrue`, `onFalse` and a `boolean` value.\n * If `value` is false, `onFalse()` is returned, otherwise `onTrue()`.\n *\n * @example\n * import { some, map } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/boolean'\n *\n * assert.deepStrictEqual(\n *  pipe(\n *    some(true),\n *    map(fold(() => 'false', () => 'true'))\n *  ),\n *  some('true')\n * )\n *\n * @since 2.2.0\n */\nexport function fold(onFalse, onTrue) {\n    return function (value) { return (value ? onTrue() : onFalse()); };\n}\n","/**\n * @since 2.0.0\n */\nexport var booleanAlgebraBoolean = {\n    meet: function (x, y) { return x && y; },\n    join: function (x, y) { return x || y; },\n    zero: false,\n    one: true,\n    implies: function (x, y) { return !x || y; },\n    not: function (x) { return !x; }\n};\n/**\n * @since 2.0.0\n */\nexport var booleanAlgebraVoid = {\n    meet: function () { return undefined; },\n    join: function () { return undefined; },\n    zero: undefined,\n    one: undefined,\n    implies: function () { return undefined; },\n    not: function () { return undefined; }\n};\n/**\n * @since 2.0.0\n */\nexport function getFunctionBooleanAlgebra(B) {\n    return function () { return ({\n        meet: function (x, y) { return function (a) { return B.meet(x(a), y(a)); }; },\n        join: function (x, y) { return function (a) { return B.join(x(a), y(a)); }; },\n        zero: function () { return B.zero; },\n        one: function () { return B.one; },\n        implies: function (x, y) { return function (a) { return B.implies(x(a), y(a)); }; },\n        not: function (x) { return function (a) { return B.not(x(a)); }; }\n    }); };\n}\n/**\n * Every boolean algebras has a dual algebra, which involves reversing one/zero as well as join/meet.\n *\n * @since 2.0.0\n */\nexport function getDualBooleanAlgebra(B) {\n    return {\n        meet: function (x, y) { return B.join(x, y); },\n        join: function (x, y) { return B.meet(x, y); },\n        zero: B.one,\n        one: B.zero,\n        implies: function (x, y) { return B.join(B.not(x), y); },\n        not: B.not\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * The `Bounded` type class represents totally ordered types that have an upper and lower boundary.\n *\n * Instances should satisfy the following law in addition to the `Ord` laws:\n *\n * - Bounded: `bottom <= a <= top`\n *\n * @since 2.0.0\n */\nimport { ordNumber } from './Ord';\n/**\n * @since 2.0.0\n */\nexport var boundedNumber = __assign(__assign({}, ordNumber), { top: Infinity, bottom: -Infinity });\n","import { max, min } from './Ord';\n/**\n * @since 2.0.0\n */\nexport function getMinMaxDistributiveLattice(O) {\n    return {\n        meet: min(O),\n        join: max(O)\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getMinMaxDistributiveLattice } from './DistributiveLattice';\n/**\n * @since 2.0.0\n */\nexport function getMinMaxBoundedDistributiveLattice(O) {\n    return function (min, max) { return (__assign(__assign({}, getMinMaxDistributiveLattice(O)), { zero: min, one: max })); };\n}\n","import { identity } from './function';\nexport function splitChoice(F) {\n    return function (pab, pcd) { return F.compose(F.left(pab), F.right(pcd)); };\n}\nexport function fanin(F) {\n    var splitChoiceF = splitChoice(F);\n    return function (pac, pbc) {\n        var join = F.promap(F.id(), function (e) { return (e._tag === 'Left' ? e.left : e.right); }, identity);\n        return F.compose(join, splitChoiceF(pac, pbc));\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nimport { getLeft, getRight } from './Option';\nexport function getCompactableComposition(F, G) {\n    var FC = getFunctorComposition(F, G);\n    var CC = __assign(__assign({}, FC), { compact: function (fga) { return F.map(fga, G.compact); }, separate: function (fge) {\n            var left = CC.compact(FC.map(fge, getLeft));\n            var right = CC.compact(FC.map(fge, getRight));\n            return { left: left, right: right };\n        } });\n    return CC;\n}\n","/**\n * @since 2.0.0\n */\nexport function log(s) {\n    return function () { return console.log(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function warn(s) {\n    return function () { return console.warn(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function error(s) {\n    return function () { return console.error(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function info(s) {\n    return function () { return console.info(s); }; // tslint:disable-line:no-console\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { unsafeCoerce, identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Const';\n/**\n * @since 2.0.0\n */\nexport var make = unsafeCoerce;\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    return {\n        show: function (c) { return \"make(\" + S.show(c) + \")\"; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var getEq = identity;\n/**\n * @since 2.0.0\n */\nexport function getApply(S) {\n    return {\n        URI: URI,\n        _E: undefined,\n        map: const_.map,\n        ap: function (fab, fa) { return make(S.concat(fab, fa)); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplicative(M) {\n    return __assign(__assign({}, getApply(M)), { of: function () { return make(M.empty); } });\n}\n/**\n * @since 2.0.0\n */\nexport var const_ = {\n    URI: URI,\n    map: unsafeCoerce,\n    contramap: unsafeCoerce\n};\nvar _a = pipeable(const_), contramap = _a.contramap, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap, \n/**\n * @since 2.0.0\n */\nmap };\n","/**\n * Returns the current `Date`\n *\n * @since 2.0.0\n */\nexport var create = function () { return new Date(); };\n/**\n * Returns the number of milliseconds elapsed since January 1, 1970, 00:00:00 UTC\n *\n * @since 2.0.0\n */\nexport var now = function () { return new Date().getTime(); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { either, fold, isLeft, left, right, swap } from './Either';\nexport function getEitherM(M) {\n    var A = getApplicativeComposition(M, either);\n    return __assign(__assign({}, A), { chain: function (ma, f) { return M.chain(ma, function (e) { return (isLeft(e) ? M.of(left(e.left)) : f(e.right)); }); }, alt: function (fx, f) { return M.chain(fx, function (e) { return (isLeft(e) ? f() : A.of(e.right)); }); }, bimap: function (ma, f, g) { return M.map(ma, function (e) { return either.bimap(e, f, g); }); }, mapLeft: function (ma, f) { return M.map(ma, function (e) { return either.mapLeft(e, f); }); }, fold: function (ma, onLeft, onRight) { return M.chain(ma, fold(onLeft, onRight)); }, getOrElse: function (ma, onLeft) { return M.chain(ma, fold(onLeft, M.of)); }, orElse: function (ma, f) {\n            return M.chain(ma, fold(f, function (a) { return A.of(a); }));\n        }, swap: function (ma) { return M.map(ma, swap); }, rightM: function (ma) { return M.map(ma, right); }, leftM: function (ml) { return M.map(ml, left); }, left: function (e) { return M.of(left(e)); } });\n}\n","/**\n * @since 2.0.0\n */\nexport var fieldNumber = {\n    add: function (x, y) { return x + y; },\n    zero: 0,\n    mul: function (x, y) { return x * y; },\n    one: 1,\n    sub: function (x, y) { return x - y; },\n    degree: function (_) { return 1; },\n    div: function (x, y) { return x / y; },\n    mod: function (x, y) { return x % y; }\n};\n/**\n * The *greatest common divisor* of two values\n *\n * @since 2.0.0\n */\nexport function gcd(E, field) {\n    var zero = field.zero;\n    var f = function (x, y) { return (E.equals(y, zero) ? x : f(y, field.mod(x, y))); };\n    return f;\n}\n/**\n * The *least common multiple* of two values\n *\n * @since 2.0.0\n */\nexport function lcm(E, F) {\n    var zero = F.zero;\n    var gcdSF = gcd(E, F);\n    return function (x, y) { return (E.equals(x, zero) || E.equals(y, zero) ? zero : F.div(F.mul(x, y), gcdSF(x, y))); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * `Filterable` represents data structures which can be _partitioned_/_filtered_.\n *\n * Adapted from https://github.com/LiamGoodacre/purescript-filterable/blob/master/src/Data/Filterable.purs\n *\n * @since 2.0.0\n */\nimport { getCompactableComposition } from './Compactable';\nimport { getLeft, getRight } from './Option';\nexport function getFilterableComposition(F, G) {\n    var FC = __assign(__assign({}, getCompactableComposition(F, G)), { partitionMap: function (fga, f) {\n            var left = FC.filterMap(fga, function (a) { return getLeft(f(a)); });\n            var right = FC.filterMap(fga, function (a) { return getRight(f(a)); });\n            return { left: left, right: right };\n        }, partition: function (fga, p) {\n            var left = FC.filter(fga, function (a) { return !p(a); });\n            var right = FC.filter(fga, p);\n            return { left: left, right: right };\n        }, filterMap: function (fga, f) { return F.map(fga, function (ga) { return G.filterMap(ga, f); }); }, filter: function (fga, f) { return F.map(fga, function (ga) { return G.filter(ga, f); }); } });\n    return FC;\n}\n","import { constant } from './function';\nexport function getFoldableComposition(F, G) {\n    return {\n        reduce: function (fga, b, f) { return F.reduce(fga, b, function (b, ga) { return G.reduce(ga, b, f); }); },\n        foldMap: function (M) {\n            var foldMapF = F.foldMap(M);\n            var foldMapG = G.foldMap(M);\n            return function (fa, f) { return foldMapF(fa, function (ga) { return foldMapG(ga, f); }); };\n        },\n        reduceRight: function (fa, b, f) { return F.reduceRight(fa, b, function (ga, b) { return G.reduceRight(ga, b, f); }); }\n    };\n}\nexport function foldM(M, F) {\n    return function (fa, b, f) { return F.reduce(fa, M.of(b), function (mb, a) { return M.chain(mb, function (b) { return f(b, a); }); }); };\n}\nexport function intercalate(M, F) {\n    return function (sep, fm) {\n        var go = function (_a, x) {\n            var init = _a.init, acc = _a.acc;\n            return init ? { init: false, acc: x } : { init: false, acc: M.concat(M.concat(acc, sep), x) };\n        };\n        return F.reduce(fm, { init: true, acc: M.empty }, go).acc;\n    };\n}\nexport function traverse_(M, F) {\n    var applyFirst = function (mu, mb) { return M.ap(M.map(mu, constant), mb); };\n    var mu = M.of(undefined);\n    return function (fa, f) { return F.reduce(fa, mu, function (mu, a) { return applyFirst(mu, f(a)); }); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * A `Foldable` with an additional index.\n * A `FoldableWithIndex` instance must be compatible with its `Foldable` instance\n *\n * ```ts\n * reduce(fa, b, f) = reduceWithIndex(fa, b, (_, b, a) => f(b, a))\n * foldMap(M)(fa, f) = foldMapWithIndex(M)(fa, (_, a) => f(a))\n * reduceRight(fa, b, f) = reduceRightWithIndex(fa, b, (_, a, b) => f(a, b))\n * ```\n *\n * @since 2.0.0\n */\nimport { getFoldableComposition } from './Foldable';\nexport function getFoldableWithIndexComposition(F, G) {\n    return __assign(__assign({}, getFoldableComposition(F, G)), { reduceWithIndex: function (fga, b, f) {\n            return F.reduceWithIndex(fga, b, function (fi, b, ga) { return G.reduceWithIndex(ga, b, function (gi, b, a) { return f([fi, gi], b, a); }); });\n        }, foldMapWithIndex: function (M) {\n            var foldMapWithIndexF = F.foldMapWithIndex(M);\n            var foldMapWithIndexG = G.foldMapWithIndex(M);\n            return function (fga, f) { return foldMapWithIndexF(fga, function (fi, ga) { return foldMapWithIndexG(ga, function (gi, a) { return f([fi, gi], a); }); }); };\n        }, reduceRightWithIndex: function (fga, b, f) {\n            return F.reduceRightWithIndex(fga, b, function (fi, ga, b) { return G.reduceRightWithIndex(ga, b, function (gi, a, b) { return f([fi, gi], a, b); }); });\n        } });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nexport function getFunctorWithIndexComposition(F, G) {\n    return __assign(__assign({}, getFunctorComposition(F, G)), { mapWithIndex: function (fga, f) { return F.mapWithIndex(fga, function (fi, ga) { return G.mapWithIndex(ga, function (gi, a) { return f([fi, gi], a); }); }); } });\n}\n","import { tailRec } from './ChainRec';\nimport { identity as id } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Identity';\n/**\n * @since 2.0.0\n */\nexport var getShow = id;\n/**\n * @since 2.0.0\n */\nexport var getEq = id;\n/**\n * @since 2.0.0\n */\nexport var identity = {\n    URI: URI,\n    map: function (ma, f) { return f(ma); },\n    of: id,\n    ap: function (mab, ma) { return mab(ma); },\n    chain: function (ma, f) { return f(ma); },\n    reduce: function (fa, b, f) { return f(b, fa); },\n    foldMap: function (_) { return function (fa, f) { return f(fa); }; },\n    reduceRight: function (fa, b, f) { return f(fa, b); },\n    traverse: function (F) { return function (ta, f) {\n        return F.map(f(ta), id);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return F.map(ta, id);\n    }; },\n    alt: id,\n    extract: id,\n    extend: function (wa, f) { return f(wa); },\n    chainRec: tailRec\n};\nvar _a = pipeable(identity), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","/**\n * `IO<A>` represents a non-deterministic synchronous computation that can cause side effects, yields a value of\n * type `A` and **never fails**. If you want to represent a synchronous computation that may fail, please see\n * `IOEither`.\n *\n * `IO` actions are _thunks_ so they are terminated by calling their `()` function application that executes the\n * computation and returns the result. Ideally each application should call `()` only once for a root value of type\n * `Task` or `IO` that represents the entire application. However, this might vary a bit depending on how you construct\n * your application.  An application framework with `fp-ts` types might take care of calling `()` for you, while another\n * application framework without `fp-ts` typing might force you to call `()` at multiple locations whenever the\n * framework demands less strictly typed values as inputs for its method calls.\n *\n * Below are some basic examples of how you can wrap values and function calls with `IO`.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n *\n * const constant: IO<number> = io.of(123)\n * constant()  // returns 123\n *\n * const random: IO<number> = () => Math.random()\n * random()  // returns a random number\n * random()  // returns another random number\n *\n * const log = (...args): IO<void> => () => console.log(...args)\n * log('hello world')()  // returns undefined and outputs \"hello world\" to console\n * ```\n *\n * In the example above we implemented type safe alternatives for `Math.random()` and `console.log()`. The main\n * motivation was to explain how you can wrap values. However, `fp-ts` provides type safe alternatives for such basic\n * tools through `Console` and `Random` modules. So you don't need to constantly redefine them.\n *\n * The next code snippet below is an example of a case where type safety affects the end result. Using `console.log()`\n * directly would break the code, resulting in both logging actions being executed when the value is not `null`.  You\n * can confirm this by removing `()` from the end of the example code and replacing calls to `log()` with standard\n * `console.log()`.\n *\n * ```ts\n * import { fromNullable, fold } from 'fp-ts/lib/Option'\n * import { log } from 'fp-ts/lib/Console'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * const logger = (input: number | null) =>\n *  pipe(\n *    fromNullable(input),\n *    fold(log('Received null'), value => log(`Received ${value}`)),\n *  );\n *\n * logger(123)() // returns undefined and outputs \"Received 123\" to console\n * ```\n *\n * In addition to creating `IO` actions we need a way to combine them to build the application. For\n * example, we might want to combine several `IO<void>` actions into one `IO<void[]>` action for\n * sequential execution. This can be done with `array.sequence(io)` as follows.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n * import { array } from 'fp-ts/lib/Array'\n * import { log } from 'fp-ts/lib/Console'\n *\n * const logGiraffe: IO<void> = log('giraffe');\n * const logZebra: IO<void> = log('zebra');\n *\n * const logGiraffeThenZebra: IO<void[]> = array.sequence(io)([ logGiraffe, logZebra ])\n *\n * logGiraffeThenZebra() // returns undefined and outputs words \"giraffe\" and \"zebra\" to console\n * ```\n *\n * We might also have several `IO` actions that yield some values that we want to capture. We can combine them by using\n * `sequenceS(io)` over an object matching the structure of the expected result. This is useful when you care about the\n * results but do not care about the execution order.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n * import { sequenceS } from 'fp-ts/lib/Apply'\n *\n * interface Result {\n *   name: string,\n *   age: number,\n * }\n *\n * const computations: { [K in keyof Result]: IO<Result[K]> } = {\n *   name: io.of('Aristotle'),\n *   age: io.of(60),\n * }\n *\n * const computation: IO<Result> = sequenceS(io)(computations)\n *\n * computation() // returns { name: 'Aristotle', age: 60 }\n * ```\n *\n * @since 2.0.0\n */\nimport { identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'IO';\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function () { return S.concat(x(), y()); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: io.of(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var of = function (a) { return function () { return a; }; };\n/**\n * @since 2.0.0\n */\nexport var io = {\n    URI: URI,\n    map: function (ma, f) { return function () { return f(ma()); }; },\n    of: of,\n    ap: function (mab, ma) { return function () { return mab()(ma()); }; },\n    chain: function (ma, f) { return function () { return f(ma())(); }; },\n    fromIO: identity,\n    chainRec: function (a, f) { return function () {\n        var e = f(a)();\n        while (e._tag === 'Left') {\n            e = f(e.left)();\n        }\n        return e.right;\n    }; }\n};\nvar _a = pipeable(io), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { getValidation, isLeft, isRight, left } from './Either';\nexport function getValidationM(S, M) {\n    var A = getApplicativeComposition(M, getValidation(S));\n    return __assign(__assign({}, A), { chain: function (ma, f) { return M.chain(ma, function (e) { return (isLeft(e) ? M.of(left(e.left)) : f(e.right)); }); }, alt: function (fx, f) {\n            return M.chain(fx, function (e1) {\n                return isRight(e1) ? A.of(e1.right) : M.map(f(), function (e2) { return (isLeft(e2) ? left(S.concat(e1.left, e2.left)) : e2); });\n            });\n        } });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { getFilterableComposition } from './Filterable';\nimport { getSemigroup as getIOSemigroup, io } from './IO';\nimport { pipeable } from './pipeable';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(io);\n/**\n * @since 2.0.0\n */\nexport var URI = 'IOEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport var rightIO = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftIO = T.leftM;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getIOSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getIOSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * Constructs a new `IOEither` from a function that performs a side effect and might throw\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onError) {\n    return function () { return E.tryCatch(f, onError); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.0\n */\nexport function bracket(acquire, use, release) {\n    return T.chain(acquire, function (a) {\n        return T.chain(io.map(use(a), E.right), function (e) { return T.chain(release(a, e), function () { return (E.isLeft(e) ? T.left(e.left) : T.of(e.right)); }); });\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getIOValidation(S) {\n    var T = getValidationM(S, io);\n    return __assign(__assign({ _E: undefined }, ioEither), T);\n}\n/**\n * @since 2.1.0\n */\nexport function getFilterable(M) {\n    var F = E.getWitherable(M);\n    return __assign({ URI: URI, _E: undefined }, getFilterableComposition(io, F));\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var ioEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    fromIO: rightIO,\n    throwError: left\n};\nvar _a = pipeable(ioEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","/**\n * @example\n * import { io } from 'fp-ts/lib/IO'\n * import { newIORef } from 'fp-ts/lib/IORef'\n *\n * assert.strictEqual(io.chain(newIORef(1), ref => io.chain(ref.write(2), () => ref.read))(), 2)\n *\n * @since 2.0.0\n */\nvar IORef = /** @class */ (function () {\n    function IORef(value) {\n        var _this = this;\n        this.value = value;\n        this.read = function () { return _this.value; };\n        this.write = this.write.bind(this);\n        this.modify = this.modify.bind(this);\n    }\n    /**\n     * @since 2.0.0\n     */\n    IORef.prototype.write = function (a) {\n        var _this = this;\n        return function () {\n            _this.value = a;\n        };\n    };\n    /**\n     * @since 2.0.0\n     */\n    IORef.prototype.modify = function (f) {\n        var _this = this;\n        return function () {\n            _this.value = f(_this.value);\n        };\n    };\n    return IORef;\n}());\nexport { IORef };\n/**\n * @since 2.0.0\n */\nexport function newIORef(a) {\n    return function () { return new IORef(a); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isLeft } from './Either';\nimport { fromEquals } from './Eq';\nimport { isNone, isSome, none, option, some } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyMap';\n/**\n * @since 2.5.0\n */\nexport function fromMap(m) {\n    return new Map(m);\n}\n/**\n * @since 2.5.0\n */\nexport function toMap(m) {\n    return new Map(m);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(SK, SA) {\n    return {\n        show: function (m) {\n            var elements = '';\n            m.forEach(function (a, k) {\n                elements += \"[\" + SK.show(k) + \", \" + SA.show(a) + \"], \";\n            });\n            if (elements !== '') {\n                elements = elements.substring(0, elements.length - 2);\n            }\n            return \"new Map([\" + elements + \"])\";\n        }\n    };\n}\n/**\n * Calculate the number of key/value pairs in a map\n *\n * @since 2.5.0\n */\nexport function size(d) {\n    return d.size;\n}\n/**\n * Test whether or not a map is empty\n *\n * @since 2.5.0\n */\nexport function isEmpty(d) {\n    return d.size === 0;\n}\n/**\n * Test whether or not a key exists in a map\n *\n * @since 2.5.0\n */\nexport function member(E) {\n    var lookupE = lookup(E);\n    return function (k, m) { return isSome(lookupE(k, m)); };\n}\n/**\n * Test whether or not a value is a member of a map\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, m) {\n        var values = m.values();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var v = e.value;\n            if (E.equals(a, v)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * Get a sorted array of the keys contained in a map\n *\n * @since 2.5.0\n */\nexport function keys(O) {\n    return function (m) { return Array.from(m.keys()).sort(O.compare); };\n}\n/**\n * Get a sorted array of the values contained in a map\n *\n * @since 2.5.0\n */\nexport function values(O) {\n    return function (m) { return Array.from(m.values()).sort(O.compare); };\n}\n/**\n * @since 2.5.0\n */\nexport function collect(O) {\n    var keysO = keys(O);\n    return function (f) { return function (m) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        var ks = keysO(m);\n        for (var _i = 0, ks_1 = ks; _i < ks_1.length; _i++) {\n            var key = ks_1[_i];\n            out.push(f(key, m.get(key)));\n        }\n        return out;\n    }; };\n}\n/**\n * Get a sorted of the key/value pairs contained in a map\n *\n * @since 2.5.0\n */\nexport function toReadonlyArray(O) {\n    return collect(O)(function (k, a) { return [k, a]; });\n}\nexport function toUnfoldable(O, U) {\n    var toArrayO = toReadonlyArray(O);\n    return function (d) {\n        var arr = toArrayO(d);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? some([arr[b], b + 1]) : none); });\n    };\n}\n/**\n * Insert or replace a key/value pair in a map\n *\n * @since 2.5.0\n */\nexport function insertAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, a) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            var r = new Map(m);\n            r.set(k, a);\n            return r;\n        }\n        else if (found.value[1] !== a) {\n            var r = new Map(m);\n            r.set(found.value[0], a);\n            return r;\n        }\n        return m;\n    }; };\n}\n/**\n * Delete a key and value from a map\n *\n * @since 2.5.0\n */\nexport function deleteAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isSome(found)) {\n            var r = new Map(m);\n            r.delete(found.value[0]);\n            return r;\n        }\n        return m;\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, a) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            return none;\n        }\n        var r = new Map(m);\n        r.set(found.value[0], a);\n        return some(r);\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, f) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            return none;\n        }\n        var r = new Map(m);\n        r.set(found.value[0], f(found.value[1]));\n        return some(r);\n    }; };\n}\n/**\n * Delete a key and value from a map, returning the value as well as the subsequent map\n *\n * @since 2.5.0\n */\nexport function pop(E) {\n    var lookupE = lookup(E);\n    var deleteAtE = deleteAt(E);\n    return function (k) {\n        var deleteAtEk = deleteAtE(k);\n        return function (m) { return option.map(lookupE(k, m), function (a) { return [a, deleteAtEk(m)]; }); };\n    };\n}\n/**\n * Lookup the value for a key in a `Map`.\n * If the result is a `Some`, the existing key is also returned.\n *\n * @since 2.5.0\n */\nexport function lookupWithKey(E) {\n    return function (k, m) {\n        var entries = m.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, ka = _a[0], a = _a[1];\n            if (E.equals(ka, k)) {\n                return some([ka, a]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Lookup the value for a key in a `Map`.\n *\n * @since 2.5.0\n */\nexport function lookup(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, m) { return option.map(lookupWithKeyE(k, m), function (_a) {\n        var _ = _a[0], a = _a[1];\n        return a;\n    }); };\n}\n/**\n * Test whether or not one Map contains all of the keys and values contained in another Map\n *\n * @since 2.5.0\n */\nexport function isSubmap(SK, SA) {\n    var lookupWithKeyS = lookupWithKey(SK);\n    return function (d1, d2) {\n        var entries = d1.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], a = _a[1];\n            var d2OptA = lookupWithKeyS(k, d2);\n            if (isNone(d2OptA) || !SK.equals(k, d2OptA.value[0]) || !SA.equals(a, d2OptA.value[1])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var empty = new Map();\n/**\n * @since 2.5.0\n */\nexport function getEq(SK, SA) {\n    var isSubmap_ = isSubmap(SK, SA);\n    return fromEquals(function (x, y) { return isSubmap_(x, y) && isSubmap_(y, x); });\n}\n/**\n * Gets `Monoid` instance for Maps given `Semigroup` instance for their values\n *\n * @since 2.5.0\n */\nexport function getMonoid(SK, SA) {\n    var lookupWithKeyS = lookupWithKey(SK);\n    return {\n        concat: function (mx, my) {\n            if (mx === empty) {\n                return my;\n            }\n            if (my === empty) {\n                return mx;\n            }\n            var r = new Map(mx);\n            var entries = my.entries();\n            var e;\n            // tslint:disable-next-line: strict-boolean-expressions\n            while (!(e = entries.next()).done) {\n                var _a = e.value, k = _a[0], a = _a[1];\n                var mxOptA = lookupWithKeyS(k, mx);\n                if (isSome(mxOptA)) {\n                    r.set(mxOptA.value[0], SA.concat(mxOptA.value[1], a));\n                }\n                else {\n                    r.set(k, a);\n                }\n            }\n            return r;\n        },\n        empty: empty\n    };\n}\n/**\n * Create a map with one key/value pair\n *\n * @since 2.5.0\n */\nexport function singleton(k, a) {\n    return new Map([[k, a]]);\n}\nexport function fromFoldable(E, M, F) {\n    return function (fka) {\n        var lookupWithKeyE = lookupWithKey(E);\n        return F.reduce(fka, new Map(), function (b, _a) {\n            var k = _a[0], a = _a[1];\n            var bOpt = lookupWithKeyE(k, b);\n            if (isSome(bOpt)) {\n                b.set(bOpt.value[0], M.concat(bOpt.value[1], a));\n            }\n            else {\n                b.set(k, a);\n            }\n            return b;\n        });\n    };\n}\nvar _mapWithIndex = function (fa, f) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, key = _a[0], a = _a[1];\n        m.set(key, f(key, a));\n    }\n    return m;\n};\nvar _partitionMapWithIndex = function (fa, f) {\n    var left = new Map();\n    var right = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        var ei = f(k, a);\n        if (isLeft(ei)) {\n            left.set(k, ei.left);\n        }\n        else {\n            right.set(k, ei.right);\n        }\n    }\n    return {\n        left: left,\n        right: right\n    };\n};\nvar _partitionWithIndex = function (fa, p) {\n    var left = new Map();\n    var right = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        if (p(k, a)) {\n            right.set(k, a);\n        }\n        else {\n            left.set(k, a);\n        }\n    }\n    return {\n        left: left,\n        right: right\n    };\n};\nvar _filterMapWithIndex = function (fa, f) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        var o = f(k, a);\n        if (isSome(o)) {\n            m.set(k, o.value);\n        }\n    }\n    return m;\n};\nvar _filterWithIndex = function (fa, p) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        if (p(k, a)) {\n            m.set(k, a);\n        }\n    }\n    return m;\n};\n/**\n * @since 2.5.0\n */\nexport function getFilterableWithIndex() {\n    return __assign(__assign({}, readonlyMap), { _E: undefined, mapWithIndex: _mapWithIndex, partitionMapWithIndex: _partitionMapWithIndex, partitionWithIndex: _partitionWithIndex, filterMapWithIndex: _filterMapWithIndex, filterWithIndex: _filterWithIndex });\n}\n/**\n * @since 2.5.0\n */\nexport function getWitherable(O) {\n    var keysO = keys(O);\n    var reduceWithIndex = function (fa, b, f) {\n        var out = b;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = 0; i < len; i++) {\n            var k = ks[i];\n            out = f(k, out, fa.get(k));\n        }\n        return out;\n    };\n    var foldMapWithIndex = function (M) { return function (fa, f) {\n        var out = M.empty;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = 0; i < len; i++) {\n            var k = ks[i];\n            out = M.concat(out, f(k, fa.get(k)));\n        }\n        return out;\n    }; };\n    var reduceRightWithIndex = function (fa, b, f) {\n        var out = b;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = ks[i];\n            out = f(k, fa.get(k), out);\n        }\n        return out;\n    };\n    var traverseWithIndex = function (F) {\n        return function (ta, f) {\n            var fm = F.of(empty);\n            var entries = ta.entries();\n            var e;\n            var _loop_1 = function () {\n                var _a = e.value, key = _a[0], a = _a[1];\n                fm = F.ap(F.map(fm, function (m) { return function (b) { return new Map(m).set(key, b); }; }), f(key, a));\n            };\n            // tslint:disable-next-line: strict-boolean-expressions\n            while (!(e = entries.next()).done) {\n                _loop_1();\n            }\n            return fm;\n        };\n    };\n    var traverse = function (F) {\n        var traverseWithIndexF = traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    };\n    var sequence = function (F) {\n        var traverseWithIndexF = traverseWithIndex(F);\n        return function (ta) { return traverseWithIndexF(ta, function (_, a) { return a; }); };\n    };\n    return __assign(__assign({}, readonlyMap), { _E: undefined, reduce: function (fa, b, f) { return reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); }, foldMap: function (M) {\n            var foldMapWithIndexM = foldMapWithIndex(M);\n            return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n        }, reduceRight: function (fa, b, f) { return reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); }, traverse: traverse,\n        sequence: sequence, mapWithIndex: _mapWithIndex, reduceWithIndex: reduceWithIndex,\n        foldMapWithIndex: foldMapWithIndex,\n        reduceRightWithIndex: reduceRightWithIndex,\n        traverseWithIndex: traverseWithIndex, wilt: function (F) {\n            var traverseF = traverse(F);\n            return function (wa, f) { return F.map(traverseF(wa, f), readonlyMap.separate); };\n        }, wither: function (F) {\n            var traverseF = traverse(F);\n            return function (wa, f) { return F.map(traverseF(wa, f), readonlyMap.compact); };\n        } });\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyMap = {\n    URI: URI,\n    map: function (fa, f) { return _mapWithIndex(fa, function (_, a) { return f(a); }); },\n    compact: function (fa) {\n        var m = new Map();\n        var entries = fa.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], oa = _a[1];\n            if (isSome(oa)) {\n                m.set(k, oa.value);\n            }\n        }\n        return m;\n    },\n    separate: function (fa) {\n        var left = new Map();\n        var right = new Map();\n        var entries = fa.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], ei = _a[1];\n            if (isLeft(ei)) {\n                left.set(k, ei.left);\n            }\n            else {\n                right.set(k, ei.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, p) { return _filterWithIndex(fa, function (_, a) { return p(a); }); },\n    filterMap: function (fa, f) { return _filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return _partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return _partitionMapWithIndex(fa, function (_, a) { return f(a); }); }\n};\nvar _a = pipeable(readonlyMap), filter = _a.filter, filterMap = _a.filterMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","import { pipeable } from './pipeable';\nimport * as RM from './ReadonlyMap';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Map';\n/**\n * @since 2.0.0\n */\nexport var getShow = RM.getShow;\n/**\n * Calculate the number of key/value pairs in a map\n *\n * @since 2.0.0\n */\nexport var size = RM.size;\n/**\n * Test whether or not a map is empty\n *\n * @since 2.0.0\n */\nexport var isEmpty = RM.isEmpty;\n/**\n * Test whether or not a key exists in a map\n *\n * @since 2.0.0\n */\nexport var member = RM.member;\n/**\n * Test whether or not a value is a member of a map\n *\n * @since 2.0.0\n */\nexport var elem = RM.elem;\n/**\n * Get a sorted array of the keys contained in a map\n *\n * @since 2.0.0\n */\nexport var keys = RM.keys;\n/**\n * Get a sorted array of the values contained in a map\n *\n * @since 2.0.0\n */\nexport var values = RM.values;\n/**\n * @since 2.0.0\n */\nexport var collect = RM.collect;\n/**\n * Get a sorted of the key/value pairs contained in a map\n *\n * @since 2.0.0\n */\nexport var toArray = RM.toReadonlyArray;\nexport function toUnfoldable(O, U) {\n    return RM.toUnfoldable(O, U);\n}\n/**\n * Insert or replace a key/value pair in a map\n *\n * @since 2.0.0\n */\nexport var insertAt = RM.insertAt;\n/**\n * Delete a key and value from a map\n *\n * @since 2.0.0\n */\nexport var deleteAt = RM.deleteAt;\n/**\n * @since 2.0.0\n */\nexport var updateAt = RM.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RM.modifyAt;\n/**\n * Delete a key and value from a map, returning the value as well as the subsequent map\n *\n * @since 2.0.0\n */\nexport var pop = RM.pop;\n/**\n * Lookup the value for a key in a `Map`.\n * If the result is a `Some`, the existing key is also returned.\n *\n * @since 2.0.0\n */\nexport var lookupWithKey = RM.lookupWithKey;\n/**\n * Lookup the value for a key in a `Map`.\n *\n * @since 2.0.0\n */\nexport var lookup = RM.lookup;\n/**\n * Test whether or not one Map contains all of the keys and values contained in another Map\n *\n * @since 2.0.0\n */\nexport var isSubmap = RM.isSubmap;\n/**\n * @since 2.0.0\n */\nexport var empty = new Map();\n/**\n * @since 2.0.0\n */\nexport var getEq = RM.getEq;\n/**\n * Gets `Monoid` instance for Maps given `Semigroup` instance for their values\n *\n * @since 2.0.0\n */\nexport var getMonoid = RM.getMonoid;\n/**\n * Create a map with one key/value pair\n *\n * @since 2.0.0\n */\nexport var singleton = RM.singleton;\nexport function fromFoldable(E, M, F) {\n    return RM.fromFoldable(E, M, F);\n}\n/**\n * @since 2.0.0\n */\nexport var getFilterableWithIndex = RM.getFilterableWithIndex;\n/**\n * @since 2.0.0\n */\nexport var getWitherable = RM.getWitherable;\n/**\n * @since 2.0.0\n */\nexport var map_ = {\n    URI: URI,\n    map: RM.readonlyMap.map,\n    compact: RM.readonlyMap.compact,\n    separate: RM.readonlyMap.separate,\n    filter: RM.readonlyMap.filter,\n    filterMap: RM.readonlyMap.filterMap,\n    partition: RM.readonlyMap.partition,\n    partitionMap: RM.readonlyMap.partitionMap\n};\nvar _a = pipeable(map_), filter = _a.filter, filterMap = _a.filterMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","/**\n * @since 2.0.0\n */\nimport { identity } from './function';\nimport { max, min } from './Ord';\n/**\n * @since 2.0.0\n */\nexport function fold(S) {\n    return function (a, as) { return as.reduce(S.concat, a); };\n}\n/**\n * @since 2.0.0\n */\nexport function getFirstSemigroup() {\n    return { concat: identity };\n}\n/**\n * @since 2.0.0\n */\nexport function getLastSemigroup() {\n    return { concat: function (_, y) { return y; } };\n}\n/**\n * Given a tuple of semigroups returns a semigroup for the tuple\n *\n * @example\n * import { getTupleSemigroup, semigroupString, semigroupSum, semigroupAll } from 'fp-ts/lib/Semigroup'\n *\n * const S1 = getTupleSemigroup(semigroupString, semigroupSum)\n * assert.deepStrictEqual(S1.concat(['a', 1], ['b', 2]), ['ab', 3])\n *\n * const S2 = getTupleSemigroup(semigroupString, semigroupSum, semigroupAll)\n * assert.deepStrictEqual(S2.concat(['a', 1, true], ['b', 2, false]), ['ab', 3, false])\n *\n * @since 2.0.0\n */\nexport function getTupleSemigroup() {\n    var semigroups = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        semigroups[_i] = arguments[_i];\n    }\n    return {\n        concat: function (x, y) { return semigroups.map(function (s, i) { return s.concat(x[i], y[i]); }); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getDualSemigroup(S) {\n    return {\n        concat: function (x, y) { return S.concat(y, x); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getFunctionSemigroup(S) {\n    return function () { return ({\n        concat: function (f, g) { return function (a) { return S.concat(f(a), g(a)); }; }\n    }); };\n}\n/**\n * @since 2.0.0\n */\nexport function getStructSemigroup(semigroups) {\n    return {\n        concat: function (x, y) {\n            var r = {};\n            for (var _i = 0, _a = Object.keys(semigroups); _i < _a.length; _i++) {\n                var key = _a[_i];\n                r[key] = semigroups[key].concat(x[key], y[key]);\n            }\n            return r;\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMeetSemigroup(O) {\n    return {\n        concat: min(O)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getJoinSemigroup(O) {\n    return {\n        concat: max(O)\n    };\n}\n/**\n * Returns a `Semigroup` instance for objects preserving their type\n *\n * @example\n * import { getObjectSemigroup } from 'fp-ts/lib/Semigroup'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n *\n * const S = getObjectSemigroup<Person>()\n * assert.deepStrictEqual(S.concat({ name: 'name', age: 23 }, { name: 'name', age: 24 }), { name: 'name', age: 24 })\n *\n * @since 2.0.0\n */\nexport function getObjectSemigroup() {\n    return {\n        concat: function (x, y) { return Object.assign({}, x, y); }\n    };\n}\n/**\n * Boolean semigroup under conjunction\n * @since 2.0.0\n */\nexport var semigroupAll = {\n    concat: function (x, y) { return x && y; }\n};\n/**\n * Boolean semigroup under disjunction\n * @since 2.0.0\n */\nexport var semigroupAny = {\n    concat: function (x, y) { return x || y; }\n};\n/**\n * Number `Semigroup` under addition\n * @since 2.0.0\n */\nexport var semigroupSum = {\n    concat: function (x, y) { return x + y; }\n};\n/**\n * Number `Semigroup` under multiplication\n * @since 2.0.0\n */\nexport var semigroupProduct = {\n    concat: function (x, y) { return x * y; }\n};\n/**\n * @since 2.0.0\n */\nexport var semigroupString = {\n    concat: function (x, y) { return x + y; }\n};\n/**\n * @since 2.0.0\n */\nexport var semigroupVoid = {\n    concat: function () { return undefined; }\n};\n/**\n * You can glue items between and stay associative\n *\n * @example\n * import { getIntercalateSemigroup, semigroupString } from 'fp-ts/lib/Semigroup'\n *\n * const S = getIntercalateSemigroup(' ')(semigroupString)\n *\n * assert.strictEqual(S.concat('a', 'b'), 'a b')\n * assert.strictEqual(S.concat(S.concat('a', 'b'), 'c'), S.concat('a', S.concat('b', 'c')))\n *\n * @since 2.5.0\n */\nexport function getIntercalateSemigroup(a) {\n    return function (S) { return ({\n        concat: function (x, y) { return S.concat(x, S.concat(a, y)); }\n    }); };\n}\n","import { identity } from './function';\nimport { fold as foldSemigroup, getDualSemigroup, getFunctionSemigroup, getJoinSemigroup, getMeetSemigroup, getStructSemigroup, getTupleSemigroup, semigroupAll, semigroupAny, semigroupProduct, semigroupString, semigroupSum, semigroupVoid } from './Semigroup';\n/**\n * Boolean monoid under conjunction\n * @since 2.0.0\n */\nexport var monoidAll = {\n    concat: semigroupAll.concat,\n    empty: true\n};\n/**\n * Boolean monoid under disjunction\n * @since 2.0.0\n */\nexport var monoidAny = {\n    concat: semigroupAny.concat,\n    empty: false\n};\n/**\n * Number monoid under addition\n * @since 2.0.0\n */\nexport var monoidSum = {\n    concat: semigroupSum.concat,\n    empty: 0\n};\n/**\n * Number monoid under multiplication\n * @since 2.0.0\n */\nexport var monoidProduct = {\n    concat: semigroupProduct.concat,\n    empty: 1\n};\n/**\n * @since 2.0.0\n */\nexport var monoidString = {\n    concat: semigroupString.concat,\n    empty: ''\n};\n/**\n * @since 2.0.0\n */\nexport var monoidVoid = {\n    concat: semigroupVoid.concat,\n    empty: undefined\n};\n/**\n * @since 2.0.0\n */\nexport function fold(M) {\n    var foldM = foldSemigroup(M);\n    return function (as) { return foldM(M.empty, as); };\n}\n/**\n * Given a tuple of monoids returns a monoid for the tuple\n *\n * @example\n * import { getTupleMonoid, monoidString, monoidSum, monoidAll } from 'fp-ts/lib/Monoid'\n *\n * const M1 = getTupleMonoid(monoidString, monoidSum)\n * assert.deepStrictEqual(M1.concat(['a', 1], ['b', 2]), ['ab', 3])\n *\n * const M2 = getTupleMonoid(monoidString, monoidSum, monoidAll)\n * assert.deepStrictEqual(M2.concat(['a', 1, true], ['b', 2, false]), ['ab', 3, false])\n *\n * @since 2.0.0\n */\nexport function getTupleMonoid() {\n    var monoids = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        monoids[_i] = arguments[_i];\n    }\n    return {\n        concat: getTupleSemigroup.apply(void 0, monoids).concat,\n        empty: monoids.map(function (m) { return m.empty; })\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getDualMonoid(M) {\n    return {\n        concat: getDualSemigroup(M).concat,\n        empty: M.empty\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getFunctionMonoid(M) {\n    return function () { return ({\n        concat: getFunctionSemigroup(M)().concat,\n        empty: function () { return M.empty; }\n    }); };\n}\n/**\n * @since 2.0.0\n */\nexport function getEndomorphismMonoid() {\n    return {\n        concat: function (x, y) { return function (a) { return x(y(a)); }; },\n        empty: identity\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getStructMonoid(monoids) {\n    var empty = {};\n    for (var _i = 0, _a = Object.keys(monoids); _i < _a.length; _i++) {\n        var key = _a[_i];\n        empty[key] = monoids[key].empty;\n    }\n    return {\n        concat: getStructSemigroup(monoids).concat,\n        empty: empty\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMeetMonoid(B) {\n    return {\n        concat: getMeetSemigroup(B).concat,\n        empty: B.top\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getJoinMonoid(B) {\n    return {\n        concat: getJoinSemigroup(B).concat,\n        empty: B.bottom\n    };\n}\n","import { none, some } from './Option';\nimport { pipeable } from './pipeable';\nimport * as RA from './ReadonlyArray';\nimport { getJoinSemigroup, getMeetSemigroup } from './Semigroup';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyNonEmptyArray';\n/**\n * Append an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(cons(1, [2, 3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport var cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport var snoc = RA.snoc;\n/**\n * Builds a `ReadonlyNonEmptyArray` from an array returning `none` if `as` is an empty array\n *\n * @since 2.5.0\n */\nexport function fromReadonlyArray(as) {\n    return RA.isNonEmpty(as) ? some(as) : none;\n}\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function fromArray(as) {\n    return fromReadonlyArray(RA.fromArray(as));\n}\n/**\n * @since 2.5.0\n */\nexport var getShow = RA.getShow;\n/**\n * @since 2.5.0\n */\nexport function head(nea) {\n    return nea[0];\n}\n/**\n * @since 2.5.0\n */\nexport function tail(nea) {\n    return nea.slice(1);\n}\n/**\n * @since 2.5.0\n */\nexport var reverse = RA.reverse;\n/**\n * @since 2.5.0\n */\nexport function min(ord) {\n    var S = getMeetSemigroup(ord);\n    return function (nea) { return nea.reduce(S.concat); };\n}\n/**\n * @since 2.5.0\n */\nexport function max(ord) {\n    var S = getJoinSemigroup(ord);\n    return function (nea) { return nea.reduce(S.concat); };\n}\n/**\n * Builds a `Semigroup` instance for `ReadonlyNonEmptyArray`\n *\n * @since 2.5.0\n */\nexport function getSemigroup() {\n    return {\n        concat: concat\n    };\n}\n/**\n * @example\n * import { getEq, cons } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 2]), true)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 3]), false)\n *\n * @since 2.5.0\n */\nexport var getEq = RA.getEq;\nexport function group(E) {\n    return function (as) {\n        var len = as.length;\n        if (len === 0) {\n            return RA.empty;\n        }\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var head = as[0];\n        var nea = [head];\n        for (var i = 1; i < len; i++) {\n            var x = as[i];\n            if (E.equals(x, head)) {\n                nea.push(x);\n            }\n            else {\n                r.push(nea);\n                head = x;\n                nea = [head];\n            }\n        }\n        r.push(nea);\n        return r;\n    };\n}\n/**\n * Sort and then group the elements of an array into non empty arrays.\n *\n * @example\n * import { cons, groupSort } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(groupSort(ordNumber)([1, 2, 1, 1]), [cons(1, [1, 1]), cons(2, [])])\n *\n * @since 2.5.0\n */\nexport function groupSort(O) {\n    var sortO = RA.sort(O);\n    var groupO = group(O);\n    return function (as) { return groupO(sortO(as)); };\n}\n/**\n * Splits an array into sub-non-empty-arrays stored in an object, based on the result of calling a `string`-returning\n * function on each element, and grouping the results according to values returned\n *\n * @example\n * import { cons, groupBy } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(groupBy((s: string) => String(s.length))(['foo', 'bar', 'foobar']), {\n *   '3': cons('foo', ['bar']),\n *   '6': cons('foobar', [])\n * })\n *\n * @since 2.5.0\n */\nexport function groupBy(f) {\n    return function (as) {\n        var r = {};\n        for (var _i = 0, as_1 = as; _i < as_1.length; _i++) {\n            var a = as_1[_i];\n            var k = f(a);\n            if (r.hasOwnProperty(k)) {\n                r[k].push(a);\n            }\n            else {\n                r[k] = [a];\n            }\n        }\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function last(nea) {\n    return nea[nea.length - 1];\n}\n/**\n * Get all but the last element of a non empty array, creating a new array.\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), [1, 2])\n * assert.deepStrictEqual(init([1]), [])\n *\n * @since 2.5.0\n */\nexport function init(nea) {\n    return nea.slice(0, -1);\n}\n/**\n * @since 2.5.0\n */\nexport function sort(O) {\n    return RA.sort(O);\n}\n/**\n * @since 2.5.0\n */\nexport function insertAt(i, a) {\n    return RA.insertAt(i, a);\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(i, a) {\n    return RA.updateAt(i, a);\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(i, f) {\n    return RA.modifyAt(i, f);\n}\nexport function filter(predicate) {\n    return filterWithIndex(function (_, a) { return predicate(a); });\n}\n/**\n * @since 2.5.0\n */\nexport function filterWithIndex(predicate) {\n    return function (nea) { return fromReadonlyArray(nea.filter(function (a, i) { return predicate(i, a); })); };\n}\n/**\n * @since 2.5.0\n */\nexport var of = RA.of;\nexport function concat(fx, fy) {\n    return fx.concat(fy);\n}\n/**\n * @since 2.5.0\n */\nexport function fold(S) {\n    return function (fa) { return fa.reduce(S.concat); };\n}\n/**\n * @since 2.5.1\n */\nexport var zipWith = RA.zipWith;\n/**\n * @since 2.5.1\n */\nexport var zip = RA.zip;\n/**\n * @since 2.5.1\n */\nexport var unzip = RA.unzip;\n/**\n * @since 2.5.0\n */\nexport var readonlyNonEmptyArray = {\n    URI: URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    of: of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    extend: RA.readonlyArray.extend,\n    extract: head,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    alt: function (fx, fy) { return concat(fx, fy()); }\n};\nvar _a = pipeable(readonlyNonEmptyArray), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, map = _a.map, mapWithIndex = _a.mapWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex;\nvar foldMapWithIndex = function (S) { return function (f) { return function (fa) {\n    return fa.slice(1).reduce(function (s, a, i) { return S.concat(s, f(i + 1, a)); }, f(0, fa[0]));\n}; }; };\nvar foldMap = function (S) { return function (f) { return function (fa) {\n    return fa.slice(1).reduce(function (s, a) { return S.concat(s, f(a)); }, f(fa[0]));\n}; }; };\nexport { \n/**\n * @since 2.5.0\n */\nap, \n/**\n * @since 2.5.0\n */\napFirst, \n/**\n * @since 2.5.0\n */\napSecond, \n/**\n * @since 2.5.0\n */\nchain, \n/**\n * @since 2.5.0\n */\nchainFirst, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nflatten, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapWithIndex, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.5.0\n */\nreduceWithIndex };\n","import { pipeable } from './pipeable';\nimport * as RNEA from './ReadonlyNonEmptyArray';\n/**\n * @since 2.0.0\n */\nexport var URI = 'NonEmptyArray';\n/* tslint:enable:readonly-keyword */\n/**\n * Append an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(cons(1, [2, 3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var cons = RNEA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var snoc = RNEA.snoc;\n/**\n * Builds a `NonEmptyArray` from an `Array` returning `none` if `as` is an empty array\n *\n * @since 2.0.0\n */\nexport var fromArray = RNEA.fromArray;\n/**\n * @since 2.0.0\n */\nexport var getShow = RNEA.getShow;\n/**\n * @since 2.0.0\n */\nexport var head = RNEA.head;\n/**\n * @since 2.0.0\n */\nexport var tail = RNEA.tail;\n/**\n * @since 2.0.0\n */\nexport var reverse = RNEA.reverse;\n/**\n * @since 2.0.0\n */\nexport var min = RNEA.min;\n/**\n * @since 2.0.0\n */\nexport var max = RNEA.max;\n/**\n * Builds a `Semigroup` instance for `NonEmptyArray`\n *\n * @since 2.0.0\n */\nexport var getSemigroup = RNEA.getSemigroup;\n/**\n * @example\n * import { getEq, cons } from 'fp-ts/lib/NonEmptyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 2]), true)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 3]), false)\n *\n * @since 2.0.0\n */\nexport var getEq = RNEA.getEq;\nexport function group(E) {\n    return RNEA.group(E);\n}\n/**\n * Sort and then group the elements of an array into non empty arrays.\n *\n * @example\n * import { cons, groupSort } from 'fp-ts/lib/NonEmptyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(groupSort(ordNumber)([1, 2, 1, 1]), [cons(1, [1, 1]), cons(2, [])])\n *\n * @since 2.0.0\n */\nexport var groupSort = RNEA.groupSort;\n/**\n * Splits an array into sub-non-empty-arrays stored in an object, based on the result of calling a `string`-returning\n * function on each element, and grouping the results according to values returned\n *\n * @example\n * import { cons, groupBy } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(groupBy((s: string) => String(s.length))(['foo', 'bar', 'foobar']), {\n *   '3': cons('foo', ['bar']),\n *   '6': cons('foobar', [])\n * })\n *\n * @since 2.0.0\n */\nexport var groupBy = RNEA.groupBy;\n/**\n * @since 2.0.0\n */\nexport var last = RNEA.last;\n/**\n * Get all but the last element of a non empty array, creating a new array.\n *\n * @example\n * import { init } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), [1, 2])\n * assert.deepStrictEqual(init([1]), [])\n *\n * @since 2.2.0\n */\nexport var init = RNEA.init;\n/**\n * @since 2.0.0\n */\nexport var sort = RNEA.sort;\n/**\n * @since 2.0.0\n */\nexport var insertAt = RNEA.insertAt;\n/**\n * @since 2.0.0\n */\nexport var updateAt = RNEA.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RNEA.modifyAt;\n/**\n * @since 2.0.0\n */\nexport function copy(nea) {\n    var l = nea.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = nea[i];\n    }\n    return as;\n}\nexport function filter(predicate) {\n    return RNEA.filter(predicate);\n}\n/**\n * @since 2.0.0\n */\nexport var filterWithIndex = RNEA.filterWithIndex;\n/**\n * @since 2.0.0\n */\nexport var of = RNEA.of;\nexport function concat(fx, fy) {\n    return RNEA.concat(fx, fy);\n}\n/**\n * @since 2.5.0\n */\nexport var fold = RNEA.fold;\n/**\n * @since 2.5.1\n */\nexport var zipWith = RNEA.zipWith;\n/**\n * @since 2.5.1\n */\nexport var zip = RNEA.zip;\n/**\n * @since 2.5.1\n */\nexport var unzip = RNEA.unzip;\n/**\n * @since 2.0.0\n */\nexport var nonEmptyArray = {\n    URI: URI,\n    map: RNEA.readonlyNonEmptyArray.map,\n    mapWithIndex: RNEA.readonlyNonEmptyArray.mapWithIndex,\n    of: of,\n    ap: RNEA.readonlyNonEmptyArray.ap,\n    chain: RNEA.readonlyNonEmptyArray.chain,\n    extend: RNEA.readonlyNonEmptyArray.extend,\n    extract: head,\n    reduce: RNEA.readonlyNonEmptyArray.reduce,\n    foldMap: RNEA.readonlyNonEmptyArray.foldMap,\n    reduceRight: RNEA.readonlyNonEmptyArray.reduceRight,\n    traverse: RNEA.readonlyNonEmptyArray.traverse,\n    sequence: RNEA.readonlyNonEmptyArray.sequence,\n    reduceWithIndex: RNEA.readonlyNonEmptyArray.reduceWithIndex,\n    foldMapWithIndex: RNEA.readonlyNonEmptyArray.foldMapWithIndex,\n    reduceRightWithIndex: RNEA.readonlyNonEmptyArray.reduceRightWithIndex,\n    traverseWithIndex: RNEA.readonlyNonEmptyArray.traverseWithIndex,\n    alt: RNEA.readonlyNonEmptyArray.alt\n};\nvar _a = pipeable(nonEmptyArray), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, map = _a.map, mapWithIndex = _a.mapWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex;\nvar foldMapWithIndex = RNEA.foldMapWithIndex;\nvar foldMap = RNEA.foldMap;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapWithIndex, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.0.0\n */\nreduceWithIndex };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { fold, none, option, some } from './Option';\nexport function getOptionM(M) {\n    var A = getApplicativeComposition(M, option);\n    var fnone = M.of(none);\n    return __assign(__assign({}, A), { chain: function (ma, f) {\n            return M.chain(ma, fold(function () { return fnone; }, f));\n        }, alt: function (fx, fy) {\n            return M.chain(fx, fold(fy, function (a) { return M.of(some(a)); }));\n        }, fold: function (ma, onNone, onSome) { return M.chain(ma, fold(onNone, onSome)); }, getOrElse: function (ma, onNone) { return M.chain(ma, fold(onNone, M.of)); }, fromM: function (ma) { return M.map(ma, some); }, none: function () { return fnone; } });\n}\n","/**\n * @since 2.0.0\n */\nimport { io } from './IO';\n/**\n * Returns a random number between 0 (inclusive) and 1 (exclusive). This is a direct wrapper around JavaScript's\n * `Math.random()`.\n *\n * @since 2.0.0\n */\nexport var random = function () { return Math.random(); };\n/**\n * Takes a range specified by `low` (the first argument) and `high` (the second), and returns a random integer uniformly\n * distributed in the closed interval `[low, high]`. It is unspecified what happens if `low > high`, or if either of\n * `low` or `high` is not an integer.\n *\n * @since 2.0.0\n */\nexport function randomInt(low, high) {\n    return io.map(random, function (n) { return Math.floor((high - low + 1) * n + low); });\n}\n/**\n * Returns a random number between a minimum value (inclusive) and a maximum value (exclusive). It is unspecified what\n * happens if `maximum < minimum`.\n *\n * @since 2.0.0\n */\nexport function randomRange(min, max) {\n    return io.map(random, function (n) { return (max - min) * n + min; });\n}\n/**\n * Returns a random boolean value with an equal chance of being `true` or `false`\n *\n * @since 2.0.0\n */\nexport var randomBool = io.map(random, function (n) { return n < 0.5; });\n","export function getReaderM(M) {\n    return {\n        map: function (ma, f) { return function (r) { return M.map(ma(r), f); }; },\n        of: function (a) { return function () { return M.of(a); }; },\n        ap: function (mab, ma) { return function (r) { return M.ap(mab(r), ma(r)); }; },\n        chain: function (ma, f) { return function (r) { return M.chain(ma(r), function (a) { return f(a)(r); }); }; },\n        ask: function () { return M.of; },\n        asks: function (f) { return function (r) { return M.map(M.of(r), f); }; },\n        local: function (ma, f) { return function (q) { return ma(f(q)); }; },\n        fromReader: function (ma) { return function (r) { return M.of(ma(r)); }; },\n        fromM: function (ma) { return function () { return ma; }; }\n    };\n}\n","import * as E from './Either';\nimport { identity as id } from './function';\nimport { identity } from './Identity';\nimport { getReaderM } from './ReaderT';\nimport { pipeable } from './pipeable';\nvar T = getReaderM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'Reader';\n/**\n * Reads the current context\n *\n * @since 2.0.0\n */\nexport var ask = T.ask;\n/**\n * Projects a value from the global context in a Reader\n *\n * @since 2.0.0\n */\nexport var asks = T.asks;\n/**\n * Changes the value of the local context during the execution of the action `ma` (similar to `Contravariant`'s\n * `contramap`).\n *\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function (e) { return S.concat(x(e), y(e)); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: function () { return M.empty; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var of = T.of;\n/**\n * @since 2.0.0\n */\nexport var reader = {\n    URI: URI,\n    map: function (ma, f) { return function (e) { return f(ma(e)); }; },\n    of: of,\n    ap: T.ap,\n    chain: T.chain,\n    promap: function (mbc, f, g) { return function (a) { return g(mbc(f(a))); }; },\n    compose: function (ab, la) { return function (l) { return ab(la(l)); }; },\n    id: function () { return id; },\n    first: function (pab) { return function (_a) {\n        var a = _a[0], c = _a[1];\n        return [pab(a), c];\n    }; },\n    second: function (pbc) { return function (_a) {\n        var a = _a[0], b = _a[1];\n        return [a, pbc(b)];\n    }; },\n    left: function (pab) {\n        return E.fold(function (a) { return E.left(pab(a)); }, E.right);\n    },\n    right: function (pbc) {\n        return E.fold(E.left, function (b) { return E.right(pbc(b)); });\n    }\n};\nvar _a = pipeable(reader), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, compose = _a.compose, flatten = _a.flatten, map = _a.map, promap = _a.promap;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\ncompose, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npromap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup, reader } from './Reader';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(reader);\n/**\n * @since 2.0.0\n */\nexport var URI = 'ReaderEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport var rightReader = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftReader = T.leftM;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getReaderSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function ask() {\n    return E.right;\n}\n/**\n * @since 2.0.0\n */\nexport function asks(f) {\n    return function (r) { return E.right(f(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return function (q) { return ma(f(q)); }; };\n}\n/**\n * @since 2.3.0\n */\nexport function getReaderValidation(S) {\n    var T = getValidationM(S, reader);\n    return __assign(__assign({ _E: undefined }, readerEither), T);\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var readerEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    throwError: left\n};\nvar _a = pipeable(readerEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Task';\n/**\n * @since 2.0.0\n */\nexport var never = function () { return new Promise(function (_) { return undefined; }); };\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function () { return x().then(function (rx) { return y().then(function (ry) { return S.concat(rx, ry); }); }); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: task.of(M.empty)\n    };\n}\n/**\n * Note: uses `Promise.race` internally\n *\n * @since 2.0.0\n */\nexport function getRaceMonoid() {\n    return {\n        concat: function (x, y) { return function () { return Promise.race([x(), y()]); }; },\n        empty: never\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function delay(millis) {\n    return function (ma) { return function () {\n        return new Promise(function (resolve) {\n            setTimeout(function () {\n                // tslint:disable-next-line: no-floating-promises\n                ma().then(resolve);\n            }, millis);\n        });\n    }; };\n}\n/**\n * @since 2.0.0\n */\nexport function fromIO(ma) {\n    return function () { return Promise.resolve(ma()); };\n}\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexport function of(a) {\n    return function () { return Promise.resolve(a); };\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIO(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOK(f) {\n    return chain(fromIOK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var task = {\n    URI: URI,\n    map: function (ma, f) { return function () { return ma().then(f); }; },\n    of: of,\n    ap: function (mab, ma) { return function () { return Promise.all([mab(), ma()]).then(function (_a) {\n        var f = _a[0], a = _a[1];\n        return f(a);\n    }); }; },\n    chain: function (ma, f) { return function () { return ma().then(function (a) { return f(a)(); }); }; },\n    fromIO: fromIO,\n    fromTask: identity\n};\n/**\n * Like `Task` but `ap` is sequential\n *\n * @since 2.0.0\n */\nexport var taskSeq = __assign(__assign({}, task), { ap: function (mab, ma) { return function () { return mab().then(function (f) { return ma().then(function (a) { return f(a); }); }); }; } });\nvar _a = pipeable(task), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup } from './Reader';\nimport { getReaderM } from './ReaderT';\nimport * as TA from './Task';\nvar T = getReaderM(TA.task);\n/**\n * @since 2.3.0\n */\nexport var URI = 'ReaderTask';\n/**\n * @since 2.4.0\n */\nexport function run(ma, r) {\n    return ma(r)();\n}\n/**\n * @since 2.3.0\n */\nexport var fromTask = T.fromM;\n/**\n * @since 2.3.0\n */\nexport var fromReader = T.fromReader;\n/**\n * @since 2.3.0\n */\nexport function fromIO(ma) {\n    return fromTask(TA.fromIO(ma));\n}\n/**\n * @since 2.3.0\n */\nexport var of = T.of;\n/**\n * @since 2.3.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(TA.getSemigroup(S));\n}\n/**\n * @since 2.3.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: of(M.empty)\n    };\n}\n/**\n * @since 2.3.0\n */\nexport var ask = T.ask;\n/**\n * @since 2.3.0\n */\nexport var asks = T.asks;\n/**\n * @since 2.3.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIO(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOK(f) {\n    return chain(fromIOK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTask(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskK(f) {\n    return chain(fromTaskK(f));\n}\n/**\n * @since 2.3.0\n */\nexport var readerTask = {\n    URI: URI,\n    map: T.map,\n    of: of,\n    ap: T.ap,\n    chain: T.chain,\n    fromIO: fromIO,\n    fromTask: fromTask\n};\n/**\n * Like `readerTask` but `ap` is sequential\n * @since 2.3.0\n */\nexport var readerTaskSeq = __assign(__assign({}, readerTask), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(readerTask), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.3.0\n */\nap, \n/**\n * @since 2.3.0\n */\napFirst, \n/**\n * @since 2.3.0\n */\napSecond, \n/**\n * @since 2.3.0\n */\nchain, \n/**\n * @since 2.3.0\n */\nchainFirst, \n/**\n * @since 2.3.0\n */\nflatten, \n/**\n * @since 2.3.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { getFilterableComposition } from './Filterable';\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getTaskSemigroup, task } from './Task';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(task);\n/**\n * @since 2.0.0\n */\nexport var URI = 'TaskEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return rightTask(task.fromIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return leftTask(task.fromIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport var rightTask = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftTask = T.leftM;\n/**\n * @since 2.0.0\n */\nexport var fromIOEither = task.fromIO;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getTaskSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getTaskSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * Transforms a `Promise` that may reject to a `Promise` that never rejects and returns an `Either` instead.\n *\n * Note: `f` should never `throw` errors, they are not caught.\n *\n * @example\n * import { left, right } from 'fp-ts/lib/Either'\n * import { tryCatch } from 'fp-ts/lib/TaskEither'\n *\n * tryCatch(() => Promise.resolve(1), String)().then(result => {\n *   assert.deepStrictEqual(result, right(1))\n * })\n * tryCatch(() => Promise.reject('error'), String)().then(result => {\n *   assert.deepStrictEqual(result, left('error'))\n * })\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onRejected) {\n    return function () { return f().then(E.right, function (reason) { return E.left(onRejected(reason)); }); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.0\n */\nexport function bracket(acquire, use, release) {\n    return T.chain(acquire, function (a) {\n        return T.chain(task.map(use(a), E.right), function (e) {\n            return T.chain(release(a, e), function () { return (E.isLeft(e) ? T.left(e.left) : T.of(e.right)); });\n        });\n    });\n}\nexport function taskify(f) {\n    return function () {\n        var args = Array.prototype.slice.call(arguments);\n        return function () {\n            return new Promise(function (resolve) {\n                var cbResolver = function (e, r) { return (e != null ? resolve(E.left(e)) : resolve(E.right(r))); };\n                f.apply(null, args.concat(cbResolver));\n            });\n        };\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getTaskValidation(S) {\n    var T = getValidationM(S, task);\n    return __assign(__assign({ _E: undefined }, taskEither), T);\n}\n/**\n * @since 2.1.0\n */\nexport function getFilterable(M) {\n    var F = E.getWitherable(M);\n    return __assign({ URI: URI, _E: undefined }, getFilterableComposition(task, F));\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * Converts a function returning a `Promise` to one returning a `TaskEither`.\n *\n * @since 2.5.0\n */\nexport function tryCatchK(f, onRejected) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return tryCatch(function () { return f.apply(void 0, a); }, onRejected);\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var taskEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: T.of,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `TaskEither` but `ap` is sequential\n *\n * @since 2.0.0\n */\nexport var taskEitherSeq = __assign(__assign({}, taskEither), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(taskEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipe, pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup } from './Reader';\nimport { getReaderM } from './ReaderT';\nimport { readerTask } from './ReaderTask';\nimport * as TE from './TaskEither';\nimport { getValidationM } from './ValidationT';\nvar T = getReaderM(TE.taskEither);\n/**\n * @since 2.0.0\n */\nexport var URI = 'ReaderTaskEither';\n/**\n * @since 2.0.0\n */\nexport function run(ma, r) {\n    return ma(r)();\n}\n/**\n * @since 2.0.0\n */\nexport function left(e) {\n    return fromTaskEither(TE.left(e));\n}\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightTask(ma) {\n    return fromTaskEither(TE.rightTask(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftTask(me) {\n    return fromTaskEither(TE.leftTask(me));\n}\n/**\n * @since 2.0.0\n */\nexport var fromTaskEither = T.fromM;\n/**\n * @since 2.0.0\n */\nexport var rightReader = T.fromReader;\n/**\n * @since 2.5.0\n */\nexport function leftReaderTask(me) {\n    return function (r) { return TE.leftTask(me(r)); };\n}\n/**\n * @since 2.5.0\n */\nexport function rightReaderTask(ma) {\n    return function (r) { return TE.rightTask(ma(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function leftReader(me) {\n    return function (r) { return TE.left(me(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function fromIOEither(ma) {\n    return fromTaskEither(TE.fromIOEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function fromReaderEither(ma) {\n    return function (r) { return TE.fromEither(ma(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return fromTaskEither(TE.rightIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return fromTaskEither(TE.leftIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return function (r) {\n        return pipe(ma(r), TE.fold(function (e) { return onLeft(e)(r); }, function (a) { return onRight(a)(r); }));\n    }; };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return function (r) { return TE.getOrElse(function (e) { return onLeft(e)(r); })(ma(r)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return function (r) { return TE.orElse(function (e) { return onLeft(e)(r); })(ma(r)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function swap(ma) {\n    return function (e) { return TE.swap(ma(e)); };\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(TE.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getReaderSemigroup(TE.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var ask = T.ask;\n/**\n * @since 2.0.0\n */\nexport var asks = T.asks;\n/**\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.4\n */\nexport function bracket(aquire, use, release) {\n    return function (r) {\n        return TE.bracket(aquire(r), function (a) { return use(a)(r); }, function (a, e) { return release(a, e)(r); });\n    };\n}\n/**\n * @since 2.3.0\n */\nexport function getReaderTaskValidation(S) {\n    var T = getValidationM(S, readerTask);\n    return __assign(__assign({ _E: undefined }, readerTaskEither), T);\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskEitherK(f) {\n    return chain(fromTaskEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var readerTaskEither = {\n    URI: URI,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: function (fx, fy) { return function (r) { return TE.taskEither.alt(fx(r), function () { return fy()(r); }); }; },\n    bimap: function (ma, f, g) { return function (e) { return TE.taskEither.bimap(ma(e), f, g); }; },\n    mapLeft: function (ma, f) { return function (e) { return TE.taskEither.mapLeft(ma(e), f); }; },\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `readerTaskEither` but `ap` is sequential\n * @since 2.0.0\n */\nexport var readerTaskEitherSeq = __assign(__assign({}, readerTaskEither), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(readerTaskEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromOption = _a.fromOption, fromEither = _a.fromEither, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","import { fromEquals } from './Eq';\nimport { not, identity } from './function';\n/**\n * @since 2.5.0\n */\nexport function fromSet(s) {\n    return new Set(s);\n}\n/**\n * @since 2.5.0\n */\nexport function toSet(s) {\n    return new Set(s);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (s) {\n            var elements = '';\n            s.forEach(function (a) {\n                elements += S.show(a) + ', ';\n            });\n            if (elements !== '') {\n                elements = elements.substring(0, elements.length - 2);\n            }\n            return \"new Set([\" + elements + \"])\";\n        }\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var empty = new Set();\n/**\n * @since 2.5.0\n */\nexport function toReadonlyArray(O) {\n    return function (x) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        x.forEach(function (e) { return r.push(e); });\n        return r.sort(O.compare);\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function getEq(E) {\n    var subsetE = isSubset(E);\n    return fromEquals(function (x, y) { return subsetE(x, y) && subsetE(y, x); });\n}\n/**\n * @since 2.5.0\n */\nexport function some(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var found = false;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!found && !(e = values.next()).done) {\n            found = predicate(e.value);\n        }\n        return found;\n    };\n}\n/**\n * Projects a Set through a function\n *\n * @since 2.5.0\n */\nexport function map(E) {\n    var elemE = elem(E);\n    return function (f) { return function (set) {\n        var r = new Set();\n        set.forEach(function (e) {\n            var v = f(e);\n            if (!elemE(v, r)) {\n                r.add(v);\n            }\n        });\n        return r;\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function every(predicate) {\n    return not(some(not(predicate)));\n}\n/**\n * @since 2.5.0\n */\nexport function chain(E) {\n    var elemE = elem(E);\n    return function (f) { return function (set) {\n        var r = new Set();\n        set.forEach(function (e) {\n            f(e).forEach(function (e) {\n                if (!elemE(e, r)) {\n                    r.add(e);\n                }\n            });\n        });\n        return r;\n    }; };\n}\n/**\n * `true` if and only if every element in the first set is an element of the second set\n *\n * @since 2.5.0\n */\nexport function isSubset(E) {\n    var elemE = elem(E);\n    return function (x, y) { return every(function (a) { return elemE(a, y); })(x); };\n}\nexport function filter(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var r = new Set();\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var value = e.value;\n            if (predicate(value)) {\n                r.add(value);\n            }\n        }\n        return r;\n    };\n}\nexport function partition(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var right = new Set();\n        var left = new Set();\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var value = e.value;\n            if (predicate(value)) {\n                right.add(value);\n            }\n            else {\n                left.add(value);\n            }\n        }\n        return { left: left, right: right };\n    };\n}\n/**\n * Test if a value is a member of a set\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, set) {\n        var values = set.values();\n        var e;\n        var found = false;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!found && !(e = values.next()).done) {\n            found = E.equals(a, e.value);\n        }\n        return found;\n    };\n}\n/**\n * Form the union of two sets\n *\n * @since 2.5.0\n */\nexport function union(E) {\n    var elemE = elem(E);\n    return function (x, y) {\n        if (x === empty) {\n            return y;\n        }\n        if (y === empty) {\n            return x;\n        }\n        var r = new Set(x);\n        y.forEach(function (e) {\n            if (!elemE(e, r)) {\n                r.add(e);\n            }\n        });\n        return r;\n    };\n}\n/**\n * The set of elements which are in both the first and second set\n *\n * @since 2.5.0\n */\nexport function intersection(E) {\n    var elemE = elem(E);\n    return function (x, y) {\n        if (x === empty || y === empty) {\n            return empty;\n        }\n        var r = new Set();\n        x.forEach(function (e) {\n            if (elemE(e, y)) {\n                r.add(e);\n            }\n        });\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function partitionMap(EB, EC) {\n    return function (f) { return function (set) {\n        var values = set.values();\n        var e;\n        var left = new Set();\n        var right = new Set();\n        var hasB = elem(EB);\n        var hasC = elem(EC);\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var v = f(e.value);\n            switch (v._tag) {\n                case 'Left':\n                    if (!hasB(v.left, left)) {\n                        left.add(v.left);\n                    }\n                    break;\n                case 'Right':\n                    if (!hasC(v.right, right)) {\n                        right.add(v.right);\n                    }\n                    break;\n            }\n        }\n        return { left: left, right: right };\n    }; };\n}\n/**\n * Form the set difference (`x` - `y`)\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlySet'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)(new Set([1, 2]), new Set([1, 3])), new Set([2]))\n *\n *\n * @since 2.5.0\n */\nexport function difference(E) {\n    var elemE = elem(E);\n    return function (x, y) { return filter(function (a) { return !elemE(a, y); })(x); };\n}\n/**\n * @since 2.5.0\n */\nexport function getUnionMonoid(E) {\n    return {\n        concat: union(E),\n        empty: empty\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function getIntersectionSemigroup(E) {\n    return {\n        concat: intersection(E)\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function reduce(O) {\n    var toArrayO = toReadonlyArray(O);\n    return function (b, f) { return function (fa) { return toArrayO(fa).reduce(f, b); }; };\n}\n/**\n * @since 2.5.0\n */\nexport function foldMap(O, M) {\n    var toArrayO = toReadonlyArray(O);\n    return function (f) { return function (fa) { return toArrayO(fa).reduce(function (b, a) { return M.concat(b, f(a)); }, M.empty); }; };\n}\n/**\n * Create a set with one element\n *\n * @since 2.5.0\n */\nexport function singleton(a) {\n    return new Set([a]);\n}\n/**\n * Insert a value into a set\n *\n * @since 2.5.0\n */\nexport function insert(E) {\n    var elemE = elem(E);\n    return function (a) { return function (set) {\n        if (!elemE(a, set)) {\n            var r = new Set(set);\n            r.add(a);\n            return r;\n        }\n        else {\n            return set;\n        }\n    }; };\n}\n/**\n * Delete a value from a set\n *\n * @since 2.5.0\n */\nexport function remove(E) {\n    return function (a) { return function (set) { return filter(function (ax) { return !E.equals(a, ax); })(set); }; };\n}\n/**\n * Create a set from an array\n *\n * @since 2.5.0\n */\nexport function fromArray(E) {\n    return function (as) {\n        var len = as.length;\n        var r = new Set();\n        var has = elem(E);\n        for (var i = 0; i < len; i++) {\n            var a = as[i];\n            if (!has(a, r)) {\n                r.add(a);\n            }\n        }\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function compact(E) {\n    return filterMap(E)(identity);\n}\n/**\n * @since 2.5.0\n */\nexport function separate(EE, EA) {\n    return function (fa) {\n        var elemEE = elem(EE);\n        var elemEA = elem(EA);\n        var left = new Set();\n        var right = new Set();\n        fa.forEach(function (e) {\n            switch (e._tag) {\n                case 'Left':\n                    if (!elemEE(e.left, left)) {\n                        left.add(e.left);\n                    }\n                    break;\n                case 'Right':\n                    if (!elemEA(e.right, right)) {\n                        right.add(e.right);\n                    }\n                    break;\n            }\n        });\n        return { left: left, right: right };\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function filterMap(E) {\n    var elemE = elem(E);\n    return function (f) { return function (fa) {\n        var r = new Set();\n        fa.forEach(function (a) {\n            var ob = f(a);\n            if (ob._tag === 'Some' && !elemE(ob.value, r)) {\n                r.add(ob.value);\n            }\n        });\n        return r;\n    }; };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyTuple';\n/**\n * @since 2.5.0\n */\nexport function fst(sa) {\n    return sa[0];\n}\n/**\n * @since 2.5.0\n */\nexport function snd(sa) {\n    return sa[1];\n}\n/**\n * @since 2.5.0\n */\nexport function swap(sa) {\n    return [snd(sa), fst(sa)];\n}\n/**\n * @since 2.5.0\n */\nexport function getApply(S) {\n    return {\n        URI: URI,\n        _E: undefined,\n        map: readonlyTuple.map,\n        ap: function (fab, fa) { return [fst(fab)(fst(fa)), S.concat(snd(fab), snd(fa))]; }\n    };\n}\nvar of = function (M) { return function (a) {\n    return [a, M.empty];\n}; };\n/**\n * @since 2.5.0\n */\nexport function getApplicative(M) {\n    return __assign(__assign({}, getApply(M)), { of: of(M) });\n}\n/**\n * @since 2.5.0\n */\nexport function getChain(S) {\n    return __assign(__assign({}, getApply(S)), { chain: function (fa, f) {\n            var _a = f(fst(fa)), b = _a[0], s = _a[1];\n            return [b, S.concat(snd(fa), s)];\n        } });\n}\n/**\n * @since 2.5.0\n */\nexport function getMonad(M) {\n    return __assign(__assign({}, getChain(M)), { of: of(M) });\n}\n/**\n * @since 2.5.0\n */\nexport function getChainRec(M) {\n    var chainRec = function (a, f) {\n        var result = f(a);\n        var acc = M.empty;\n        var s = fst(result);\n        while (s._tag === 'Left') {\n            acc = M.concat(acc, snd(result));\n            result = f(s.left);\n            s = fst(result);\n        }\n        return [s.right, M.concat(acc, snd(result))];\n    };\n    return __assign(__assign({}, getChain(M)), { chainRec: chainRec });\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyTuple = {\n    URI: URI,\n    compose: function (ba, ae) { return [fst(ba), snd(ae)]; },\n    map: function (ae, f) { return [f(fst(ae)), snd(ae)]; },\n    bimap: function (fea, f, g) { return [g(fst(fea)), f(snd(fea))]; },\n    mapLeft: function (fea, f) { return [fst(fea), f(snd(fea))]; },\n    extract: fst,\n    extend: function (ae, f) { return [f(ae), snd(ae)]; },\n    reduce: function (ae, b, f) { return f(b, fst(ae)); },\n    foldMap: function (_) { return function (ae, f) { return f(fst(ae)); }; },\n    reduceRight: function (ae, b, f) { return f(fst(ae), b); },\n    traverse: function (F) { return function (as, f) {\n        return F.map(f(fst(as)), function (b) { return [b, snd(as)]; });\n    }; },\n    sequence: function (F) { return function (fas) {\n        return F.map(fst(fas), function (a) { return [a, snd(fas)]; });\n    }; }\n};\nvar _a = pipeable(readonlyTuple), bimap = _a.bimap, compose = _a.compose, duplicate = _a.duplicate, extend = _a.extend, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.5.0\n */\nbimap, \n/**\n * @since 2.5.0\n */\ncompose, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapLeft, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight };\n","/**\n * The `Semiring` class is for types that support an addition and multiplication operation.\n *\n * Instances must satisfy the following laws:\n *\n * - Commutative monoid under addition:\n *   - Associativity: `(a + b) + c = a + (b + c)`\n *   - Identity: `zero + a = a + zero = a`\n *   - Commutative: `a + b = b + a`\n * - Monoid under multiplication:\n *   - Associativity: `(a * b) * c = a * (b * c)`\n *   - Identity: `one * a = a * one = a`\n * - Multiplication distributes over addition:\n *   - Left distributivity: `a * (b + c) = (a * b) + (a * c)`\n *   - Right distributivity: `(a + b) * c = (a * c) + (b * c)`\n * - Annihilation: `zero * a = a * zero = zero`\n *\n * **Note:** The `number` type is not fully law abiding members of this class hierarchy due to the potential\n * for arithmetic overflows, and the presence of `NaN` and `Infinity` values. The behaviour is\n * unspecified in these cases.\n *\n * @since 2.0.0\n */\n/**\n * @since 2.0.0\n */\nexport function getFunctionSemiring(S) {\n    return {\n        add: function (f, g) { return function (x) { return S.add(f(x), g(x)); }; },\n        zero: function () { return S.zero; },\n        mul: function (f, g) { return function (x) { return S.mul(f(x), g(x)); }; },\n        one: function () { return S.one; }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * The `Ring` class is for types that support addition, multiplication, and subtraction operations.\n *\n * Instances must satisfy the following law in addition to the `Semiring` laws:\n *\n * - Additive inverse: `a - a = (zero - a) + a = zero`\n *\n * Adapted from https://github.com/purescript/purescript-prelude/blob/master/src/Data/Ring.purs\n *\n * @since 2.0.0\n */\nimport { getFunctionSemiring } from './Semiring';\n/**\n * @since 2.0.0\n */\nexport function getFunctionRing(ring) {\n    return __assign(__assign({}, getFunctionSemiring(ring)), { sub: function (f, g) { return function (x) { return ring.sub(f(x), g(x)); }; } });\n}\n/**\n * `negate x` can be used as a shorthand for `zero - x`\n *\n * @since 2.0.0\n */\nexport function negate(ring) {\n    return function (a) { return ring.sub(ring.zero, a); };\n}\n/**\n * Given a tuple of `Ring`s returns a `Ring` for the tuple\n *\n * @example\n * import { getTupleRing } from 'fp-ts/lib/Ring'\n * import { fieldNumber } from 'fp-ts/lib/Field'\n *\n * const R = getTupleRing(fieldNumber, fieldNumber, fieldNumber)\n * assert.deepStrictEqual(R.add([1, 2, 3], [4, 5, 6]), [5, 7, 9])\n * assert.deepStrictEqual(R.mul([1, 2, 3], [4, 5, 6]), [4, 10, 18])\n * assert.deepStrictEqual(R.one, [1, 1, 1])\n * assert.deepStrictEqual(R.sub([1, 2, 3], [4, 5, 6]), [-3, -3, -3])\n * assert.deepStrictEqual(R.zero, [0, 0, 0])\n *\n * @since 2.0.0\n */\nexport function getTupleRing() {\n    var rings = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        rings[_i] = arguments[_i];\n    }\n    return {\n        add: function (x, y) { return rings.map(function (R, i) { return R.add(x[i], y[i]); }); },\n        zero: rings.map(function (R) { return R.zero; }),\n        mul: function (x, y) { return rings.map(function (R, i) { return R.mul(x[i], y[i]); }); },\n        one: rings.map(function (R) { return R.one; }),\n        sub: function (x, y) { return rings.map(function (R, i) { return R.sub(x[i], y[i]); }); }\n    };\n}\n","import * as RS from './ReadonlySet';\n/**\n * @since 2.0.0\n */\nexport var getShow = RS.getShow;\n/**\n * @since 2.0.0\n */\nexport var empty = new Set();\n/**\n * @since 2.0.0\n */\n// tslint:disable-next-line: readonly-array\nexport var toArray = RS.toReadonlyArray;\n/**\n * @since 2.0.0\n */\nexport var getEq = RS.getEq;\n/**\n * @since 2.0.0\n */\nexport var some = RS.some;\n/**\n * Projects a Set through a function\n *\n * @since 2.0.0\n */\nexport var map = RS.map;\n/**\n * @since 2.0.0\n */\nexport var every = RS.every;\n/**\n * @since 2.0.0\n */\nexport var chain = RS.chain;\n/**\n * `true` if and only if every element in the first set is an element of the second set\n *\n * @since 2.0.0\n */\nexport var subset = RS.isSubset;\nexport function filter(predicate) {\n    return RS.filter(predicate);\n}\nexport function partition(predicate) {\n    return RS.partition(predicate);\n}\n/**\n * Test if a value is a member of a set\n *\n * @since 2.0.0\n */\nexport var elem = RS.elem;\n/**\n * Form the union of two sets\n *\n * @since 2.0.0\n */\nexport var union = RS.union;\n/**\n * The set of elements which are in both the first and second set\n *\n * @since 2.0.0\n */\nexport var intersection = RS.intersection;\n/**\n * @since 2.0.0\n */\nexport var partitionMap = RS.partitionMap;\n/**\n * Form the set difference (`x` - `y`)\n *\n * @example\n * import { difference } from 'fp-ts/lib/Set'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)(new Set([1, 2]), new Set([1, 3])), new Set([2]))\n *\n *\n * @since 2.0.0\n */\nexport var difference = RS.difference;\n/**\n * @since 2.0.0\n */\nexport var getUnionMonoid = RS.getUnionMonoid;\n/**\n * @since 2.0.0\n */\nexport var getIntersectionSemigroup = RS.getIntersectionSemigroup;\n/**\n * @since 2.0.0\n */\nexport var reduce = RS.reduce;\n/**\n * @since 2.0.0\n */\nexport var foldMap = RS.foldMap;\n/**\n * Create a set with one element\n *\n * @since 2.0.0\n */\nexport var singleton = RS.singleton;\n/**\n * Insert a value into a set\n *\n * @since 2.0.0\n */\nexport var insert = RS.insert;\n/**\n * Delete a value from a set\n *\n * @since 2.0.0\n */\nexport var remove = RS.remove;\n/**\n * Checks an element is a member of a set;\n * If yes, removes the value from the set\n * If no, inserts the value to the set\n *\n * @since 2.5.0\n */\nexport function toggle(E) {\n    var elemE = elem(E);\n    var removeE = remove(E);\n    var insertE = insert(E);\n    return function (a) { return function (set) { return (elemE(a, set) ? removeE : insertE)(a)(set); }; };\n}\n/**\n * Create a set from an array\n *\n * @since 2.0.0\n */\n// tslint:disable-next-line: readonly-array\nexport var fromArray = RS.fromArray;\n/**\n * @since 2.0.0\n */\nexport var compact = RS.compact;\n/**\n * @since 2.0.0\n */\nexport var separate = RS.separate;\n/**\n * @since 2.0.0\n */\nexport var filterMap = RS.filterMap;\n","/**\n * @since 2.0.0\n */\nexport var showString = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport var showNumber = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport var showBoolean = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport function getStructShow(shows) {\n    return {\n        show: function (s) {\n            return \"{ \" + Object.keys(shows)\n                .map(function (k) { return k + \": \" + shows[k].show(s[k]); })\n                .join(', ') + \" }\";\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getTupleShow() {\n    var shows = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        shows[_i] = arguments[_i];\n    }\n    return {\n        show: function (t) { return \"[\" + t.map(function (a, i) { return shows[i].show(a); }).join(', ') + \"]\"; }\n    };\n}\n","export function getStateM(M) {\n    return {\n        map: function (fa, f) { return function (s) { return M.map(fa(s), function (_a) {\n            var a = _a[0], s1 = _a[1];\n            return [f(a), s1];\n        }); }; },\n        of: function (a) { return function (s) { return M.of([a, s]); }; },\n        ap: function (fab, fa) { return function (s) { return M.chain(fab(s), function (_a) {\n            var f = _a[0], s = _a[1];\n            return M.map(fa(s), function (_a) {\n                var a = _a[0], s = _a[1];\n                return [f(a), s];\n            });\n        }); }; },\n        chain: function (fa, f) { return function (s) { return M.chain(fa(s), function (_a) {\n            var a = _a[0], s1 = _a[1];\n            return f(a)(s1);\n        }); }; },\n        get: function () { return function (s) { return M.of([s, s]); }; },\n        put: function (s) { return function () { return M.of([undefined, s]); }; },\n        modify: function (f) { return function (s) { return M.of([undefined, f(s)]); }; },\n        gets: function (f) { return function (s) { return M.of([f(s), s]); }; },\n        fromState: function (sa) { return function (s) { return M.of(sa(s)); }; },\n        fromM: function (ma) { return function (s) { return M.map(ma, function (a) { return [a, s]; }); }; },\n        evalState: function (ma, s) { return M.map(ma(s), function (_a) {\n            var a = _a[0];\n            return a;\n        }); },\n        execState: function (ma, s) { return M.map(ma(s), function (_a) {\n            var _ = _a[0], s = _a[1];\n            return s;\n        }); }\n    };\n}\n","import { getStateM } from './StateT';\nimport { identity } from './Identity';\nimport { pipeable } from './pipeable';\nvar T = getStateM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'State';\n/* tslint:enable:readonly-array */\n/**\n * Run a computation in the `State` monad, discarding the final state\n *\n * @since 2.0.0\n */\nexport var evalState = T.evalState;\n/**\n * Run a computation in the `State` monad discarding the result\n *\n * @since 2.0.0\n */\nexport var execState = T.execState;\n/**\n * Get the current state\n *\n * @since 2.0.0\n */\nexport var get = T.get;\n/**\n * Set the state\n *\n * @since 2.0.0\n */\nexport var put = T.put;\n/**\n * Modify the state by applying a function to the current state\n *\n * @since 2.0.0\n */\nexport var modify = T.modify;\n/**\n * Get a value which depends on the current state\n *\n * @since 2.0.0\n */\nexport var gets = T.gets;\n/**\n * @since 2.0.0\n */\nexport var of = T.of;\n/**\n * @since 2.0.0\n */\nexport var state = {\n    URI: URI,\n    map: T.map,\n    of: of,\n    ap: T.ap,\n    chain: T.chain\n};\nvar _a = pipeable(state), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport * as RTE from './ReaderTaskEither';\nimport { getStateM } from './StateT';\nvar T = getStateM(RTE.readerTaskEither);\n/**\n * @since 2.0.0\n */\nexport var URI = 'StateReaderTaskEither';\n/* tslint:enable:readonly-array */\n/* tslint:disable:readonly-array */\n/**\n * @since 2.0.0\n */\nexport function run(ma, s, r) {\n    return ma(s)(r)();\n}\n/* tslint:enable:readonly-array */\n/**\n * Run a computation in the `StateReaderTaskEither` monad, discarding the final state\n *\n * @since 2.0.0\n */\nexport var evalState = T.evalState;\n/**\n * Run a computation in the `StateReaderTaskEither` monad discarding the result\n *\n * @since 2.0.0\n */\nexport var execState = T.execState;\n/**\n * @since 2.0.0\n */\nexport function left(e) {\n    return fromReaderTaskEither(RTE.left(e));\n}\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightTask(ma) {\n    return fromReaderTaskEither(RTE.rightTask(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftTask(me) {\n    return fromReaderTaskEither(RTE.leftTask(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fromTaskEither(ma) {\n    return fromReaderTaskEither(RTE.fromTaskEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function rightReader(ma) {\n    return fromReaderTaskEither(RTE.rightReader(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftReader(me) {\n    return fromReaderTaskEither(RTE.leftReader(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fromIOEither(ma) {\n    return fromReaderTaskEither(RTE.fromIOEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function fromReaderEither(ma) {\n    return fromReaderTaskEither(RTE.fromReaderEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return fromReaderTaskEither(RTE.rightIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return fromReaderTaskEither(RTE.leftIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport var rightState = T.fromState;\n/**\n * @since 2.0.0\n */\nexport function leftState(me) {\n    return function (s) { return RTE.left(me(s)[0]); };\n}\n/**\n * @since 2.0.0\n */\nexport var fromReaderTaskEither = T.fromM;\n/**\n * Get the current state\n *\n * @since 2.0.0\n */\nexport var get = T.get;\n/**\n * Set the state\n *\n * @since 2.0.0\n */\nexport var put = T.put;\n/**\n * Modify the state by applying a function to the current state\n *\n * @since 2.0.0\n */\nexport var modify = T.modify;\n/**\n * Get a value which depends on the current state\n *\n * @since 2.0.0\n */\nexport var gets = T.gets;\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskEitherK(f) {\n    return chain(fromTaskEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromReaderTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromReaderTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainReaderTaskEitherK(f) {\n    return chain(fromReaderTaskEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var stateReaderTaskEither = {\n    URI: URI,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    bimap: function (fea, f, g) { return function (s) { return RTE.readerTaskEither.bimap(fea(s), f, function (_a) {\n        var a = _a[0], s = _a[1];\n        return [g(a), s];\n    }); }; },\n    mapLeft: function (fea, f) { return function (s) { return RTE.readerTaskEither.mapLeft(fea(s), f); }; },\n    alt: function (fx, fy) { return function (s) { return RTE.readerTaskEither.alt(fx(s), function () { return fy()(s); }); }; },\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `stateReaderTaskEither` but `ap` is sequential\n * @since 2.0.0\n */\nexport var stateReaderTaskEitherSeq = __assign(__assign({}, stateReaderTaskEither), { ap: function (mab, ma) { return stateReaderTaskEither.chain(mab, function (f) { return stateReaderTaskEither.map(ma, f); }); } });\nvar _a = pipeable(stateReaderTaskEither), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, fromEither = _a.fromEither, fromOption = _a.fromOption, filterOrElse = _a.filterOrElse, fromPredicate = _a.fromPredicate;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.4.4\n */\nfromPredicate, \n/**\n * @since 2.4.4\n */\nfilterOrElse };\n","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Store';\n/**\n * Reposition the focus at the specified position\n *\n * @since 2.0.0\n */\nexport function seek(s) {\n    return function (wa) { return ({ peek: wa.peek, pos: s }); };\n}\n/**\n * Reposition the focus at the specified position, which depends on the current position\n *\n * @since 2.0.0\n */\nexport function seeks(f) {\n    return function (wa) { return ({ peek: wa.peek, pos: f(wa.pos) }); };\n}\n/**\n * Extract a value from a position which depends on the current position\n *\n * @since 2.0.0\n */\nexport function peeks(f) {\n    return function (wa) { return wa.peek(f(wa.pos)); };\n}\nexport function experiment(F) {\n    return function (f) { return function (wa) { return F.map(f(wa.pos), function (s) { return wa.peek(s); }); }; };\n}\n/**\n * @since 2.0.0\n */\nexport var store = {\n    URI: URI,\n    map: function (wa, f) { return ({\n        peek: function (s) { return f(wa.peek(s)); },\n        pos: wa.pos\n    }); },\n    extract: function (wa) { return wa.peek(wa.pos); },\n    extend: function (wa, f) { return ({\n        peek: function (s) { return f({ peek: wa.peek, pos: s }); },\n        pos: wa.pos\n    }); }\n};\nvar _a = pipeable(store), duplicate = _a.duplicate, extend = _a.extend, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nmap };\n","import { identity } from './function';\nexport function splitStrong(F) {\n    return function (pab, pcd) { return F.compose(F.first(pab), F.second(pcd)); };\n}\nexport function fanout(F) {\n    var splitStrongF = splitStrong(F);\n    return function (pab, pac) {\n        var split = F.promap(F.id(), identity, function (a) { return [a, a]; });\n        return F.compose(splitStrongF(pab, pac), split);\n    };\n}\n","import { fromEquals } from './Eq';\nimport { isNone, none, some } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'These';\n/**\n * @since 2.0.0\n */\nexport function left(left) {\n    return { _tag: 'Left', left: left };\n}\n/**\n * @since 2.0.0\n */\nexport function right(right) {\n    return { _tag: 'Right', right: right };\n}\n/**\n * @since 2.0.0\n */\nexport function both(left, right) {\n    return { _tag: 'Both', left: left, right: right };\n}\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight, onBoth) {\n    return function (fa) {\n        switch (fa._tag) {\n            case 'Left':\n                return onLeft(fa.left);\n            case 'Right':\n                return onRight(fa.right);\n            case 'Both':\n                return onBoth(fa.left, fa.right);\n        }\n    };\n}\n/**\n * @since 2.4.0\n */\nexport var swap = fold(right, left, function (e, a) { return both(a, e); });\n/**\n * @since 2.0.0\n */\nexport function getShow(SE, SA) {\n    return {\n        show: fold(function (l) { return \"left(\" + SE.show(l) + \")\"; }, function (a) { return \"right(\" + SA.show(a) + \")\"; }, function (l, a) { return \"both(\" + SE.show(l) + \", \" + SA.show(a) + \")\"; })\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(EE, EA) {\n    return fromEquals(function (x, y) {\n        return isLeft(x)\n            ? isLeft(y) && EE.equals(x.left, y.left)\n            : isRight(x)\n                ? isRight(y) && EA.equals(x.right, y.right)\n                : isBoth(y) && EE.equals(x.left, y.left) && EA.equals(x.right, y.right);\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(SE, SA) {\n    return {\n        concat: function (x, y) {\n            return isLeft(x)\n                ? isLeft(y)\n                    ? left(SE.concat(x.left, y.left))\n                    : isRight(y)\n                        ? both(x.left, y.right)\n                        : both(SE.concat(x.left, y.left), y.right)\n                : isRight(x)\n                    ? isLeft(y)\n                        ? both(y.left, x.right)\n                        : isRight(y)\n                            ? right(SA.concat(x.right, y.right))\n                            : both(y.left, SA.concat(x.right, y.right))\n                    : isLeft(y)\n                        ? both(SE.concat(x.left, y.left), x.right)\n                        : isRight(y)\n                            ? both(x.left, SA.concat(x.right, y.right))\n                            : both(SE.concat(x.left, y.left), SA.concat(x.right, y.right));\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonad(S) {\n    var chain = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        if (isRight(ma)) {\n            return f(ma.right);\n        }\n        var fb = f(ma.right);\n        return isLeft(fb)\n            ? left(S.concat(ma.left, fb.left))\n            : isRight(fb)\n                ? both(ma.left, fb.right)\n                : both(S.concat(ma.left, fb.left), fb.right);\n    };\n    return {\n        URI: URI,\n        _E: undefined,\n        map: these.map,\n        of: right,\n        ap: function (mab, ma) { return chain(mab, function (f) { return these.map(ma, f); }); },\n        chain: chain,\n        throwError: left\n    };\n}\n/* tslint:disable:readonly-array */\n/**\n * @example\n * import { toTuple, left, right, both } from 'fp-ts/lib/These'\n *\n * assert.deepStrictEqual(toTuple('a', 1)(left('b')), ['b', 1])\n * assert.deepStrictEqual(toTuple('a', 1)(right(2)), ['a', 2])\n * assert.deepStrictEqual(toTuple('a', 1)(both('b', 2)), ['b', 2])\n *\n * @since 2.0.0\n */\nexport function toTuple(e, a) {\n    return function (fa) { return (isLeft(fa) ? [fa.left, a] : isRight(fa) ? [e, fa.right] : [fa.left, fa.right]); };\n}\n/* tslint:enable:readonly-array */\n/**\n * Returns an `E` value if possible\n *\n * @example\n * import { getLeft, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getLeft(left('a')), some('a'))\n * assert.deepStrictEqual(getLeft(right(1)), none)\n * assert.deepStrictEqual(getLeft(both('a', 1)), some('a'))\n *\n * @since 2.0.0\n */\nexport function getLeft(fa) {\n    return isLeft(fa) ? some(fa.left) : isRight(fa) ? none : some(fa.left);\n}\n/**\n * Returns an `A` value if possible\n *\n * @example\n * import { getRight, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getRight(left('a')), none)\n * assert.deepStrictEqual(getRight(right(1)), some(1))\n * assert.deepStrictEqual(getRight(both('a', 1)), some(1))\n *\n * @since 2.0.0\n */\nexport function getRight(fa) {\n    return isLeft(fa) ? none : isRight(fa) ? some(fa.right) : some(fa.right);\n}\n/**\n * Returns `true` if the these is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isLeft(fa) {\n    return fa._tag === 'Left';\n}\n/**\n * Returns `true` if the these is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isRight(fa) {\n    return fa._tag === 'Right';\n}\n/**\n * Returns `true` if the these is an instance of `Both`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isBoth(fa) {\n    return fa._tag === 'Both';\n}\n/**\n * @example\n * import { leftOrBoth, left, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(leftOrBoth('a')(none), left('a'))\n * assert.deepStrictEqual(leftOrBoth('a')(some(1)), both('a', 1))\n *\n * @since 2.0.0\n */\nexport function leftOrBoth(e) {\n    return function (ma) { return (isNone(ma) ? left(e) : both(e, ma.value)); };\n}\n/**\n * @example\n * import { rightOrBoth, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(rightOrBoth(1)(none), right(1))\n * assert.deepStrictEqual(rightOrBoth(1)(some('a')), both('a', 1))\n *\n * @since 2.0.0\n */\nexport function rightOrBoth(a) {\n    return function (me) { return (isNone(me) ? right(a) : both(me.value, a)); };\n}\n/**\n * Returns the `E` value if and only if the value is constructed with `Left`\n *\n * @example\n * import { getLeftOnly, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getLeftOnly(left('a')), some('a'))\n * assert.deepStrictEqual(getLeftOnly(right(1)), none)\n * assert.deepStrictEqual(getLeftOnly(both('a', 1)), none)\n *\n * @since 2.0.0\n */\nexport function getLeftOnly(fa) {\n    return isLeft(fa) ? some(fa.left) : none;\n}\n/**\n * Returns the `A` value if and only if the value is constructed with `Right`\n *\n * @example\n * import { getRightOnly, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getRightOnly(left('a')), none)\n * assert.deepStrictEqual(getRightOnly(right(1)), some(1))\n * assert.deepStrictEqual(getRightOnly(both('a', 1)), none)\n *\n *\n * @since 2.0.0\n */\nexport function getRightOnly(fa) {\n    return isRight(fa) ? some(fa.right) : none;\n}\n/**\n * Takes a pair of `Option`s and attempts to create a `These` from them\n *\n * @example\n * import { fromOptions, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromOptions(none, none), none)\n * assert.deepStrictEqual(fromOptions(some('a'), none), some(left('a')))\n * assert.deepStrictEqual(fromOptions(none, some(1)), some(right(1)))\n * assert.deepStrictEqual(fromOptions(some('a'), some(1)), some(both('a', 1)))\n *\n * @since 2.0.0\n */\nexport function fromOptions(fe, fa) {\n    return isNone(fe)\n        ? isNone(fa)\n            ? none\n            : some(right(fa.value))\n        : isNone(fa)\n            ? some(left(fe.value))\n            : some(both(fe.value, fa.value));\n}\n/**\n * @since 2.0.0\n */\nexport var these = {\n    URI: URI,\n    map: function (fa, f) { return (isLeft(fa) ? fa : isRight(fa) ? right(f(fa.right)) : both(fa.left, f(fa.right))); },\n    bimap: function (fea, f, g) {\n        return isLeft(fea) ? left(f(fea.left)) : isRight(fea) ? right(g(fea.right)) : both(f(fea.left), g(fea.right));\n    },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : isBoth(fea) ? both(f(fea.left), fea.right) : fea); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : isRight(fa) ? f(b, fa.right) : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : isRight(fa) ? f(fa.right) : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : isRight(fa) ? f(fa.right, b) : f(fa.right, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isLeft(ta) ? F.of(ta) : isRight(ta) ? F.map(f(ta.right), right) : F.map(f(ta.right), function (b) { return both(ta.left, b); });\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isLeft(ta) ? F.of(ta) : isRight(ta) ? F.map(ta.right, right) : F.map(ta.right, function (b) { return both(ta.left, b); });\n    }; }\n};\nvar _a = pipeable(these), bimap = _a.bimap, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","import { bimap, both, fold, left, map, mapLeft, right, swap, toTuple } from './These';\nexport function getTheseM(M) {\n    function mapT(fa, f) {\n        return M.map(fa, map(f));\n    }\n    function of(a) {\n        return M.of(right(a));\n    }\n    function leftT(e) {\n        return M.of(left(e));\n    }\n    return {\n        map: mapT,\n        bimap: function (fa, f, g) { return M.map(fa, bimap(f, g)); },\n        mapLeft: function (fa, f) { return M.map(fa, mapLeft(f)); },\n        fold: function (fa, onLeft, onRight, onBoth) { return M.chain(fa, fold(onLeft, onRight, onBoth)); },\n        swap: function (fa) { return M.map(fa, swap); },\n        rightM: function (ma) { return M.map(ma, right); },\n        leftM: function (me) { return M.map(me, left); },\n        left: leftT,\n        right: of,\n        both: function (e, a) { return M.of(both(e, a)); },\n        toTuple: function (fa, e, a) { return M.map(fa, toTuple(e, a)); },\n        getMonad: function (E) {\n            function chain(fa, f) {\n                return M.chain(fa, fold(leftT, f, function (e1, a) {\n                    return M.map(f(a), fold(function (e2) { return left(E.concat(e1, e2)); }, right, function (e2, b) { return both(E.concat(e1, e2), b); }));\n                }));\n            }\n            return {\n                _E: undefined,\n                map: mapT,\n                of: of,\n                ap: function (mab, ma) {\n                    return chain(mab, function (f) { return mapT(ma, f); });\n                },\n                chain: chain\n            };\n        }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getTaskSemigroup, task } from './Task';\nimport * as TH from './These';\nimport { getTheseM } from './TheseT';\nvar T = getTheseM(task);\n/**\n * @since 2.4.0\n */\nexport var URI = 'TaskThese';\n/**\n * @since 2.4.0\n */\nexport var left = T.left;\n/**\n * @since 2.4.0\n */\nexport var right = T.right;\n/**\n * @since 2.4.0\n */\nexport var both = T.both;\n/**\n * @since 2.4.0\n */\nexport function rightIO(ma) {\n    return rightTask(task.fromIO(ma));\n}\n/**\n * @since 2.4.0\n */\nexport function leftIO(me) {\n    return leftTask(task.fromIO(me));\n}\n/**\n * @since 2.4.0\n */\nexport var leftTask = T.leftM;\n/**\n * @since 2.4.0\n */\nexport var rightTask = T.rightM;\n/**\n * @since 2.4.0\n */\nexport var fromIOEither = task.fromIO;\n/**\n * @since 2.4.0\n */\nexport function fold(onLeft, onRight, onBoth) {\n    return function (fa) { return T.fold(fa, onLeft, onRight, onBoth); };\n}\n/**\n * @since 2.4.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.4.0\n */\nexport function getSemigroup(SE, SA) {\n    return getTaskSemigroup(TH.getSemigroup(SE, SA));\n}\n/**\n * @since 2.4.0\n */\nexport function getMonad(S) {\n    return __assign(__assign({ URI: URI }, T.getMonad(S)), { fromIO: rightIO, fromTask: rightTask });\n}\n/* tslint:disable:readonly-array */\n/**\n * @since 2.4.0\n */\nexport function toTuple(e, a) {\n    return function (fa) { return T.toTuple(fa, e, a); };\n}\n/* tslint:enable:readonly-array */\n/**\n * @since 2.4.0\n */\nexport var taskThese = {\n    URI: URI,\n    map: T.map,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft\n};\nvar _a = pipeable(taskThese), bimap = _a.bimap, map = _a.map, mapLeft = _a.mapLeft;\nexport { \n/**\n * @since 2.4.0\n */\nbimap, \n/**\n * @since 2.4.0\n */\nmap, \n/**\n * @since 2.4.0\n */\nmapLeft };\n","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Traced';\n/**\n * Extracts a value at a relative position which depends on the current value.\n *\n * @since 2.0.0\n */\nexport function tracks(M, f) {\n    return function (wa) { return wa(f(wa(M.empty))); };\n}\n// tslint:disable:readonly-array\n/**\n * Get the current position\n *\n * @since 2.0.0\n */\nexport function listen(wa) {\n    return function (e) { return [wa(e), e]; };\n}\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Get a value which depends on the current position\n *\n * @since 2.0.0\n */\nexport function listens(f) {\n    return function (wa) { return function (e) { return [wa(e), f(e)]; }; };\n}\n// tslint:enable:readonly-array\n/**\n * Apply a function to the current position\n *\n * @since 2.0.0\n */\nexport function censor(f) {\n    return function (wa) { return function (e) { return wa(f(e)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function getComonad(monoid) {\n    function extend(wa, f) {\n        return function (p1) { return f(function (p2) { return wa(monoid.concat(p1, p2)); }); };\n    }\n    function extract(wa) {\n        return wa(monoid.empty);\n    }\n    return {\n        URI: URI,\n        _E: undefined,\n        map: traced.map,\n        extend: extend,\n        extract: extract\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var traced = {\n    URI: URI,\n    map: function (wa, f) { return function (p) { return f(wa(p)); }; }\n};\nvar map = pipeable(traced).map;\nexport { \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFoldableComposition } from './Foldable';\nimport { getFunctorComposition } from './Functor';\nexport function getTraversableComposition(F, G) {\n    return __assign(__assign(__assign({}, getFunctorComposition(F, G)), getFoldableComposition(F, G)), { traverse: function (H) {\n            var traverseF = F.traverse(H);\n            var traverseG = G.traverse(H);\n            return function (fga, f) { return traverseF(fga, function (ga) { return traverseG(ga, f); }); };\n        }, sequence: function (H) {\n            var sequenceF = F.sequence(H);\n            var sequenceG = G.sequence(H);\n            return function (fgha) { return sequenceF(F.map(fgha, sequenceG)); };\n        } });\n}\n","import { pipeable } from './pipeable';\nimport * as RT from './ReadonlyTuple';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Tuple';\n/**\n * @since 2.0.0\n */\nexport var fst = RT.fst;\n/**\n * @since 2.0.0\n */\nexport var snd = RT.snd;\n/**\n * @since 2.0.0\n */\nexport var swap = RT.swap;\n/**\n * @since 2.0.0\n */\nexport var getApply = RT.getApply;\n/**\n * @since 2.0.0\n */\nexport var getApplicative = RT.getApplicative;\n/**\n * @since 2.0.0\n */\nexport var getChain = RT.getChain;\n/**\n * @since 2.0.0\n */\nexport var getMonad = RT.getMonad;\n/**\n * @since 2.0.0\n */\nexport var getChainRec = RT.getChainRec;\n/**\n * @since 2.0.0\n */\nexport var tuple = {\n    URI: URI,\n    compose: RT.readonlyTuple.compose,\n    map: RT.readonlyTuple.map,\n    bimap: RT.readonlyTuple.bimap,\n    mapLeft: RT.readonlyTuple.mapLeft,\n    extract: fst,\n    extend: RT.readonlyTuple.extend,\n    reduce: RT.readonlyTuple.reduce,\n    foldMap: RT.readonlyTuple.foldMap,\n    reduceRight: RT.readonlyTuple.reduceRight,\n    traverse: RT.readonlyTuple.traverse,\n    sequence: RT.readonlyTuple.sequence\n};\nvar _a = pipeable(tuple), bimap = _a.bimap, compose = _a.compose, duplicate = _a.duplicate, extend = _a.extend, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\ncompose, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","export function getWriterM(M) {\n    var map = function (fa, f) { return function () {\n        return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [f(a), w];\n        });\n    }; };\n    return {\n        map: map,\n        evalWriter: function (fa) { return M.map(fa(), function (_a) {\n            var a = _a[0];\n            return a;\n        }); },\n        execWriter: function (fa) { return M.map(fa(), function (_a) {\n            var _ = _a[0], w = _a[1];\n            return w;\n        }); },\n        tell: function (w) { return function () { return M.of([undefined, w]); }; },\n        listen: function (fa) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [[a, w], w];\n        }); }; },\n        pass: function (fa) { return function () { return M.map(fa(), function (_a) {\n            var _b = _a[0], a = _b[0], f = _b[1], w = _a[1];\n            return [a, f(w)];\n        }); }; },\n        listens: function (fa, f) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [[a, f(w)], w];\n        }); }; },\n        censor: function (fa, f) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [a, f(w)];\n        }); }; },\n        getMonad: function (W) {\n            return {\n                _E: undefined,\n                map: map,\n                of: function (a) { return function () { return M.of([a, W.empty]); }; },\n                ap: function (mab, ma) { return function () { return M.chain(mab(), function (_a) {\n                    var f = _a[0], w1 = _a[1];\n                    return M.map(ma(), function (_a) {\n                        var a = _a[0], w2 = _a[1];\n                        return [f(a), W.concat(w1, w2)];\n                    });\n                }); }; },\n                chain: function (ma, f) { return function () { return M.chain(ma(), function (_a) {\n                    var a = _a[0], w1 = _a[1];\n                    return M.map(f(a)(), function (_a) {\n                        var b = _a[0], w2 = _a[1];\n                        return [b, W.concat(w1, w2)];\n                    });\n                }); }; }\n            };\n        }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { identity } from './Identity';\nimport { pipeable } from './pipeable';\nimport { getWriterM } from './WriterT';\nvar T = getWriterM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'Writer';\n// tslint:enable:readonly-array\n/**\n * @since 2.0.0\n */\nexport var evalWriter = T.evalWriter;\n/**\n * @since 2.0.0\n */\nexport var execWriter = T.execWriter;\n/**\n * Appends a value to the accumulator\n *\n * @since 2.0.0\n */\nexport var tell = T.tell;\n// tslint:disable:readonly-array\n/**\n * Modifies the result to include the changes to the accumulator\n *\n * @since 2.0.0\n */\nexport var listen = T.listen;\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Applies the returned function to the accumulator\n *\n * @since 2.0.0\n */\nexport var pass = T.pass;\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Projects a value from modifications made to the accumulator during an action\n *\n * @since 2.0.0\n */\nexport function listens(f) {\n    return function (fa) { return T.listens(fa, f); };\n}\n// tslint:enable:readonly-array\n/**\n * Modify the final accumulator value by applying a function\n *\n * @since 2.0.0\n */\nexport function censor(f) {\n    return function (fa) { return T.censor(fa, f); };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonad(M) {\n    return __assign({ URI: URI }, T.getMonad(M));\n}\n/**\n * @since 2.0.0\n */\nexport var writer = {\n    URI: URI,\n    map: T.map\n};\nvar map = pipeable(writer).map;\nexport { \n/**\n * @since 2.0.0\n */\nmap };\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport function done(v) {\n    return {\n        _tag: \"Done\",\n        value: v\n    };\n}\nexport function raise(e) {\n    return {\n        _tag: \"Raise\",\n        error: e\n    };\n}\nexport function abort(a) {\n    return {\n        _tag: \"Abort\",\n        abortedWith: a\n    };\n}\nexport const interrupt = {\n    _tag: \"Interrupt\"\n};\nexport const interruptWithError = (err) => err\n    ? {\n        _tag: \"Interrupt\",\n        error: err\n    }\n    : {\n        _tag: \"Interrupt\"\n    };\nexport const interruptWithErrorAndOthers = (err, others) => others\n    ? {\n        _tag: \"Interrupt\",\n        error: err,\n        others\n    }\n    : {\n        _tag: \"Interrupt\",\n        error: err\n    };\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/* istanbul ignore file */\nexport class LinkedListNode {\n    constructor(value, next = null) {\n        this.value = value;\n        this.next = next;\n    }\n}\nexport class LinkedList {\n    constructor(head = null, tail = null) {\n        this.head = head;\n        this.tail = tail;\n        this.head = null;\n        this.tail = null;\n    }\n    empty() {\n        return this.head === null;\n    }\n    prepend(value) {\n        const newNode = new LinkedListNode(value, this.head);\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    }\n    append(value) {\n        const newNode = new LinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        this.tail = newNode;\n        return this;\n    }\n    deleteHead() {\n        if (!this.head) {\n            return null;\n        }\n        const deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    }\n}\nexport class DoublyLinkedListNode {\n    constructor(value, next = null, previous = null) {\n        this.value = value;\n        this.next = next;\n        this.previous = previous;\n    }\n}\nexport class DoublyLinkedList {\n    constructor(head = null, tail = null) {\n        this.head = head;\n        this.tail = tail;\n    }\n    prepend(value) {\n        const newNode = new DoublyLinkedListNode(value, this.head);\n        if (this.head) {\n            this.head.previous = newNode;\n        }\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    }\n    append(value) {\n        const newNode = new DoublyLinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        newNode.previous = this.tail;\n        this.tail = newNode;\n        return this;\n    }\n    deleteTail() {\n        if (!this.tail) {\n            return null;\n        }\n        if (this.head === this.tail) {\n            const deletedTail = this.tail;\n            this.head = null;\n            this.tail = null;\n            return deletedTail;\n        }\n        const deletedTail = this.tail;\n        this.tail = this.tail.previous;\n        this.tail.next = null;\n        return deletedTail;\n    }\n    deleteHead() {\n        if (!this.head) {\n            return null;\n        }\n        const deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n            this.head.previous = null;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    }\n    empty() {\n        return this.head === null;\n    }\n}\n","export var EffectTag;\n(function (EffectTag) {\n    EffectTag[EffectTag[\"Pure\"] = 0] = \"Pure\";\n    EffectTag[EffectTag[\"PureOption\"] = 1] = \"PureOption\";\n    EffectTag[EffectTag[\"PureEither\"] = 2] = \"PureEither\";\n    EffectTag[EffectTag[\"Raised\"] = 3] = \"Raised\";\n    EffectTag[EffectTag[\"Completed\"] = 4] = \"Completed\";\n    EffectTag[EffectTag[\"Suspended\"] = 5] = \"Suspended\";\n    EffectTag[EffectTag[\"Async\"] = 6] = \"Async\";\n    EffectTag[EffectTag[\"Chain\"] = 7] = \"Chain\";\n    EffectTag[EffectTag[\"Collapse\"] = 8] = \"Collapse\";\n    EffectTag[EffectTag[\"InterruptibleRegion\"] = 9] = \"InterruptibleRegion\";\n    EffectTag[EffectTag[\"AccessInterruptible\"] = 10] = \"AccessInterruptible\";\n    EffectTag[EffectTag[\"AccessRuntime\"] = 11] = \"AccessRuntime\";\n    EffectTag[EffectTag[\"AccessEnv\"] = 12] = \"AccessEnv\";\n    EffectTag[EffectTag[\"ProvideEnv\"] = 13] = \"ProvideEnv\";\n    EffectTag[EffectTag[\"Map\"] = 14] = \"Map\";\n})(EffectTag || (EffectTag = {}));\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { LinkedList } from \"../listc\";\nclass RuntimeImpl {\n    constructor() {\n        this.running = false;\n        this.array = new LinkedList();\n        this.isRunning = () => this.running;\n    }\n    run() {\n        var _a, _b;\n        this.running = true;\n        let next = (_a = this.array.deleteHead()) === null || _a === void 0 ? void 0 : _a.value;\n        while (next) {\n            next[0](next[1]);\n            next = (_b = this.array.deleteHead()) === null || _b === void 0 ? void 0 : _b.value;\n        }\n        this.running = false;\n    }\n    dispatch(thunk, a) {\n        this.array.append([thunk, a]);\n        if (!this.running) {\n            this.run();\n        }\n    }\n    dispatchLater(thunk, a, ms) {\n        const handle = setTimeout(() => this.dispatch(thunk, a), ms);\n        return (cb) => {\n            clearTimeout(handle);\n            cb();\n        };\n    }\n}\nexport const defaultRuntime = new RuntimeImpl();\n","import { option as O } from \"fp-ts\";\nfunction singleNode(a) {\n    const l = { a, prev: null, next: null };\n    l.prev = l;\n    l.next = l;\n    return l;\n}\n/**\n * Push an Elem at the end of the List\n */\nexport function push(list, a) {\n    if (isNotEmpty(list)) {\n        const last = list.last;\n        const first = list.first;\n        const newLast = { a, next: first, prev: last };\n        last.next = newLast;\n        first.prev = newLast;\n        list.last = newLast;\n    }\n    else {\n        const l = singleNode(a);\n        list.first = l;\n        list.last = l;\n    }\n}\n/**\n * Creates an empty List\n */\nexport function empty() {\n    return { first: null, last: null };\n}\n/**\n * Indicates if a List is a singleton\n */\nfunction isSingleton(list) {\n    return list.first === list.last && isNotEmpty(list);\n}\n/**\n * Indicates if a List is not empty\n */\nexport function isNotEmpty(list) {\n    return list.first !== null;\n}\n/**\n * Pops the first element of a List (A | null)\n */\nexport function popUnsafe(list) {\n    const first = list.first;\n    if (first) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            first.next.prev = first.prev;\n            first.prev.next = first.next;\n            list.first = first.next;\n        }\n        return first.a;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Pops the first element of a List (A | null)\n */\nexport function popLastUnsafe(list) {\n    const last = list.last;\n    if (last) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            last.prev.next = last.next;\n            last.next.prev = last.prev;\n            list.last = last.prev;\n        }\n        return last.a;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Pops the first element of a List Option<A>\n */\nexport function pop(list) {\n    return O.fromNullable(popUnsafe(list));\n}\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nexport function headUnsafe(list) {\n    return list.first !== null ? list.first.a : null;\n}\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nexport function head(list) {\n    return O.fromNullable(headUnsafe(list));\n}\n/**\n * Gets the last element of the List as A |null (does not change the List)\n */\nexport function lastUnsafe(list) {\n    return list.last !== null ? list.last.a : null;\n}\n/**\n * Gets the last element of the List as Option<A> (does not change the List)\n */\nexport function last(list) {\n    return O.fromNullable(lastUnsafe(list));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nimport { option as O, either as E } from \"fp-ts\";\nimport { done, interrupt as interruptExit, raise } from \"./original/exit\";\nimport { defaultRuntime } from \"./original/runtime\";\nimport * as T from \"./effect\";\nimport * as L from \"./list\";\nclass Frame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n}\nclass FoldFrame {\n    constructor(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n}\nclass MapFrame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n}\nconst makeInterruptFrame = (interruptStatus, prev) => ({\n    prev,\n    _tag: \"interrupt-frame\",\n    apply(u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion() {\n        interruptStatus.pop();\n    }\n});\nexport class DriverSyncImpl {\n    constructor(runtime = defaultRuntime) {\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = L.empty();\n    }\n    set(a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (const f of this.listeners) {\n                f(a);\n            }\n        }\n    }\n    isComplete() {\n        return this.completed !== null;\n    }\n    complete(a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    isInterruptible() {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    }\n    handle(e) {\n        var _a, _b;\n        let frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    }\n    dispatchResumeInterrupt() {\n        const go = this.handle(interruptExit);\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    }\n    resumeInterrupt() {\n        this.dispatchResumeInterrupt();\n    }\n    next(value) {\n        var _a;\n        const frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(done(value));\n        return;\n    }\n    foldResume(status) {\n        E.fold((cause) => {\n            const go = this.handle(raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        }, (value) => {\n            const go = this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        })(status);\n    }\n    resume(status) {\n        this.foldResume(status);\n    }\n    // tslint:disable-next-line: cyclomatic-complexity\n    loop(go) {\n        let current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        const env = L.isNotEmpty(this.envStack) ? L.lastUnsafe(this.envStack) : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        L.push(this.envStack, current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, (e) => T.effect.chain(T.sync(() => {\n                            L.popLastUnsafe(this.envStack);\n                            return {};\n                        }), (_) => T.raised(e)), (r) => T.sync(() => {\n                            L.popLastUnsafe(this.envStack);\n                            return r;\n                        })));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (O.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (E.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(`Die: Unrecognized current type ${current}`);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    }\n    start(run) {\n        this.loop(run);\n        if (this.completed !== null) {\n            return E.right(this.completed);\n        }\n        this.interrupt();\n        return E.left(new Error(\"async operations running\"));\n    }\n    interrupt() {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n    }\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nimport { either as E, option as O } from \"fp-ts\";\nimport { done, interruptWithError, raise } from \"./original/exit\";\nimport { defaultRuntime } from \"./original/runtime\";\nimport * as T from \"./effect\";\nimport { DoublyLinkedList } from \"./listc\";\nclass Frame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n}\nclass FoldFrame {\n    constructor(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n}\nclass MapFrame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n}\nconst makeInterruptFrame = (interruptStatus, prev) => ({\n    prev,\n    _tag: \"interrupt-frame\",\n    apply(u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion() {\n        interruptStatus.pop();\n    }\n});\nexport class DriverImpl {\n    constructor(runtime = defaultRuntime) {\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = new DoublyLinkedList();\n    }\n    set(a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (const f of this.listeners) {\n                f(a);\n            }\n        }\n    }\n    isComplete() {\n        return this.completed !== null;\n    }\n    complete(a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    onExit(f) {\n        if (this.completed !== null) {\n            f(this.completed);\n        }\n        if (this.listeners === undefined) {\n            this.listeners = [f];\n        }\n        else {\n            this.listeners.push(f);\n        }\n        // TODO: figure how to trigger if possible\n        /* istanbul ignore next */\n        return () => {\n            if (this.listeners !== undefined) {\n                this.listeners = this.listeners.filter((cb) => cb !== f);\n            }\n        };\n    }\n    exit() {\n        return this.completed;\n    }\n    isInterruptible() {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    }\n    handle(e) {\n        var _a, _b;\n        let frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    }\n    dispatchResumeInterrupt(err) {\n        const go = this.handle(interruptWithError(err));\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    }\n    resumeInterrupt(err) {\n        this.runtime.dispatch(this.dispatchResumeInterrupt.bind(this), err);\n    }\n    next(value) {\n        var _a;\n        const frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(done(value));\n        return;\n    }\n    foldResume(status) {\n        E.fold((cause) => {\n            const go = this.handle(raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        }, (value) => {\n            const go = this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        })(status);\n    }\n    resume(status) {\n        this.cancelAsync = undefined;\n        this.runtime.dispatch(this.foldResume.bind(this), status);\n    }\n    contextSwitch(op) {\n        let complete = false;\n        const wrappedCancel = op((status) => {\n            if (complete) {\n                return;\n            }\n            complete = true;\n            this.resume(status);\n        });\n        this.cancelAsync = (cb) => {\n            complete = true;\n            wrappedCancel((err) => {\n                cb(err);\n            });\n        };\n    }\n    // tslint:disable-next-line: cyclomatic-complexity\n    loop(go) {\n        let current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        const env = !this.envStack.empty() ? this.envStack.tail.value : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        this.envStack.append(current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, (e) => T.effect.chain(T.sync(() => {\n                            this.envStack.deleteTail();\n                            return {};\n                        }), (_) => T.raised(e)), (r) => T.sync(() => {\n                            this.envStack.deleteTail();\n                            return r;\n                        })));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (O.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (E.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        this.contextSwitch(current.f0);\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(`Die: Unrecognized current type ${current}`);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    }\n    start(run) {\n        if (this.started) {\n            /* istanbul ignore next */\n            throw new Error(\"Bug: Runtime may not be started multiple times\");\n        }\n        this.started = true;\n        this.runtime.dispatch(this.loop.bind(this), run);\n    }\n    interrupt() {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n        if (this.cancelAsync && this.isInterruptible()) {\n            this.cancelAsync((err) => {\n                this.resumeInterrupt(err);\n            });\n        }\n    }\n}\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\n// Some utilities\nexport function tuple2(a, b) {\n    return [a, b];\n}\nexport function fst(a) {\n    // eslint-disable-line no-unused-vars\n    return a;\n}\nexport function snd(_, b) {\n    return b;\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ref.ts\n */\nimport * as T from \"./effect\";\n/**\n * Creates an IO that will allocate a Ref.\n * Curried form of makeRef_ to allow for inference on the initial type\n */\nexport const makeRef = (initial) => T.sync(() => {\n    let value = initial;\n    const get = T.sync(() => value);\n    const set = (a) => T.sync(() => {\n        const prev = value;\n        value = a;\n        return prev;\n    });\n    const update = (f) => T.sync(() => (value = f(value)));\n    const modify = (f) => T.sync(() => {\n        const [b, a] = f(value);\n        value = a;\n        return b;\n    });\n    return {\n        get,\n        set,\n        update,\n        modify\n    };\n});\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { option as O } from \"fp-ts\";\nexport class CompletableImpl {\n    constructor() {\n        this.completed = O.none;\n        this.listeners = [];\n    }\n    set(a) {\n        this.completed = O.some(a);\n        this.listeners.forEach((f) => f(a));\n    }\n    value() {\n        return this.completed;\n    }\n    isComplete() {\n        return O.isSome(this.completed);\n    }\n    complete(a) {\n        if (O.isSome(this.completed)) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    tryComplete(a) {\n        if (O.isSome(this.completed)) {\n            return false;\n        }\n        this.set(a);\n        return true;\n    }\n    listen(f) {\n        if (O.isSome(this.completed)) {\n            f(this.completed.value);\n        }\n        this.listeners.push(f);\n        return (cb) => {\n            this.listeners = this.listeners.filter((cb) => cb !== f);\n            cb();\n        };\n    }\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/deferred.ts\n */\nimport { CompletableImpl } from \"./original/support/completable\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nexport class DeferredImpl {\n    constructor(r) {\n        this.r = r;\n        this.c = new CompletableImpl();\n        this.wait = T.flatten(T.asyncTotal((callback) => this.c.listen(callback)));\n        this.interrupt = T.sync(() => {\n            this.c.complete(T.raiseInterrupt);\n        });\n    }\n    done(a) {\n        return T.sync(() => {\n            this.c.complete(T.pure(a));\n        });\n    }\n    error(e) {\n        return T.sync(() => {\n            this.c.complete(T.raiseError(e));\n        });\n    }\n    abort(e) {\n        return T.sync(() => {\n            this.c.complete(T.raiseAbort(e));\n        });\n    }\n    cause(e) {\n        return T.sync(() => {\n            this.c.complete(T.raised(e));\n        });\n    }\n    complete(exit) {\n        return T.sync(() => {\n            this.c.complete(T.completed(exit));\n        });\n    }\n    from(source) {\n        const completed = effect.chain(T.result(T.provide(this.r)(source)), (e) => this.complete(e));\n        return T.effect.onInterrupted(completed, this.interrupt);\n    }\n}\nexport function makeDeferred() {\n    return T.access((r) => new DeferredImpl(r));\n}\n","/**\n * This module provides a simuation of Haskell do notation.\n *\n * @since 0.1.0\n */\nimport { sequenceS } from 'fp-ts/es6/Apply';\nvar DoClass = /** @class */ (function () {\n    function DoClass(M, result) {\n        this.M = M;\n        this.result = result;\n    }\n    DoClass.prototype.do = function (action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function () { return s; }); }));\n    };\n    DoClass.prototype.doL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function () { return s; }); }));\n    };\n    DoClass.prototype.bind = function (name, action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.bindL = function (name, f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.let = function (name, a) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = a, _a));\n        }));\n    };\n    DoClass.prototype.letL = function (name, f) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = f(s), _a));\n        }));\n    };\n    DoClass.prototype.sequenceS = function (r) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(sequenceS(_this.M)(r), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.sequenceSL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(sequenceS(_this.M)(f(s)), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.return = function (f) {\n        return this.M.map(this.result, f);\n    };\n    DoClass.prototype.done = function () {\n        return this.result;\n    };\n    return DoClass;\n}());\nvar init = {};\nexport function Do(M) {\n    return new DoClass(M, M.of(init));\n}\n","import { either as Ei, function as F, option as Op, array as Ar, tree as TR, record as RE } from \"fp-ts\";\nimport { pipeable, pipe } from \"fp-ts/es6/pipeable\";\nimport * as ex from \"./original/exit\";\nimport { DriverSyncImpl } from \"./driverSync\";\nimport { DriverImpl } from \"./driver\";\nimport { fst, snd, tuple2 } from \"./original/support/util\";\nimport { EffectTag } from \"./defs\";\nimport { makeRef } from \"./ref\";\nimport { makeDeferred } from \"./deferred\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\n// WIP\n/* istanbul ignore file */\nexport { EffectTag };\nexport const URI = \"matechs/Effect\";\nexport class Implementation {\n    constructor(_tag, f0 = undefined, f1 = undefined, f2 = undefined) {\n        this._tag = _tag;\n        this.f0 = f0;\n        this.f1 = f1;\n        this.f2 = f2;\n    }\n    static fromEffect(eff) {\n        return eff;\n    }\n    /* istanbul ignore next */\n    _TAG() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _A() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _E() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _S() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _R(_) {\n        return undefined;\n    }\n}\n/**\n * An IO has succeeded\n * @param a the value\n */\nexport function pure(a) {\n    return new Implementation(EffectTag.Pure, a);\n}\n/**\n * An IO that is failed\n *\n * Prefer raiseError or raiseAbort\n * @param e\n */\nexport function raised(e) {\n    return new Implementation(EffectTag.Raised, e);\n}\n/**\n * An IO that is failed with a checked error\n * @param e\n */\nexport function raiseError(e) {\n    return raised(ex.raise(e));\n}\n/**\n * An IO that is failed with an unchecked error\n * @param u\n */\nexport function raiseAbort(u) {\n    return raised(ex.abort(u));\n}\n/**\n * An IO that is already interrupted\n */\nexport const raiseInterrupt = raised(ex.interrupt);\n/**\n * An IO that is completed with the given exit\n * @param exit\n */\nexport function completed(exit) {\n    return new Implementation(EffectTag.Completed, exit);\n}\n/**\n * Wrap a block of impure code that returns an IO into an IO\n *\n * When evaluated this IO will run the given thunk to produce the next IO to execute.\n * @param thunk\n */\nexport function suspended(thunk) {\n    return new Implementation(EffectTag.Suspended, thunk);\n}\n/**\n * Wrap a block of impure code in an IO\n *\n * When evaluated the this will produce a value or throw\n * @param thunk\n */\nexport function sync(thunk) {\n    return suspended(() => pure(thunk()));\n}\nexport function trySync(thunk) {\n    return suspended(() => {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(e);\n        }\n    });\n}\nexport function trySyncMap(onError) {\n    return (thunk) => suspended(() => {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(onError(e));\n        }\n    });\n}\n/**\n * Wrap an impure callback in an IO\n *\n * The provided function must accept a callback to report results to and return a cancellation action.\n * If your action is uncancellable for some reason, you should return an empty thunk and wrap the created IO\n * in uninterruptible\n * @param op\n */\nexport function async(op) {\n    return new Implementation(EffectTag.Async, op);\n}\n/**\n * Wrap an impure callback in IO\n *\n * This is a variant of async where the effect cannot fail with a checked exception.\n * @param op\n */\nexport function asyncTotal(op) {\n    return async((callback) => op((a) => callback(Ei.right(a))));\n}\n/**\n * Demarcate a region of interruptible state\n * @param inner\n * @param flag\n */\nexport function interruptibleRegion(inner, flag) {\n    return new Implementation(EffectTag.InterruptibleRegion, flag, inner);\n}\n/**\n * Produce an new IO that will use the value produced by inner to produce the next IO to evaluate\n * @param inner\n * @param bind\n */\nfunction chain_(inner, bind) {\n    return inner._tag === EffectTag.Pure\n        ? bind(inner.f0)\n        : new Implementation(EffectTag.Chain, inner, bind);\n}\nexport function chainOption(onEmpty) {\n    return (bind) => (inner) => chain_(inner, (a) => encaseOption(bind(a), onEmpty));\n}\nexport function chainEither(bind) {\n    return (inner) => chain_(inner, (a) => encaseEither(bind(a)));\n}\nexport function chainTask(bind) {\n    return (inner) => chain_(inner, (a) => encaseTask(bind(a)));\n}\nexport function chainTaskEither(bind) {\n    return (inner) => chain_(inner, (a) => encaseTaskEither(bind(a)));\n}\n/**\n * Lift an Either into an IO\n * @param e\n */\nexport function encaseEither(e) {\n    return new Implementation(EffectTag.PureEither, e);\n}\n/**\n * Lift an Option into an IO\n * @param o\n * @param onError\n */\nexport function encaseOption(o, onError) {\n    return new Implementation(EffectTag.PureOption, o, onError);\n}\n/**\n * Curried form of foldExit\n * @param failure\n * @param success\n */\nexport function foldExit(failure, success) {\n    return (io) => foldExit_(io, failure, success);\n}\n/**\n * Get the interruptible state of the current fiber\n */\nexport const accessInterruptible = new Implementation(EffectTag.AccessInterruptible, F.identity);\n/**\n * Get the runtime of the current fiber\n */\nexport const accessRuntime = new Implementation(EffectTag.AccessRuntime, F.identity);\n/**\n * Access the runtime then provide it to the provided function\n * @param f\n */\nexport function withRuntime(f) {\n    return chain_(accessRuntime, f);\n}\nexport function accessEnvironment() {\n    return new Implementation(EffectTag.AccessEnv);\n}\nexport function accessM(f) {\n    return chain_(accessEnvironment(), f);\n}\nexport function access(f) {\n    return map_(accessEnvironment(), f);\n}\n/**\n * Provides partial environment via the spread operator, providing several environment is possible via:\n * pipe(eff, provide(env1), provide(env2)) or pipe(eff, provide<Env1 & Env2>({...env1, ...env2}))\n *\n * the second parameter is used to invert the priority of newly provided environment\n * and should be used when you want subsequent providers to take precedence (i.e. having currently provided env as default)\n */\nexport function provide(r, inverted = \"regular\") {\n    return (eff) => provideR((r2) => (inverted === \"inverted\" ? Object.assign(Object.assign({}, r), r2) : Object.assign(Object.assign({}, r2), r)))(eff);\n}\n/**\n * Like provide where environment is resolved monadically\n */\nexport function provideM(rm, inverted = \"regular\") {\n    return (eff) => chain_(rm, (r) => provideR((r2) => (inverted === \"inverted\" ? Object.assign(Object.assign({}, r), r2) : Object.assign(Object.assign({}, r2), r)))(eff));\n}\nconst provideR = (f) => (ma) => accessM((r2) => new Implementation(EffectTag.ProvideEnv, ma, f(r2)));\n/**\n * Map the value produced by an IO\n * @param io\n * @param f\n */\nfunction map_(base, f) {\n    return base._tag === EffectTag.Pure\n        ? new Implementation(EffectTag.Pure, f(base.f0))\n        : new Implementation(EffectTag.Map, base, f);\n}\n/**\n * Lift a function on values to a function on IOs\n * @param f\n */\nexport function lift(f) {\n    return (io) => map_(io, f);\n}\nexport function liftEither(f) {\n    return (a) => suspended(() => fromEither(f(a)));\n}\n/**\n * Map the value produced by an IO to the constant b\n * @param io\n * @param b\n */\nexport function as(io, b) {\n    return map_(io, F.constant(b));\n}\n/**\n * Curried form of as\n * @param b\n */\nexport function to(b) {\n    return (io) => as(io, b);\n}\nexport function chainTap(bind) {\n    return (inner) => chainTap_(inner, bind);\n}\nconst chainTap_ = (inner, bind) => chain_(inner, (a) => as(bind(a), a));\n/**\n * Map the value produced by an IO to void\n * @param io\n */\nexport function asUnit(io) {\n    return as(io, undefined);\n}\n/**\n * An IO that succeeds immediately with void\n */\nexport const unit = pure(undefined);\n/**\n * Curriend form of chainError\n * @param f\n */\nexport function chainError(f) {\n    return (io) => chainError_(io, f);\n}\n/**\n * Map the error produced by an IO\n * @param f\n */\nexport function mapError(f) {\n    return (io) => mapLeft_(io, f);\n}\nfunction bimap_(io, leftMap, rightMap) {\n    return foldExit_(io, (cause) => (cause._tag === \"Raise\" ? raiseError(leftMap(cause.error)) : completed(cause)), F.flow(rightMap, pure));\n}\n/**\n * Zip the result of two IOs together using the provided function\n * @param first\n * @param second\n * @param f\n */\nfunction zipWith_(first, second, f) {\n    return chain_(first, (a) => map_(second, (b) => f(a, b)));\n}\nexport function zipWith(second, f) {\n    return (first) => zipWith_(first, second, f);\n}\n/**\n * Zip the result of two IOs together into a tuple type\n * @param first\n * @param second\n */\nfunction zip_(first, second) {\n    return zipWith_(first, second, tuple2);\n}\nexport function zip(second) {\n    return (first) => zip_(first, second);\n}\n/**\n * Evaluate two IOs in sequence and produce the value produced by the first\n * @param first\n * @param second\n */\nexport function applyFirst(first, second) {\n    return zipWith_(first, second, fst);\n}\n/**\n * Evaluate two IOs in sequence and produce the value produced by the second\n * @param first\n * @param second\n */\nexport function applySecond(first, second) {\n    return zipWith_(first, second, snd);\n}\n/**\n * Evaluate two IOs in sequence and produce the value of the second.\n * This is suitable for cases where second is recursively defined\n * @param first\n * @param second\n */\nexport function applySecondL(first, second) {\n    return chain_(first, second);\n}\n/**\n * Flipped argument form of ap\n * @param ioa\n * @param iof\n */\nexport function ap__(ioa, iof) {\n    // Find the apply/thrush operator I'm sure exists in fp-ts somewhere\n    return zipWith_(ioa, iof, (a, f) => f(a));\n}\n/**\n * Applicative ap\n * @param iof\n * @param ioa\n */\nfunction ap_(iof, ioa) {\n    return zipWith_(iof, ioa, (f, a) => f(a));\n}\n/**\n * Flip the error and success channels in an IO\n * @param io\n */\nexport function flip(io) {\n    return foldExit_(io, (error) => (error._tag === \"Raise\" ? pure(error.error) : completed(error)), raiseError);\n}\n/**\n * Execute the provided IO forever (or until it errors)\n * @param io\n */\nexport function forever(io) {\n    return chain_(io, () => forever(io));\n}\n/**\n * Create an IO that traps all exit states of io.\n *\n * Note that interruption will not be caught unless in an uninterruptible region\n * @param io\n */\nexport function result(io) {\n    return foldExit_(io, pure, (d) => pure(ex.done(d)));\n}\n/**\n * Create an interruptible region around the evalution of io\n * @param io\n */\nexport function interruptible(io) {\n    return interruptibleRegion(io, true);\n}\n/**\n * Create an uninterruptible region around the evaluation of io\n * @param io\n */\nexport function uninterruptible(io) {\n    return interruptibleRegion(io, false);\n}\n/**\n * Create an IO that produces void after ms milliseconds\n * @param ms\n */\nexport function after(ms) {\n    return chain_(accessRuntime, (runtime) => asyncTotal((callback) => runtime.dispatchLater(callback, undefined, ms)));\n}\nfunction makeInterruptMaskCutout(state) {\n    return (inner) => interruptibleRegion(inner, state);\n}\n/**\n * Create an uninterruptible masked region\n *\n * When the returned IO is evaluated an uninterruptible region will be created and , f will receive an InterruptMaskCutout that can be used to restore the\n * interruptible status of the region above the one currently executing (which is uninterruptible)\n * @param f\n */\nexport function uninterruptibleMask(f) {\n    return chain_(accessInterruptible, (flag) => {\n        const cutout = makeInterruptMaskCutout(flag);\n        return uninterruptible(f(cutout));\n    });\n}\n/**\n * Create an interruptible masked region\n *\n * Similar to uninterruptibleMask\n * @param f\n */\nexport function interruptibleMask(f) {\n    return chain_(accessInterruptible, (flag) => interruptible(f(makeInterruptMaskCutout(flag))));\n}\nfunction combineFinalizerExit(fiberExit, releaseExit) {\n    if (fiberExit._tag === \"Done\" && releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else if (fiberExit._tag === \"Done\") {\n        return releaseExit;\n    }\n    else if (releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else {\n        // TODO: Figure out how to sanely report both of these, we swallow them currently\n        // This would affect chainError (i.e. assume multiples are actually an abort condition that happens to be typed)\n        return fiberExit;\n    }\n}\n/**\n * Resource acquisition and release construct.\n *\n * Once acquire completes successfully, release is guaranteed to execute following the evaluation of the IO produced by use.\n * Release receives the exit state of use along with the resource.\n * @param acquire\n * @param release\n * @param use\n */\nexport function bracketExit(acquire, release, use) {\n    return uninterruptibleMask((cutout) => chain_(acquire, (a) => chain_(result(cutout(use(a))), (exit) => chain_(result(release(a, exit)), (finalize) => completed(combineFinalizerExit(exit, finalize))))));\n}\n/**\n * Weaker form of bracketExit where release does not receive the exit status of use\n * @param acquire\n * @param release\n * @param use\n */\nexport function bracket(acquire, release, use) {\n    // tslint:disable-next-line: no-unnecessary-callback-wrapper\n    return bracketExit(acquire, (e) => release(e), use);\n}\n/**\n * Guarantee that once ioa begins executing the finalizer will execute.\n * @param ioa\n * @param finalizer\n */\nfunction onComplete_(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => chain_(result(finalizer), (finalize) => completed(combineFinalizerExit(exit, finalize)))));\n}\nexport function onComplete(finalizer) {\n    return (ioa) => onComplete_(ioa, finalizer);\n}\n/**\n * Guarantee that once ioa begins executing if it is interrupted finalizer will execute\n * @param ioa\n * @param finalizer\n */\nfunction onInterrupted_(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => exit._tag === \"Interrupt\"\n        ? chain_(result(finalizer), (finalize) => completed(combineFinalizerExit(exit, finalize)))\n        : completed(exit)));\n}\nexport function onInterrupted(finalizer) {\n    return (ioa) => onInterrupted_(ioa, finalizer);\n}\nexport function combineInterruptExit(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => exit._tag === \"Interrupt\"\n        ? chain_(result(finalizer), (finalize) => {\n            /* istanbul ignore else */\n            if (finalize._tag === \"Done\") {\n                const errors = pipe([exit.error, ...finalize.value.map((x) => x.error)], Ar.filter((x) => x !== undefined));\n                return errors.length > 0\n                    ? completed(ex.interruptWithErrorAndOthers(errors[0], Ar.dropLeft(1)(errors)))\n                    : completed(exit);\n            }\n            else {\n                console.warn(\"BUG: interrupt finalizer should not fail\");\n                return completed(exit);\n            }\n        })\n        : completed(exit)));\n}\n/**\n * Introduce a gap in executing to allow other fibers to execute (if any are pending)\n */\nexport const shifted = uninterruptible(chain_(accessRuntime, (runtime) => asyncTotal((callback) => {\n    runtime.dispatch(callback, undefined);\n    return (cb) => {\n        cb();\n    };\n})));\n/**\n * Introduce asynchronous gap before io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nexport function shiftBefore(io) {\n    return applySecond(shifted, io);\n}\n/**\n * Introduce asynchronous gap after an io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nexport function shiftAfter(io) {\n    return applyFirst(io, shifted);\n}\n/**\n * Introduce an asynchronous gap that will suspend the runloop and return control to the javascript vm\n */\nexport const shiftedAsync = uninterruptible(chain_(accessRuntime, (runtime) => asyncTotal((callback) => runtime.dispatchLater(callback, undefined, 0))));\n/**\n * Introduce an asynchronous gap before IO\n * @param io\n */\nexport function shiftAsyncBefore(io) {\n    return applySecond(shiftedAsync, io);\n}\n/**\n * Introduce asynchronous gap after an IO\n * @param io\n */\nexport function shiftAsyncAfter(io) {\n    return applyFirst(io, shiftedAsync);\n}\n/**\n * An IO that never produces a value or an error.\n *\n * This IO will however prevent a javascript runtime such as node from exiting by scheduling an interval for 60s\n */\nexport const never = asyncTotal(() => {\n    const handle = setInterval(() => {\n        //\n    }, 60000);\n    /* istanbul ignore next */\n    return (cb) => {\n        clearInterval(handle);\n        cb();\n    };\n});\n/**\n * Delay evaluation of inner by some amount of time\n * @param inner\n * @param ms\n */\nexport function delay(inner, ms) {\n    return applySecond(after(ms), inner);\n}\n/**\n * Curried form of delay\n */\nexport function liftDelay(ms) {\n    return (io) => delay(io, ms);\n}\nexport class FiberImpl {\n    constructor(driver, n) {\n        this.driver = driver;\n        this.n = n;\n        this.name = Op.fromNullable(this.n);\n        this.sendInterrupt = sync(() => {\n            this.driver.interrupt();\n        });\n        this.wait = asyncTotal((f) => this.driver.onExit(f));\n        this.interrupt = applySecond(this.sendInterrupt, this.wait);\n        this.join = chain_(this.wait, completed);\n        this.result = chain_(sync(() => this.driver.completed), (opt) => (opt === null ? pureNone : map_(completed(opt), Op.some)));\n        this.isComplete = sync(() => this.driver.completed !== null);\n    }\n}\nconst pureNone = pure(Op.none);\n/**\n * Implementation of Stack/waver fork. Creates an IO that will fork a fiber in the background\n * @param init\n * @param name\n */\nexport function makeFiber(init, name) {\n    return accessM((r) => chain_(accessRuntime, (runtime) => sync(() => {\n        const driver = new DriverImpl(runtime);\n        const fiber = new FiberImpl(driver, name);\n        driver.start(provide(r)(init));\n        return fiber;\n    })));\n}\n/**\n * Fork the program described by IO in a separate fiber.\n *\n * This fiber will begin executing once the current fiber releases control of the runloop.\n * If you need to begin the fiber immediately you should use applyFirst(forkIO, shifted)\n * @param io\n * @param name\n */\nexport function fork(io, name) {\n    return makeFiber(io, name);\n}\nfunction completeLatched(latch, channel, combine, other) {\n    return (exit) => {\n        const act = latch.modify((flag) => !flag ? [channel.from(combine(exit, other)), true] : [unit, flag]);\n        return flatten(act);\n    };\n}\n/**\n * Race two fibers together and combine their results.\n *\n * This is the primitive from which all other racing and timeout operators are built and you should favor those unless you have very specific needs.\n * @param first\n * @param second\n * @param onFirstWon\n * @param onSecondWon\n */\nexport function raceFold(first, second, onFirstWon, onSecondWon) {\n    return accessM((r) => uninterruptibleMask((cutout) => chain_(makeRef(false), (latch) => chain_(makeDeferred(), (channel) => chain_(fork(provide(r)(first)), (fiber1) => chain_(fork(provide(r)(second)), (fiber2) => chain_(fork(chain_(fiber1.wait, completeLatched(latch, channel, onFirstWon, fiber2))), () => chain_(fork(chain_(fiber2.wait, completeLatched(latch, channel, onSecondWon, fiber1))), () => combineInterruptExit(cutout(channel.wait), chain_(fiber1.interrupt, (i1) => map_(fiber2.interrupt, (i2) => [i1, i2])))))))))));\n}\n/**\n * Execute an IO and produce the next IO to run based on whether it completed successfully in the alotted time or not\n * @param source\n * @param ms\n * @param onTimeout\n * @param onCompleted\n */\nexport function timeoutFold(source, ms, onTimeout, onCompleted) {\n    return raceFold(source, after(ms), \n    /* istanbul ignore next */\n    (exit, delayFiber) => applySecond(delayFiber.interrupt, onCompleted(exit)), (_, fiber) => onTimeout(fiber));\n}\nfunction interruptLoser(exit, loser) {\n    return applySecond(loser.interrupt, completed(exit));\n}\n/**\n * Return the reuslt of the first IO to complete or error successfully\n * @param io1\n * @param io2\n */\nexport function raceFirst(io1, io2) {\n    return raceFold(io1, io2, interruptLoser, interruptLoser);\n}\nfunction fallbackToLoser(exit, loser) {\n    return exit._tag === \"Done\" ? applySecond(loser.interrupt, completed(exit)) : loser.join;\n}\n/**\n * Return the result of the first IO to complete successfully.\n *\n * If an error occurs, fall back to the other IO.\n * If both error, then fail with the second errors\n * @param io1\n * @param io2\n */\nexport function race(io1, io2) {\n    return raceFold(io1, io2, fallbackToLoser, fallbackToLoser);\n}\n/**\n * Zip the result of 2 ios executed in parallel together with the provided function.\n * @param ioa\n * @param iob\n * @param f\n */\nexport function parZipWith(ioa, iob, f) {\n    return raceFold(ioa, iob, (aExit, bFiber) => zipWith_(completed(aExit), bFiber.join, f), (bExit, aFiber) => zipWith_(aFiber.join, completed(bExit), f));\n}\n/**\n * Tuple the result of 2 ios executed in parallel\n * @param ioa\n * @param iob\n */\nexport function parZip(ioa, iob) {\n    return parZipWith(ioa, iob, tuple2);\n}\n/**\n * Execute two ios in parallel and take the result of the first.\n * @param ioa\n * @param iob\n */\nexport function parApplyFirst(ioa, iob) {\n    return parZipWith(ioa, iob, fst);\n}\n/**\n * Exeute two IOs in parallel and take the result of the second\n * @param ioa\n * @param iob\n */\nexport function parApplySecond(ioa, iob) {\n    return parZipWith(ioa, iob, snd);\n}\n/**\n * Parallel form of ap\n * @param ioa\n * @param iof\n */\nexport function parAp(ioa, iof) {\n    return parZipWith(ioa, iof, (a, f) => f(a));\n}\n/**\n * Parallel form of ap_\n * @param iof\n * @param ioa\n */\nexport function parAp_(iof, ioa) {\n    return parZipWith(iof, ioa, (f, a) => f(a));\n}\n/**\n * Convert an error into an unchecked error.\n * @param io\n */\nexport function orAbort(io) {\n    return chainError_(io, raiseAbort);\n}\n/**\n * Run source for a maximum amount of ms.\n *\n * If it completes succesfully produce a some, if not interrupt it and produce none\n * @param source\n * @param ms\n */\nexport function timeoutOption(source, ms) {\n    return timeoutFold(source, ms, (actionFiber) => applySecond(actionFiber.interrupt, pureNone), (exit) => map_(completed(exit), Op.some));\n}\n/**\n * Create an IO from a Promise factory.\n * @param thunk\n */\nexport function fromPromise(thunk) {\n    return uninterruptible(async((callback) => {\n        thunk()\n            .then((v) => callback(Ei.right(v)))\n            .catch((e) => callback(Ei.left(e)));\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    }));\n}\nexport function encaseTask(task) {\n    return orAbort(fromPromise(task));\n}\nexport function encaseTaskEither(taskEither) {\n    return async((callback) => {\n        taskEither().then(callback);\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    });\n}\nexport function fromPromiseMap(onError) {\n    return (thunk) => async((callback) => {\n        thunk()\n            .then((v) => callback(Ei.right(v)))\n            .catch((e) => callback(Ei.left(onError(e))));\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    });\n}\n/**\n * Run the given IO with the provided environment.\n * @param io\n * @param r\n * @param callback\n */\nexport function run(io, callback) {\n    const driver = new DriverImpl();\n    if (callback) {\n        driver.onExit(callback);\n    }\n    driver.start(io);\n    return () => driver.interrupt();\n}\n/**\n * Run the given IO syncroniously\n * returns left if any async operation\n * is found\n * @param io\n */\nexport function runSync(io) {\n    return pipe(new DriverSyncImpl().start(io), Ei.fold((e) => {\n        throw e;\n    }, (e) => e));\n}\n/* istanbul skip next */\nexport function runUnsafeSync(io) {\n    const result = runSync(io);\n    if (result._tag !== \"Done\") {\n        throw result._tag === \"Raise\"\n            ? result.error\n            : result._tag === \"Abort\"\n                ? result.abortedWith\n                : result;\n    }\n    return result.value;\n}\n/**\n * Run an IO and return a Promise of its result\n *\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nexport function runToPromise(io) {\n    return new Promise((resolve, reject) => run(io, (exit) => {\n        switch (exit._tag) {\n            case \"Done\":\n                resolve(exit.value);\n                return;\n            case \"Abort\":\n                reject(exit.abortedWith);\n                return;\n            case \"Raise\":\n                reject(exit.error);\n                return;\n            case \"Interrupt\":\n                reject();\n                return;\n        }\n    }));\n}\n/**\n * Run an IO returning a promise of an Exit.\n *\n * The Promise will not reject.\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nexport function runToPromiseExit(io) {\n    return new Promise((result) => run(io, result));\n}\nfunction chainError_(io, f) {\n    return foldExit_(io, (cause) => (cause._tag === \"Raise\" ? f(cause.error) : completed(cause)), pure);\n}\nconst foldExit_ = (inner, failure, success) => new Implementation(EffectTag.Collapse, inner, failure, success);\nconst mapLeft_ = (io, f) => chainError_(io, F.flow(f, raiseError));\nconst alt_ = chainError_;\nexport function alt(fy) {\n    return (fx) => alt_(fx, fy);\n}\nexport const effect = {\n    URI,\n    map: map_,\n    of: pure,\n    ap: ap_,\n    chain: chain_,\n    bimap: bimap_,\n    mapLeft: mapLeft_,\n    mapError: mapLeft_,\n    throwError: raiseError,\n    chainError: chainError_,\n    foldExit: foldExit_,\n    chainTap: chainTap_,\n    alt: alt_,\n    onInterrupted: onInterrupted_,\n    onComplete: onComplete_,\n    zip: zip_,\n    zipWith: zipWith_\n};\nexport const Do = () => DoG(effect);\nexport const sequenceS = SS(effect);\nexport const sequenceT = ST(effect);\nexport const parEffect = {\n    URI,\n    _CTX: \"async\",\n    of: pure,\n    map: map_,\n    ap: parAp_,\n    chain: chain_,\n    throwError: raiseError\n};\nexport const parDo = () => DoG(parEffect);\nexport const parSequenceS = SS(parEffect);\nexport const parSequenceT = ST(parEffect);\nconst { ap, apFirst, apSecond, \n// toto\nbimap, chain, chainFirst, filterOrElse, flatten, fromEither, fromOption, fromPredicate, map, mapLeft } = pipeable(effect);\nexport { ap, apFirst, apSecond, bimap, chain, chainFirst, filterOrElse, flatten, fromEither, fromOption, fromPredicate, map, mapLeft };\nexport function getSemigroup(s) {\n    return {\n        concat(x, y) {\n            return zipWith_(x, y, s.concat);\n        }\n    };\n}\nexport function getMonoid(m) {\n    return Object.assign(Object.assign({}, getSemigroup(m)), { empty: pure(m.empty) });\n}\n/* conditionals */\nexport function when(predicate) {\n    return (ma) => (predicate ? map_(ma, Op.some) : pure(Op.none));\n}\nexport function or_(predicate) {\n    return (ma) => (mb) => (predicate ? map_(ma, Ei.left) : map_(mb, Ei.right));\n}\nexport function or(ma) {\n    return (mb) => (predicate) => (predicate ? map_(ma, Ei.left) : map_(mb, Ei.right));\n}\nexport function condWith(predicate) {\n    return (ma) => (mb) => (predicate ? ma : mb);\n}\nexport function cond(ma) {\n    return (mb) => (predicate) => (predicate ? ma : mb);\n}\nexport function fromNullableM(ma) {\n    return map_(ma, Op.fromNullable);\n}\nexport function getCauseSemigroup(S) {\n    return {\n        concat: (ca, cb) => {\n            if (ca._tag === \"Interrupt\" || cb._tag === \"Interrupt\") {\n                return ca;\n            }\n            if (ca._tag === \"Abort\") {\n                return ca;\n            }\n            if (cb._tag === \"Abort\") {\n                return cb;\n            }\n            return ex.raise(S.concat(ca.error, cb.error));\n        }\n    };\n}\nexport function getValidationM(S) {\n    return getCauseValidationM(getCauseSemigroup(S));\n}\nexport function getCauseValidationM(S) {\n    return {\n        URI,\n        _E: undefined,\n        of: pure,\n        map: map_,\n        chain: chain_,\n        ap: (fab, fa) => foldExit_(fab, (fabe) => foldExit_(fa, (fae) => raised(S.concat(fabe, fae)), (_) => raised(fabe)), (f) => map_(fa, f)),\n        throwError: raiseError,\n        alt: (fa, fb) => foldExit_(fa, (e) => foldExit_(fb(), (fbe) => raised(S.concat(e, fbe)), pure), pure)\n    };\n}\nexport function effectify(f) {\n    return function () {\n        const args = Array.prototype.slice.call(arguments);\n        return async((cb) => {\n            const cbResolver = (e, r) => \n            // tslint:disable-next-line: triple-equals\n            e != null ? cb(Ei.left(e)) : cb(Ei.right(r));\n            f.apply(null, args.concat(cbResolver));\n            /* istanbul ignore next */\n            return (cb) => {\n                cb();\n            };\n        });\n    };\n}\nexport const sequenceOption = Op.option.sequence(effect);\nexport const traverseOption = (f) => (ta) => Op.option.traverse(effect)(ta, f);\nexport const wiltOption = (f) => (wa) => Op.option.wilt(effect)(wa, f);\nexport const witherOption = (f) => (ta) => Op.option.wither(effect)(ta, f);\nexport const sequenceEither = Ei.either.sequence(effect);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(effect)(ta, f);\nexport const sequenceTree = TR.tree.sequence(effect);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(effect)(ta, f);\nexport const sequenceTreePar = TR.tree.sequence(parEffect);\nexport const traverseTreePar = (f) => (ta) => TR.tree.traverse(parEffect)(ta, f);\nexport const sequenceArray = Ar.array.sequence(effect);\nexport const traverseArray = (f) => (ta) => Ar.array.traverse(effect)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => Ar.array.traverseWithIndex(effect)(ta, f);\nexport const wiltArray = (f) => (wa) => Ar.array.wilt(effect)(wa, f);\nexport const witherArray = (f) => (ta) => Ar.array.wither(effect)(ta, f);\nexport const sequenceArrayPar = Ar.array.sequence(parEffect);\nexport const traverseArrayPar = (f) => (ta) => Ar.array.traverse(parEffect)(ta, f);\nexport const traverseArrayWithIndexPar = (f) => (ta) => Ar.array.traverseWithIndex(parEffect)(ta, f);\nexport const wiltArrayPar = (f) => (wa) => Ar.array.wilt(parEffect)(wa, f);\nexport const witherArrayPar = (f) => (ta) => Ar.array.wither(parEffect)(ta, f);\nexport const sequenceRecord = RE.record.sequence(effect);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(effect)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(effect)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(effect)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(effect)(ta, f);\nexport const sequenceRecordPar = RE.record.sequence(parEffect);\nexport const traverseRecordPar = (f) => (ta) => RE.record.traverse(parEffect)(ta, f);\nexport const traverseRecordWithIndexPar = (f) => (ta) => RE.record.traverseWithIndex(parEffect)(ta, f);\nexport const wiltRecordPar = (f) => (wa) => RE.record.wilt(parEffect)(wa, f);\nexport const witherRecordPar = (f) => (ta) => RE.record.wither(parEffect)(ta, f);\n","import { function as F } from \"fp-ts\";\nimport { done } from \"./original/exit\";\nimport * as T from \"./effect\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\nimport * as Ar from \"fp-ts/es6/Array\";\nimport * as Op from \"fp-ts/es6/Option\";\nimport * as Ei from \"fp-ts/es6/Either\";\nimport * as TR from \"fp-ts/es6/Tree\";\nimport * as RE from \"fp-ts/es6/Record\";\nexport var ManagedTag;\n(function (ManagedTag) {\n    ManagedTag[ManagedTag[\"Pure\"] = 0] = \"Pure\";\n    ManagedTag[ManagedTag[\"Encase\"] = 1] = \"Encase\";\n    ManagedTag[ManagedTag[\"Bracket\"] = 2] = \"Bracket\";\n    ManagedTag[ManagedTag[\"Suspended\"] = 3] = \"Suspended\";\n    ManagedTag[ManagedTag[\"Chain\"] = 4] = \"Chain\";\n    ManagedTag[ManagedTag[\"BracketExit\"] = 5] = \"BracketExit\";\n})(ManagedTag || (ManagedTag = {}));\nconst toM = (_) => _;\nconst fromM = (_) => _;\n/**\n * Lift a pure value into a resource\n * @param value\n */\nexport function pure(value) {\n    return toM(() => ({\n        _tag: ManagedTag.Pure,\n        value\n    }));\n}\n/**\n * Create a Resource by wrapping an IO producing a value that does not need to be disposed\n *\n * @param res\n * @param f\n */\nexport function encaseEffect(rio) {\n    return toM((r) => ({\n        _tag: ManagedTag.Encase,\n        acquire: T.provide(r)(rio)\n    }));\n}\n/**\n * Create a resource from an acquisition and release function\n * @param acquire\n * @param release\n */\nexport function bracket(acquire, release) {\n    return toM((r) => ({\n        _tag: ManagedTag.Bracket,\n        acquire: T.provide(r)(acquire),\n        release: (a) => T.provide(r)(release(a))\n    }));\n}\nexport function bracketExit(acquire, release) {\n    return toM((r) => ({\n        _tag: ManagedTag.BracketExit,\n        acquire: T.provide(r)(acquire),\n        release: (a, e) => T.provide(r)(release(a, e))\n    }));\n}\n/**\n * Lift an IO of a Resource into a resource\n * @param suspended\n */\nexport function suspend(suspended) {\n    return toM((r) => ({\n        _tag: ManagedTag.Suspended,\n        suspended: T.effect.map(T.provide(r)(suspended), (m) => (_) => fromM(m)(r))\n    }));\n}\n/**\n * Compose dependent resourcess.\n *\n * The scope of left will enclose the scope of the resource produced by bind\n * @param left\n * @param bind\n */\nfunction chain_(left, bind) {\n    return toM((r) => ({\n        _tag: ManagedTag.Chain,\n        left: provideAll(r)(left),\n        bind: (l) => provideAll(r)(bind(l))\n    }));\n}\n/**\n * Curried form of chain\n * @param bind\n */\nexport function chain(bind) {\n    return (left) => chain_(left, bind);\n}\n/**\n * Map a resource\n * @param res\n * @param f\n */\nfunction map_(res, f) {\n    return chain_(res, (r) => pure(f(r)));\n}\n/**\n * Curried form of map\n * @param f\n */\nexport function map(f) {\n    return (res) => map_(res, f);\n}\n/**\n * Zip two resources together with the given function.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n * @param f\n */\nexport function zipWith(resa, resb, f) {\n    return chain_(resa, (a) => map_(resb, (b) => f(a, b)));\n}\n/**\n * Zip two resources together as a tuple.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n */\nexport function zip(resa, resb) {\n    return zipWith(resa, resb, (a, b) => [a, b]);\n}\n/**\n * Apply the function produced by resfab to the value produced by resa to produce a new resource.\n * @param resa\n * @param resfab\n */\nexport function ap(resa, resfab) {\n    return zipWith(resa, resfab, (a, f) => f(a));\n}\n/**\n * Flipped version of ap\n * @param resfab\n * @param resa\n */\nfunction ap_(resfab, resa) {\n    return zipWith(resfab, resa, (f, a) => f(a));\n}\n/**\n * Map a resource to a static value\n *\n * This creates a resource of the provided constant b where the produced A has the same lifetime internally\n * @param fa\n * @param b\n */\nexport function as(fa, b) {\n    return map_(fa, F.constant(b));\n}\n/**\n * Curried form of as\n * @param b\n */\nexport function to(b) {\n    return (fa) => as(fa, b);\n}\n/**\n * Construct a new 'hidden' resource using the produced A with a nested lifetime\n * Useful for performing initialization and cleanup that clients don't need to see\n * @param left\n * @param bind\n */\nexport function chainTap(left, bind) {\n    return chain_(left, (a) => as(bind(a), a));\n}\n/**\n * Curried form of chainTap\n * @param bind\n */\nexport function chainTapWith(bind) {\n    return (inner) => chainTap(inner, bind);\n}\n/**\n * Curried data last form of use\n * @param f\n */\nexport function consume(f) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return (r) => use(r, f);\n}\n/**\n * Create a Resource from the fiber of an IO.\n * The acquisition of this resource corresponds to forking rio into a fiber.\n * The destruction of the resource is interrupting said fiber.\n * @param rio\n */\nexport function fiber(rio) {\n    return bracket(T.fork(rio), (fiber) => fiber.interrupt);\n}\n/**\n * Use a resource to produce a program that can be run.s\n * @param res\n * @param f\n */\nexport function use(res, f) {\n    return T.accessM((r) => {\n        const c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return f(c.value);\n            case ManagedTag.Encase:\n                return T.effect.chain(c.acquire, f);\n            case ManagedTag.Bracket:\n                return T.bracket(c.acquire, c.release, f);\n            case ManagedTag.BracketExit:\n                return T.bracketExit(c.acquire, (a, e) => c.release(a, e), f);\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, consume(f));\n            case ManagedTag.Chain:\n                return use(c.left, (a) => use(c.bind(a), f));\n        }\n    });\n}\n/**\n * Create an IO action that will produce the resource for this managed along with its finalizer\n * action seperately.\n *\n * If an error occurs during allocation then any allocated resources should be cleaned up, but once the\n * Leak object is produced it is the callers responsibility to ensure release is invoked.\n * @param res\n */\nexport function allocate(res) {\n    return T.accessM((r) => {\n        const c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return T.pure({ a: c.value, release: T.unit });\n            case ManagedTag.Encase:\n                return T.effect.map(c.acquire, (a) => ({ a, release: T.unit }));\n            case ManagedTag.Bracket:\n                return T.effect.map(c.acquire, (a) => ({ a, release: c.release(a) }));\n            case ManagedTag.BracketExit:\n                // best effort, because we cannot know what the exit status here\n                return T.effect.map(c.acquire, (a) => ({\n                    a,\n                    release: c.release(a, done(undefined))\n                }));\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, allocate);\n            case ManagedTag.Chain:\n                return T.bracketExit(allocate(c.left), (leak, exit) => (exit._tag === \"Done\" ? T.unit : leak.release), (leak) => T.effect.map(allocate(c.bind(leak.a)), \n                // Combine the finalizer actions of the outer and inner resource\n                (innerLeak) => ({\n                    a: innerLeak.a,\n                    release: T.effect.onComplete(innerLeak.release, leak.release)\n                })));\n        }\n    });\n}\n/**\n * Use a resource to provide part of the environment to an effect\n * @param man\n * @param ma\n */\nexport function provide(man, inverted = \"regular\") {\n    return (ma) => use(man, (r) => T.provide(r, inverted)(ma));\n}\nexport const URI = \"matechs/Managed\";\nexport const managed = {\n    URI,\n    of: pure,\n    map: map_,\n    ap: ap_,\n    chain: chain_\n};\nexport function getSemigroup(Semigroup) {\n    return {\n        concat(x, y) {\n            return zipWith(x, y, Semigroup.concat);\n        }\n    };\n}\nexport function getMonoid(Monoid) {\n    return Object.assign(Object.assign({}, getSemigroup(Monoid)), { empty: pure(Monoid.empty) });\n}\nfunction provideAll(r) {\n    return (ma) => toM(() => fromM(ma)(r));\n}\nexport const Do = () => DoG(managed);\nexport const sequenceS = SS(managed);\nexport const sequenceT = ST(managed);\nexport const sequenceOption = Op.option.sequence(managed);\nexport const traverseOption = (f) => (ta) => Op.option.traverse(managed)(ta, f);\nexport const wiltOption = (f) => (wa) => Op.option.wilt(managed)(wa, f);\nexport const witherOption = (f) => (ta) => Op.option.wither(managed)(ta, f);\nexport const sequenceEither = Ei.either.sequence(managed);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(managed)(ta, f);\nexport const sequenceTree = TR.tree.sequence(managed);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(managed)(ta, f);\nexport const sequenceArray = Ar.array.sequence(managed);\nexport const traverseArray = (f) => (ta) => Ar.array.traverse(managed)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => Ar.array.traverseWithIndex(managed)(ta, f);\nexport const wiltArray = (f) => (wa) => Ar.array.wilt(managed)(wa, f);\nexport const witherArray = (f) => (ta) => Ar.array.wither(managed)(ta, f);\nexport const sequenceRecord = RE.record.sequence(managed);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(managed)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(managed)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(managed)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(managed)(ta, f);\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\nimport { function as F, option as O, pipeable as P } from \"fp-ts\";\nexport function isCons(list) {\n    return list._tag === \"cons\";\n}\nexport function isNil(list) {\n    return list._tag === \"nil\";\n}\nexport const nil = { _tag: \"nil\" };\nexport function cons(h, t) {\n    return {\n        _tag: \"cons\",\n        head: h,\n        tail: t\n    };\n}\nexport function of(a) {\n    return cons(a, nil);\n}\nexport function foldl(list, b, f) {\n    let iter = list;\n    let seed = b;\n    while (isCons(iter)) {\n        seed = f(seed, iter.head);\n        iter = iter.tail;\n    }\n    return seed;\n}\nexport function foldlc(b, f) {\n    return (list) => foldl(list, b, f);\n}\nexport function reverse(list) {\n    return foldl(list, nil, (t, h) => cons(h, t));\n}\nexport function foldr(list, b, f) {\n    return P.pipe(list, reverse, foldlc(b, F.flip(f)));\n}\nexport function snoc(append, list) {\n    return foldr(list, of(append), cons);\n}\nexport function cata(list, ifCons, ifNil) {\n    if (isCons(list)) {\n        return ifCons(list.head, list.tail);\n    }\n    return ifNil();\n}\nexport function catac(ifCons, ifNil) {\n    return (list) => cata(list, ifCons, ifNil);\n}\nexport function head(list) {\n    return cata(list, O.some, () => O.none);\n}\nexport function tail(list) {\n    return cata(list, (_, rest) => O.some(rest), () => O.none);\n}\nexport function last(list) {\n    if (isNil(list)) {\n        return O.none;\n    }\n    let iter = list;\n    while (isCons(iter.tail)) {\n        iter = iter.tail;\n    }\n    return O.some(iter.head);\n}\nexport const isEmpty = isNil;\nexport const nonEmpty = F.not(isNil);\nexport function find(list, f) {\n    let iter = list;\n    while (isCons(iter)) {\n        if (f(iter.head)) {\n            return O.some(iter.head);\n        }\n        iter = iter.tail;\n    }\n    return O.none;\n}\nexport function findc(f) {\n    return (list) => find(list, f);\n}\nexport function foldrc(b, f) {\n    return (list) => foldr(list, b, f);\n}\nexport function map(list, f) {\n    return P.pipe(list, foldlc(nil, (t, a) => cons(f(a), t)), reverse);\n}\nexport function lift(f) {\n    return (list) => map(list, f);\n}\nexport function filter(list, f) {\n    return foldr(list, nil, (a, t) => (f(a) ? cons(a, t) : t));\n}\nexport function filterc(f) {\n    return (list) => filter(list, f);\n}\nexport function concat(front, back) {\n    return foldr(front, back, cons);\n}\n/**\n * Get the size of a list.\n *\n * This has pathologically bad performance.\n * @param list\n */\nexport function size(list) {\n    let ct = 0;\n    let iter = list;\n    while (isCons(iter)) {\n        ct++;\n        iter = iter.tail;\n    }\n    return ct;\n}\nexport function chain(list, f) {\n    return P.pipe(list, lift(f), foldlc(nil, concat));\n}\nexport function ap(list, fns) {\n    return chain(list, (a) => map(fns, (f) => f(a)));\n}\nexport function flatten(list) {\n    return foldl(list, nil, concat);\n}\nexport function fromArray(as) {\n    return as.reduceRight((t, h) => cons(h, t), nil);\n}\nexport function toArray(as) {\n    const out = [];\n    let iter = as;\n    while (isCons(iter)) {\n        out.push(iter.head);\n        iter = iter.tail;\n    }\n    return out;\n}\nexport const URI = \"matechs/WaveList\";\nexport const instances = {\n    URI,\n    map,\n    of,\n    ap: F.flip(ap),\n    chain\n};\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\nimport { option as O, pipeable as P } from \"fp-ts\";\nimport * as l from \"./list\";\nimport { cons, nil } from \"./list\";\nclass DequeueImpl {\n    constructor(front, back) {\n        this.front = front;\n        this.back = back;\n    }\n    take() {\n        return l.cata(this.front, (h, t) => O.some([h, new DequeueImpl(t, this.back)]), () => P.pipe(this.back, l.reverse, l.catac((h, t) => O.some([h, new DequeueImpl(t, nil)]), () => O.none)));\n    }\n    offer(a) {\n        return new DequeueImpl(this.front, cons(a, this.back));\n    }\n    pull() {\n        return l.cata(this.back, (h, t) => O.some([h, new DequeueImpl(this.front, t)]), () => P.pipe(this.front, l.reverse, l.catac((h, t) => O.some([h, new DequeueImpl(nil, t)]), () => O.none)));\n    }\n    push(a) {\n        return new DequeueImpl(cons(a, this.front), this.back);\n    }\n    filter(p) {\n        return new DequeueImpl(l.filter(this.front, p), l.filter(this.back, p));\n    }\n    size() {\n        return l.size(this.front) + l.size(this.back);\n    }\n    isEmpty() {\n        return l.isEmpty(this.front) && l.isEmpty(this.back);\n    }\n    find(p) {\n        return O.option.alt(l.find(this.front, p), () => l.find(this.back, p));\n    }\n}\nexport function from(front, back) {\n    return new DequeueImpl(front, back);\n}\nexport function empty() {\n    return from(nil, nil);\n}\nexport function of(a) {\n    return from(l.of(a), nil);\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ticket.ts\n  credits to original author\n */\nimport * as T from \"./effect\";\nexport function ticketExit(ticket, exit) {\n    if (exit._tag === \"Interrupt\") {\n        return ticket.cleanup;\n    }\n    return T.unit;\n}\nexport function ticketUse(ticket) {\n    return ticket.acquire;\n}\nexport function makeTicket(acquire, cleanup) {\n    return {\n        acquire,\n        cleanup\n    };\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/semaphore.ts\n  credits to original author\n */\nimport { either as E, function as F, option as O, pipeable as P } from \"fp-ts\";\nimport { empty } from \"./original/support/dequeue\";\nimport { makeDeferred } from \"./deferred\";\nimport { makeRef } from \"./ref\";\nimport { makeTicket, ticketExit, ticketUse } from \"./ticket\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nconst isReservationFor = (latch) => (rsv) => rsv[1] === latch;\nfunction sanityCheck(n) {\n    if (n < 0) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits must be non negative\"));\n    }\n    if (Math.round(n) !== n) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits may not be fractional\"));\n    }\n    return T.unit;\n}\nfunction makeSemaphoreImpl(ref) {\n    const releaseN = (n) => T.applySecond(sanityCheck(n), T.uninterruptible(n === 0\n        ? T.unit\n        : T.flatten(ref.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.take(), O.fold(() => [T.unit, E.right(n)], ([[needed, latch], q]) => n >= needed\n            ? [\n                T.applyFirst(latch.done(undefined), n > needed ? releaseN(n - needed) : T.unit),\n                E.left(q)\n            ]\n            : [T.unit, E.left(q.push([needed - n, latch]))])), (ready) => [T.unit, E.right(ready + n)]))))));\n    const cancelWait = (n, latch) => T.uninterruptible(T.flatten(ref.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.find(isReservationFor(latch)), O.fold(() => [releaseN(n), E.left(waiting)], ([pending]) => [\n        releaseN(n - pending),\n        E.left(waiting.filter(F.not(isReservationFor(latch))))\n    ])), (ready) => [T.unit, E.right(ready + n)])))));\n    const ticketN = (n) => effect.chain(makeDeferred(), (latch) => ref.modify((current) => P.pipe(current, E.fold((waiting) => [\n        makeTicket(latch.wait, cancelWait(n, latch)),\n        E.left(waiting.offer([n, latch]))\n    ], (ready) => ready >= n\n        ? [makeTicket(T.unit, releaseN(n)), E.right(ready - n)]\n        : [\n            makeTicket(latch.wait, cancelWait(n, latch)),\n            E.left(empty().offer([n - ready, latch]))\n        ]))));\n    const acquireN = (n) => T.applySecond(sanityCheck(n), n === 0 ? T.unit : T.bracketExit(ticketN(n), ticketExit, ticketUse));\n    const withPermitsN = (n, inner) => {\n        const acquire = T.interruptible(acquireN(n));\n        const release = releaseN(n);\n        return T.bracket(acquire, F.constant(release), () => inner);\n    };\n    const available = effect.map(ref.get, E.fold((q) => -1 * q.size(), F.identity));\n    return {\n        acquireN,\n        acquire: acquireN(1),\n        releaseN,\n        release: releaseN(1),\n        withPermitsN,\n        withPermit: (inner) => withPermitsN(1, inner),\n        available\n    };\n}\n/**\n * Allocate a semaphore.\n *\n * @param n the number of permits\n * This must be non-negative\n */\nexport function makeSemaphore(n) {\n    return T.applySecond(sanityCheck(n), effect.map(makeRef(E.right(n)), makeSemaphoreImpl));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/queue.ts\n  credits to original author\n */\nimport { either as E, function as F, option as O, pipeable as P } from \"fp-ts\";\nimport { makeDeferred } from \"./deferred\";\nimport { makeRef } from \"./ref\";\nimport { natNumber } from \"./sanity\";\nimport { makeSemaphore } from \"./semaphore\";\nimport { empty, of } from \"./original/support/dequeue\";\nimport { makeTicket, ticketExit, ticketUse } from \"./ticket\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nconst initial = () => E.right(empty());\nconst poption = P.pipeable(O.option);\nconst unboundedOffer = (queue, a) => queue.offer(a);\n// TODO: Need a better way of checking for this\n// Possibly predicates that allow testing if the queue is at least of some size\nconst slidingOffer = (n) => (queue, a) => queue.size() >= n\n    ? P.pipe(queue.take(), poption.map((t) => t[1]), O.getOrElse(() => queue)).offer(a)\n    : queue.offer(a);\nconst droppingOffer = (n) => (queue, a) => queue.size() >= n ? queue : queue.offer(a);\nfunction makeConcurrentQueueImpl(state, factory, overflowStrategy, \n// This is effect that precedes offering\n// in the case of a boudned queue it is responsible for acquiring the semaphore\nofferGate, \n// This is the function that wraps the constructed take IO action\n// In the case of a bounded queue, it is responsible for releasing the\n// semaphore and re-acquiring it on interrupt\ntakeGate) {\n    function cleanupLatch(latch) {\n        return T.asUnit(state.update((current) => P.pipe(current, E.fold((waiting) => E.left(waiting.filter((item) => item !== latch)), (available) => E.right(available)))));\n    }\n    const take = takeGate(T.bracketExit(effect.chain(factory, (latch) => state.modify((current) => P.pipe(current, E.fold((waiting) => [\n        makeTicket(latch.wait, cleanupLatch(latch)),\n        E.left(waiting.offer(latch))\n    ], (ready) => P.pipe(ready.take(), poption.map(([next, q]) => [makeTicket(T.pure(next), T.unit), E.right(q)]), O.getOrElse(() => [\n        makeTicket(latch.wait, cleanupLatch(latch)),\n        E.left(of(latch))\n    ])))))), ticketExit, ticketUse));\n    const offer = (a) => T.applySecond(offerGate, T.uninterruptible(T.flatten(state.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.take(), poption.map(([next, q]) => [next.done(a), E.left(q)]), O.getOrElse(() => [T.unit, E.right(overflowStrategy(empty(), a))])), (available) => [T.unit, E.right(overflowStrategy(available, a))]))))));\n    return {\n        take,\n        offer\n    };\n}\n/**\n * Create an unbounded concurrent queue\n */\nexport function unboundedQueue() {\n    return effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), unboundedOffer, T.unit, F.identity));\n}\nconst natCapacity = natNumber(new Error(\"Die: capacity must be a natural number\"));\n/**\n * Create a bounded queue with the given capacity that drops older offers\n * @param capacity\n */\nexport function slidingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), slidingOffer(capacity), T.unit, F.identity)));\n}\n/**\n * Create a dropping queue with the given capacity that drops offers on full\n * @param capacity\n */\nexport function droppingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), droppingOffer(capacity), T.unit, F.identity)));\n}\n/**\n * Create a bounded queue that blocks offers on capacity\n * @param capacity\n */\nexport function boundedQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), T.effect.zipWith(makeRef(initial()), makeSemaphore(capacity), (ref, sem) => makeConcurrentQueueImpl(ref, makeDeferred(), unboundedOffer, sem.acquire, (inner) => \n    // Before take, we must release the semaphore. If we are interrupted we should re-acquire the item\n    T.bracketExit(sem.release, (_, exit) => (exit._tag === \"Interrupt\" ? sem.acquire : T.unit), () => inner))));\n}\n","import * as T from \"./effect\";\n/* tested in wave */\n/* istanbul ignore next */\nexport const natNumber = (msg) => (n) => n < 0 || Math.round(n) !== n ? T.raiseAbort(msg) : T.unit;\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nexport var SinkStepTag;\n(function (SinkStepTag) {\n    SinkStepTag[SinkStepTag[\"Cont\"] = 0] = \"Cont\";\n    SinkStepTag[SinkStepTag[\"Done\"] = 1] = \"Done\";\n})(SinkStepTag || (SinkStepTag = {}));\nexport function sinkCont(s) {\n    return { _tag: SinkStepTag.Cont, state: s };\n}\nexport function sinkDone(s, leftover) {\n    return { _tag: SinkStepTag.Done, state: s, leftover };\n}\nexport function isSinkCont(s) {\n    return s._tag === SinkStepTag.Cont;\n}\nexport function isSinkDone(s) {\n    return s._tag === SinkStepTag.Done;\n}\nexport function sinkStepLeftover(s) {\n    if (s._tag === SinkStepTag.Cont) {\n        return [];\n    }\n    else {\n        return s.leftover;\n    }\n}\nexport function sinkStepState(s) {\n    return s.state;\n}\nexport function map(step, f) {\n    return Object.assign(Object.assign({}, step), { state: f(step.state) });\n}\nexport function mapWith(f) {\n    return (step) => map(step, f);\n}\nexport function traverse(F) {\n    return (step, f) => F.map(f(step.state), (s1) => (Object.assign(Object.assign({}, step), { state: s1 })));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\n/* tested in wave */\n/* istanbul ignore file */\nimport { option as O, function as F, pipeable as P } from \"fp-ts\";\nimport { sinkDone, sinkCont, isSinkDone } from \"./step\";\nimport * as T from \"../effect\";\nimport { effect } from \"../effect\";\n/**\n * Step a sink repeatedly.\n * If the sink completes before consuming all of the input, then the done state will include the ops leftovers\n * and anything left in the array\n * @param sink\n * @param s\n * @param multi\n */\nexport function stepMany(sink, s, multi) {\n    function go(current, i) {\n        if (i === multi.length) {\n            return T.pure(current);\n        }\n        else if (isSinkDone(current)) {\n            return T.pure(sinkDone(current.state, current.leftover.concat(multi.slice(i))));\n        }\n        else {\n            return effect.chain(sink.step(current.state, multi[i]), (next) => go(next, i + 1));\n        }\n    }\n    return go(sinkCont(s), 0);\n}\nexport function liftPureSink(sink) {\n    return {\n        initial: T.pure(sink.initial),\n        step: (state, next) => T.pure(sink.step(state, next)),\n        extract: F.flow(sink.extract, T.pure)\n    };\n}\nexport function collectArraySink() {\n    const initial = T.pure(sinkCont([]));\n    function step(state, next) {\n        return T.pure(sinkCont([...state, next]));\n    }\n    return { initial, extract: T.pure, step };\n}\nexport function drainSink() {\n    const initial = T.pure(sinkCont(undefined));\n    const extract = F.constant(T.unit);\n    function step(_state, _next) {\n        return T.pure(sinkCont(undefined));\n    }\n    return { initial, extract, step };\n}\n/**\n * A sink that consumes no input to produce a constant b\n * @param b\n */\nexport function constSink(b) {\n    const initial = T.pure(sinkDone(undefined, []));\n    const extract = F.constant(T.pure(b));\n    function step(_state, _next) {\n        return T.pure(sinkDone(undefined, []));\n    }\n    return { initial, extract, step };\n}\n/**\n * A sink that produces the head element of a stream (if any elements are emitted)\n */\nexport function headSink() {\n    const initial = T.pure(sinkCont(O.none));\n    function step(_state, next) {\n        return T.pure(sinkDone(O.some(next), []));\n    }\n    return { initial, extract: T.pure, step };\n}\n/**\n * A sink that produces the last element of a stream (if any elements are emitted)\n */\nexport function lastSink() {\n    const initial = T.pure(sinkCont(O.none));\n    function step(_state, next) {\n        return T.pure(sinkCont(O.some(next)));\n    }\n    return { initial, extract: T.pure, step };\n}\n/**\n * A sink that evalutes an action for every element of a sink and produces no value\n * @param f\n */\nexport function evalSink(f) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, next) {\n        return P.pipe(f(next), T.apSecond(T.pure(sinkCont(_state))));\n    }\n    const extract = F.constant(T.unit);\n    return { initial, extract, step };\n}\n/**\n * A sink that consumes elements for which a predicate does not hold.\n *\n * Returns the first element for which the predicate did hold if such an element is found.\n * @param f\n */\nexport function drainWhileSink(f) {\n    const initial = sinkCont(O.none);\n    function step(_state, a) {\n        return f(a) ? sinkCont(O.none) : sinkDone(O.some(a), []);\n    }\n    const extract = F.identity;\n    return liftPureSink({ initial, extract, step });\n}\n/**\n * A sink that offers elements into a concurrent queue\n *\n * @param queue\n */\nexport function queueSink(queue) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(a), sinkCont(undefined));\n    }\n    const extract = F.constant(T.unit);\n    return { initial, extract, step };\n}\n/**\n * A sink that offers elements into a queue after wrapping them in an option.\n *\n * The sink will offer one final none into the queue when the stream terminates\n * @param queue\n */\nexport function queueOptionSink(queue) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(O.some(a)), sinkCont(undefined));\n    }\n    const extract = F.constant(queue.offer(O.none));\n    return { initial, extract, step };\n}\n/**\n * Map the output value of a sink\n * @param sink\n * @param f\n */\nexport function map(sink, f) {\n    return Object.assign(Object.assign({}, sink), { extract: F.flow(sink.extract, T.map(f)) });\n}\n","import * as list from \"../list\";\nimport { option as O, either as E } from \"fp-ts\";\nimport * as M from \"../managed\";\nimport * as T from \"../effect\";\nexport function queueUtils() {\n    const ops = list.empty();\n    const hasCB = {};\n    function next(o) {\n        if (hasCB.cb) {\n            const cb = hasCB.cb;\n            hasCB.cb = undefined;\n            cb(o);\n        }\n        else {\n            // TODO: figure out how to trigger if even possible\n            /* istanbul ignore next */\n            list.push(ops, o);\n        }\n    }\n    return { ops, hasCB, next };\n}\nexport function runFromQueue(op, callback) {\n    switch (op._tag) {\n        case \"error\":\n            callback(E.left(op.e));\n            // this will never be called\n            /* istanbul ignore next */\n            // tslint:disable-next-line: no-empty\n            return () => { };\n        case \"complete\":\n            callback(E.right(O.none));\n            // tslint:disable-next-line: no-empty\n            return () => { };\n        case \"offer\":\n            callback(E.right(O.some(op.a)));\n            // tslint:disable-next-line: no-empty\n            return () => { };\n    }\n}\nexport function emitter(ops, hasCB) {\n    return M.pure(T.async((callback) => {\n        const op = list.popUnsafe(ops);\n        if (op !== null) {\n            runFromQueue(op, callback);\n        }\n        else {\n            hasCB.cb = (o) => {\n                // TODO: figure out how to trigger if even possible, triggered by line 22\n                /* istanbul ignore if */\n                if (list.isNotEmpty(ops)) {\n                    list.push(ops, o);\n                    const op = list.popUnsafe(ops);\n                    if (op !== null) {\n                        runFromQueue(op, callback)();\n                    }\n                }\n                else {\n                    runFromQueue(o, callback)();\n                }\n            };\n        }\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    }));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/stream.ts\n  credits to original author\n */\nimport { array as A, either as Ei, function as F, option as O, pipeable as P, apply as AP, tree as TR, record as RE } from \"fp-ts\";\nimport { Writable } from \"stream\";\nimport * as T from \"../effect\";\nimport { effect } from \"../effect\";\nimport * as deferred from \"../deferred\";\nimport * as M from \"../managed\";\nimport * as cq from \"../queue\";\nimport * as ref from \"../ref\";\nimport * as semaphore from \"../semaphore\";\nimport { collectArraySink, drainSink, drainWhileSink, queueSink, stepMany } from \"./sink\";\nimport { isSinkCont, sinkStepLeftover, sinkStepState } from \"./step\";\nimport * as su from \"./support\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\nconst toS = (_) => _;\nconst fromS = (_) => _;\n// The contract of a Stream's fold is that state is preserved within the lifecycle of the managed\n// Therefore, we must track the offset in the array via a ref\n// This allows, for instance, this to work with transduce\nfunction arrayFold(as) {\n    return M.encaseEffect(effect.map(ref.makeRef(0), (cell) => (initial, cont, f) => {\n        function step(current) {\n            /* istanbul ignore else */\n            if (cont(current)) {\n                return P.pipe(cell.modify((i) => [i, i + 1]), // increment the i\n                T.chain((i) => i < as.length ? effect.chain(f(current, as[i]), step) : T.pure(current)));\n            }\n            else {\n                return T.pure(current);\n            }\n        }\n        return step(initial);\n    }));\n}\nfunction iteratorSource(iter) {\n    return T.sync(() => {\n        const n = iter.next();\n        if (n.done) {\n            return O.none;\n        }\n        return O.some(n.value);\n    });\n}\nfunction* rangeIterator(start, interval, end) {\n    let current = start;\n    while (!end || current < end) {\n        yield current;\n        current += interval || 1;\n    }\n}\n/**\n * Create a Stream from a source A action.\n *\n * The contract is that the acquisition of the resource should produce a Wave that may be repeatedly evaluated\n * during the scope of the Managed\n * If there is more data in the stream, the Wave should produce some(A) otherwise it should produce none.\n * Once it produces none, it will not be evaluated again.\n * @param r\n */\nexport function fromSource(r) {\n    return toS(M.managed.map(r, (pull) => {\n        function fold(initial, cont, step) {\n            return cont(initial)\n                ? P.pipe(pull, T.chain((out) => P.pipe(out, O.fold(() => T.pure(initial), (a) => effect.chain(step(initial, a), (next) => fold(next, cont, step))))))\n                : T.pure(initial);\n        }\n        return fold;\n    }));\n}\n/**\n * Create a stream from an Array\n * @param as\n */\nexport function fromArray(as) {\n    return toS(arrayFold(as));\n}\n/**\n * Create a stream from an iterator\n * @param iter\n */\nexport function fromIterator(iter) {\n    return P.pipe(M.encaseEffect(T.sync(iter)), M.map(iteratorSource), fromSource);\n}\n/**\n * Create a stream that emits the elements in a range\n * @param start\n * @param interval\n * @param end\n */\nexport function fromRange(start, interval, end) {\n    return fromIterator(() => rangeIterator(start, interval, end));\n}\n/**\n * Create a stream from an existing iterator\n * @param iter\n */\nexport function fromIteratorUnsafe(iter) {\n    return fromIterator(() => iter);\n}\n/**\n * Create a stream that emits a single element\n * @param a\n */\nexport function once(a) {\n    function fold(initial, cont, f) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return f(initial, a);\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\n/**\n * Create a stream that emits As as fast as possible\n *\n * Be cautious when using this. If your entire pipeline is full of synchronous actions you can block the main\n * thread until the stream runs to completion (or forever) using this\n * @param a\n */\nexport function repeatedly(a) {\n    function fold(initial, cont, f) {\n        function step(current) {\n            if (cont(current)) {\n                return T.shiftAfter(effect.chain(f(current, a), step));\n            }\n            return T.shiftAfter(T.pure(current));\n        }\n        return step(initial);\n    }\n    return toS(M.pure(fold));\n}\nexport function periodically(ms) {\n    return P.pipe(M.encaseEffect(ref.makeRef(-1)), M.map((r) => P.pipe(T.delay(r.update((n) => n + 1), ms), T.map(O.some))), fromSource);\n}\n/**\n * A stream that emits no elements an immediately terminates\n */\nexport const empty = toS(M.pure((initial, _cont, _f) => T.pure(initial)));\n/**\n * Create a stream that evalutes w to emit a single element\n * @param w\n */\nexport function encaseEffect(w) {\n    function fold(initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return P.pipe(w, T.chain((a) => step(initial, a)));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\n/**\n * Create a stream that immediately fails\n * @param e\n */\nexport function raised(e) {\n    return encaseEffect(T.raiseError(e));\n}\n/**\n * Create a stream that immediately aborts\n * @param e\n */\nexport function aborted(e) {\n    return encaseEffect(T.raiseAbort(e));\n}\n/**\n * Create a stream that immediately emits either 0 or 1 elements\n * @param opt\n */\nexport function fromOption(opt) {\n    return P.pipe(opt, O.fold(F.constant(empty), once));\n}\n/**\n * Zip all stream elements with their index ordinals\n * @param stream\n */\nexport function zipWithIndex(stream) {\n    return toS(M.managed.map(fromS(stream), (fold) => {\n        function zipFold(initial, cont, f) {\n            const folded = fold([initial, 0], (s) => cont(s[0]), ([s, i], a) => effect.map(f(s, [a, i]), (s) => [s, i + 1]));\n            return effect.map(folded, (s) => s[0]);\n        }\n        return zipFold;\n    }));\n}\n/**\n * Create a stream that emits all the elements of stream1 followed by all the elements of stream2\n * @param stream1\n * @param stream2\n */\nfunction concatL_(stream1, stream2) {\n    const w1 = fromS(stream1);\n    const w2 = () => fromS(stream2());\n    function fold(initial, cont, step) {\n        return P.pipe(M.use(w1, (fold1) => fold1(initial, cont, step)), T.chain((intermediate) => {\n            /* istanbul ignore else */\n            if (cont(intermediate)) {\n                return M.use(w2(), (fold2) => fold2(intermediate, cont, step));\n            }\n            else {\n                return T.pure(intermediate);\n            }\n        }));\n    }\n    return toS(M.pure(fold));\n}\nexport function concatL(stream2) {\n    return (s) => concatL_(s, stream2);\n}\n/**\n * Strict form of concatL\n * @param stream1\n * @param stream2\n */\nfunction concat_(stream1, stream2) {\n    return concatL_(stream1, F.constant(stream2));\n}\nexport function concat(stream2) {\n    return (s) => concat_(s, stream2);\n}\n/**\n * Creates a stream that repeatedly emits the elements of a stream forever.\n *\n * The elements are not cached, any effects required (i.e. opening files or sockets) are repeated for each cycle\n * @param stream\n */\nexport function repeat(stream) {\n    return concatL_(stream, () => repeat(stream));\n}\nfunction map_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outer) => (initial, cont, step) => outer(initial, cont, (s, a) => step(s, f(a)))));\n}\n/**\n * Map the elements of a stream\n * @param stream\n * @param f\n */\nexport function map(f) {\n    return (stream) => map_(stream, f);\n}\n/**\n * Map every element emitted by stream to b\n * @param stream\n * @param b\n */\nfunction as_(stream, b) {\n    return map_(stream, F.constant(b));\n}\nexport function as(b) {\n    return (s) => as_(s, b);\n}\n/**\n * Filter the elements of a stream by a predicate\n * @param stream\n * @param f\n */\nfunction filter_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outer) => (initial, cont, step) => outer(initial, cont, (s, a) => (f(a) ? step(s, a) : T.pure(s)))));\n}\nexport function filter(f) {\n    return (s) => filter_(s, f);\n}\n/**\n * Filter the stream so that only items that are not equal to the previous item emitted are emitted\n * @param eq\n */\nfunction distinctAdjacent_(stream, eq) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        const init = [initial, O.none];\n        const c = ([s]) => cont(s);\n        function stp(current, next) {\n            return P.pipe(current[1], O.fold(\n            // We haven't seen anything so just return\n            () => effect.map(step(current[0], next), (s) => [s, O.some(next)]), (seen) => eq.equals(seen, next)\n                ? T.pure(current)\n                : effect.map(step(current[0], next), (s) => [s, O.some(next)])));\n        }\n        return effect.map(base(init, c, stp), (s) => s[0]);\n    }));\n}\nexport function distinctAdjacent(eq) {\n    return (s) => distinctAdjacent_(s, eq);\n}\n/**\n * Fold the elements of this stream together using an effect.\n *\n * The resulting stream will emit 1 element produced by the effectful fold\n * @param stream\n * @param f\n * @param seed\n */\nfunction foldM_(stream, f, seed) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return effect.chain(base(seed, F.constant(true), f), (result) => step(initial, result));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }));\n}\nexport function foldM(seed, f) {\n    return (s) => foldM_(s, f, seed);\n}\n/**\n * Fold the elements of a stream together purely\n * @param stream\n * @param f\n * @param seed\n */\nfunction fold_(stream, f, seed) {\n    return foldM_(stream, (b, a) => T.pure(f(b, a)), seed);\n}\nfunction t2(a, b) {\n    return [a, b];\n}\nexport function fold(seed, f) {\n    return (s) => fold_(s, f, seed);\n}\n/**\n * Scan across the elements the stream.\n *\n * This is like foldM but emits every intermediate seed value in the resulting stream.\n * @param stream\n * @param f\n * @param seed\n */\nfunction scanM_(stream, f, seed) {\n    return concat_(once(seed), toS(P.pipe(M.zip(fromS(stream), M.encaseEffect(ref.makeRef(seed))), M.map(([base, accum]) => {\n        function fold(initial, cont, step) {\n            /* istanbul ignore else */\n            if (cont(initial)) {\n                // We need to figure out how to drive the base fold for a single step\n                // Thus, we switch state from true to false on execution\n                return P.pipe(accum.get, T.chain((b) => base(t2(b, true), (s) => s[1], (s, a) => effect.map(f(s[0], a), (r) => t2(r, false)))), T.chain(\n                // If this is still true, we didn't consume anything so advance\n                (s) => s[1]\n                    ? T.pure(initial)\n                    : T.applySecond(accum.set(s[0]), effect.chain(step(initial, s[0]), (next) => fold(next, cont, step)))));\n            }\n            else {\n                return T.pure(initial);\n            }\n        }\n        return fold;\n    }))));\n}\nexport function scanM(seed, f) {\n    return (s) => scanM_(s, f, seed);\n}\n/**\n * Purely scan a stream\n * @param stream\n * @param f\n * @param seed\n */\nfunction scan_(stream, f, seed) {\n    return scanM_(stream, (b, a) => T.pure(f(b, a)), seed);\n}\nexport function scan(seed, f) {\n    return (s) => scan_(s, f, seed);\n}\nfunction chain_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outerfold) => (initial, cont, step) => outerfold(initial, cont, (s, a) => {\n        /* istanbul ignore next */\n        if (cont(s)) {\n            const inner = f(a);\n            return M.use(fromS(inner), (innerfold) => innerfold(s, cont, step));\n        }\n        else {\n            return T.pure(s);\n        }\n    })));\n}\n/**\n * Monadic chain on a stream\n * @param stream\n * @param f\n */\nexport function chain(f) {\n    return (stream) => toS(M.managed.map(fromS(stream), (outerfold) => (initial, cont, step) => outerfold(initial, cont, (s, a) => {\n        /* istanbul ignore next */\n        if (cont(s)) {\n            const inner = f(a);\n            return M.use(fromS(inner), (innerfold) => innerfold(s, cont, step));\n        }\n        else {\n            return T.pure(s);\n        }\n    })));\n}\n/**\n * Flatten a stream of streams\n * @param stream\n */\nexport function flatten(stream) {\n    return chain_(stream, F.identity);\n}\n/**\n * Map each element of the stream effectfully\n * @param stream\n * @param f\n */\nfunction mapM_(stream, f) {\n    return chain_(stream, (a) => encaseEffect(f(a)));\n}\nexport function mapM(f) {\n    return (s) => mapM_(s, f);\n}\n/**\n * A stream that emits no elements but never terminates.\n */\nexport const never = mapM_(once(undefined), F.constant(T.never));\n/**\n * Transduce a stream via a sink.\n *\n * This repeatedly run a sink to completion on the elements of the input stream and emits the result of each run\n * Leftovers from a previous run are fed to the next run\n *\n * @param stream\n * @param sink\n */\nfunction transduce_(stream, sink) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        function feedSink(foldState, sinkState, chunk) {\n            return effect.chain(stepMany(sink, sinkState, chunk), (nextSinkStep) => isSinkCont(nextSinkStep)\n                ? // We need to let more data in to drive the sink\n                    T.pure([foldState, nextSinkStep.state, true])\n                : // We have a completion, so extract the value and then use it to advance the fold state\n                    P.pipe(sinkStepState(nextSinkStep), sink.extract, T.chain((b) => step(foldState, b)), T.chain((nextFoldState) => {\n                        const leftover = sinkStepLeftover(nextSinkStep);\n                        // We will re-initialize the sink\n                        return P.pipe(sink.initial, T.chain((nextNextSinkState) => {\n                            if (cont(nextFoldState) && leftover.length > 0) {\n                                return feedSink(nextFoldState, nextNextSinkState.state, leftover);\n                            }\n                            else {\n                                return T.pure([\n                                    nextFoldState,\n                                    nextNextSinkState.state,\n                                    false\n                                ]);\n                            }\n                        }));\n                    })));\n        }\n        const derivedInitial = effect.map(sink.initial, (initSink) => [initial, sinkStepState(initSink), false]);\n        return P.pipe(derivedInitial, T.chain((init) => base(init, (s) => cont(s[0]), (s, a) => feedSink(s[0], s[1], [a]))), T.chain(([foldState, sinkState, extract]) => extract && cont(foldState)\n            ? effect.chain(sink.extract(sinkState), (b) => step(foldState, b))\n            : T.pure(foldState)));\n    }));\n}\nexport function transduce(sink) {\n    return (s) => transduce_(s, sink);\n}\n/**\n * Drop some number of elements from a stream\n *\n * Their effects to be produced still occur in the background\n * @param stream\n * @param n\n */\nfunction drop_(stream, n) {\n    return P.pipe(zipWithIndex(stream), filter(([_, i]) => i >= n), map(([a]) => a));\n}\nexport function drop(n) {\n    return (s) => drop_(s, n);\n}\n/**\n * Take some number of elements of a stream\n * @param stream\n * @param n\n */\nfunction take_(stream, n) {\n    return toS(M.managed.map(fromS(stream), (fold) => (initial, cont, step) => effect.map(fold(t2(initial, 0), (t2s) => t2s[1] < n && cont(t2s[0]), (s, a) => effect.map(step(s[0], a), (next) => t2(next, s[1] + 1))), (t2s) => t2s[0])));\n}\nexport function take(n) {\n    return (s) => take_(s, n);\n}\n/**\n * Take elements of a stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction takeWhile_(stream, pred) {\n    return toS(M.managed.map(fromS(stream), (fold) => (initial, cont, step) => effect.map(fold(t2(initial, true), (t2s) => t2s[1] && cont(t2s[0]), (s, a) => pred(a)\n        ? effect.map(step(s[0], a), (next) => t2(next, true))\n        : T.pure(t2(s[0], false))), (t2s) => t2s[0])));\n}\nexport function takeWhile(pred) {\n    return (s) => takeWhile_(s, pred);\n}\n/**\n * Take elements from a stream until a given effect resolves.\n *\n * @param until The effect that will terminate the stream\n * @param stream The stream\n */\nfunction takeUntil_(stream, until) {\n    const wrappedUntil = as({ type: \"until\" })(encaseEffect(until));\n    const wrappedStream = P.pipe(stream, map((value) => ({ type: \"stream\", value })));\n    return P.pipe(mergeAll([wrappedUntil, wrappedStream]), takeWhile((wrapped) => wrapped.type === \"stream\"), filter((wrapped) => wrapped.type === \"stream\"), map((wrapped) => wrapped.value));\n}\nexport function takeUntil(until) {\n    return (s) => takeUntil_(s, until);\n}\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param sink\n */\nfunction into_(stream, sink) {\n    return M.use(fromS(stream), (fold) => P.pipe(sink.initial, T.chain((init) => fold(init, isSinkCont, (s, a) => sink.step(s.state, a))), T.map((s) => s.state), T.chain(sink.extract)));\n}\nexport function into(sink) {\n    return (s) => into_(s, sink);\n}\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param managedSink\n */\nfunction intoManaged_(stream, managedSink) {\n    return M.use(managedSink, (sink) => into_(stream, sink));\n}\nexport function intoManaged(managedSink) {\n    return (s) => intoManaged_(s, managedSink);\n}\n/**\n * Push a stream in a sink to produce the result and the leftover\n * @param stream\n * @param sink\n */\nfunction intoLeftover_(stream, sink) {\n    return M.use(stream, (fold) => P.pipe(sink.initial, T.chain((init) => fold(init, isSinkCont, (s, a) => sink.step(s.state, a))), T.chain((end) => effect.map(sink.extract(end.state), (b) => [b, sinkStepLeftover(end)]))));\n}\nexport function intoLeftover(sink) {\n    return (s) => intoLeftover_(s, sink);\n}\nfunction sinkQueue(stream) {\n    return M.managed.chain(M.zip(\n    // 0 allows maximum backpressure throttling (i.e. a reader must be waiting already to produce the item)\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), ([q, latch]) => {\n        const write = effect.foldExit(into_(map_(stream, O.some), queueSink(q)), (c) => latch.cause(c), F.constant(q.offer(O.none)));\n        return M.as(M.fiber(write), [q, latch]);\n    });\n}\n/**\n * Zip two streams together termitating when either stream is exhausted\n * @param as\n * @param bs\n * @param f\n */\nfunction zipWith_(as, bs, f) {\n    const source = M.zipWith(sinkQueue(as), sinkQueue(bs), ([aq, alatch], [bq, blatch]) => {\n        const atake = P.pipe(aq.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n        // Confirm we have seen the last element\n        () => alatch.done(O.none), () => T.unit // just keep going\n        ))));\n        const agrab = T.raceFirst(atake, alatch.wait);\n        const btake = P.pipe(bq.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n        // Confirm we have seen the last element\n        () => blatch.done(O.none), () => T.unit // just keep going\n        ))));\n        const bgrab = T.raceFirst(btake, blatch.wait);\n        return T.effect.zipWith(agrab, bgrab, (aOpt, bOpt) => O.option.chain(aOpt, (a) => O.option.map(bOpt, (b) => f(a, b))));\n    });\n    return fromSource(source);\n}\nexport function zipWith(bs, f) {\n    return (s) => zipWith_(s, bs, f);\n}\n/**\n * zipWith to form tuples\n * @param as\n * @param bs\n */\nfunction zip_(as, bs) {\n    return zipWith_(as, bs, (a, b) => [a, b]);\n}\nexport function zip(bs) {\n    return (as) => zip_(bs, as);\n}\n/**\n * Given a queue and a Deferred for signalling exits construct a Wave of a pull operation.\n * The protocol is that errors are propogated through the latch and the latch can be used to track completion.\n * Once a none is received through the queue, this read process completes the latch with none to to make the finish durable\n * in the face of repeated reads (which is important for peel)\n *\n * @param queue\n * @param breaker\n */\nfunction queueBreakerSource(queue, breaker) {\n    const take = P.pipe(queue.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n    // Confirm we have seen the last element by closing the breaker so subsequent reads see it\n    F.constant(breaker.done(O.none)), \n    // do nothing to the breaker if we got an element\n    F.constant(T.unit)))));\n    return T.raceFirst(take, breaker.wait);\n}\n/**\n * Construct a Source for a Stream.\n * During the scope of the Managed, Wave will repeatedly pull items from a queue being managed in the background\n * @param stream\n */\nfunction streamQueueSource(stream) {\n    return M.managed.map(sinkQueue(stream), ([q, breaker]) => queueBreakerSource(q, breaker));\n}\n/**\n * Feed a stream into a sink to produce a value.\n *\n * Emits the value and a 'remainder' stream that includes the rest of the elements of the input stream.\n * @param stream\n * @param sink\n */\nfunction peel_(stream, sink) {\n    return toS(M.managed.chain(streamQueueSource(stream), (pull) => {\n        const pullStream = fromSource(M.pure(pull));\n        // We now have a shared pull instantiation that we can use as a sink to drive and return as a stream\n        return fromS(P.pipe(encaseEffect(intoLeftover_(pullStream, sink)), map(([b, left]) => [b, concat_(fromArray(left), pullStream)])));\n    }));\n}\nexport function peel(sink) {\n    return (s) => peel_(s, sink);\n}\nfunction peelManaged_(stream, managedSink) {\n    return toS(M.managed.chain(managedSink, (sink) => fromS(peel_(stream, sink))));\n}\nexport function peelManaged(managedSink) {\n    return (s) => peelManaged_(s, managedSink);\n}\nfunction interruptFiberSlot(slot) {\n    return effect.chain(slot.get, (optFiber) => P.pipe(optFiber, O.fold(() => T.pure(O.none), (f) => T.effect.map(f.interrupt, O.some))));\n}\nfunction waitFiberSlot(slot) {\n    return effect.chain(slot.get, (optFiber) => P.pipe(optFiber, O.fold(() => T.pure(undefined), (f) => T.asUnit(f.wait))));\n}\nfunction singleFiberSlot() {\n    return M.bracket(ref.makeRef(O.none), interruptFiberSlot);\n}\n/**\n * Create a stream that switches to emitting elements of the most recent input stream.\n * @param stream\n */\nexport function switchLatest(stream) {\n    const source = M.managed.chain(streamQueueSource(stream), (pull // read streams\n    ) => M.managed.chain(M.zip(\n    // The queue and latch to push into\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), ([pushQueue, pushBreaker]) => \n    // The internal latch that can be used to signal failures and shut down the read process\n    M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (internalBreaker) => \n    // somewhere to hold the currently running fiber so we can interrupt it on termination\n    M.managed.chain(singleFiberSlot(), (fiberSlot) => {\n        const interruptPushFiber = interruptFiberSlot(fiberSlot);\n        // Spawn a fiber that should push elements from stream into pushQueue as long as it is able\n        function spawnPushFiber(stream) {\n            const writer = P.pipe(\n            // The writer process pushes things into the queue\n            into_(map_(stream, O.some), queueSink(pushQueue)), \n            // We need to trap any errors that occur and send those to internal latch to halt the process\n            // Dont' worry about interrupts, because we perform cleanups for single fiber slot\n            T.foldExit((e) => internalBreaker.done(e), F.constant(T.pure(undefined)) // we can do nothing because we will delegate to the proxy\n            ));\n            return T.applyFirst(interruptPushFiber, effect.chain(T.fork(writer), (f) => fiberSlot.set(O.some(f))));\n        }\n        // pull streams and setup the push fibers appropriately\n        function advanceStreams() {\n            // We need a way of looking ahead to see errors in the output streams in order to cause termination\n            // The push fiber will generate this when it encounters a failure\n            const breakerError = effect.chain(internalBreaker.wait, T.raised);\n            return effect.foldExit(T.raceFirst(pull, breakerError), \n            // In the event of an error either from pull or from upstream we need to shut everything down\n            // On managed unwind the active production fiber will be interrupted if there is one\n            (cause) => pushBreaker.cause(cause), (nextOpt) => P.pipe(nextOpt, O.fold(\n            // nothing left, so we should wait the push fiber's completion and then forward the termination\n            () => P.pipe(T.race(breakerError, waitFiberSlot(fiberSlot)), T.foldExit((c) => pushBreaker.cause(c), // if we get a latchError forward it through to downstream\n            F.constant(pushQueue.offer(O.none)) // otherwise we are done, so lets forward that\n            )), (next) => T.applySecondL(spawnPushFiber(next), advanceStreams))));\n        }\n        // We can configure this source now, but it will be invalid outside of running fibers\n        // Thus we can use managed.fiber\n        const downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n        return M.as(M.fiber(advanceStreams()), downstreamSource);\n    }))));\n    return fromSource(source);\n}\n/**\n * Create a stream that switches to emitting the elements of the most recent stream produced by applying f to the\n * element most recently emitted\n * @param stream\n * @param f\n */\n/* istanbul ignore next */\nfunction chainSwitchLatest_(stream, f) {\n    return switchLatest(map_(stream, f));\n}\n/* istanbul ignore next */\nexport function chainSwitchLatest(f) {\n    return (s) => chainSwitchLatest_(s, f);\n}\nfunction interruptWeaveHandles(ref) {\n    return effect.chain(ref.get, (fibers) => T.asUnit(A.array.traverse(T.effect)(fibers, (fiber) => fiber[1].interrupt)));\n}\n// Track many fibers for the purpose of clean interruption on failure\nconst makeWeave = M.managed.chain(M.encaseEffect(ref.makeRef(0)), (cell) => \n// On cleanup we want to interrupt any running fibers\nM.managed.map(M.bracket(ref.makeRef([]), interruptWeaveHandles), (store) => {\n    function attach(action) {\n        return P.pipe(AP.sequenceS(T.effect)({\n            next: cell.update((n) => n + 1),\n            fiber: T.fork(action)\n        }), T.chainTap(({ next, fiber }) => store.update((handles) => [...handles, [next, fiber]])), T.chainTap(({ next, fiber }) => T.fork(T.applySecond(fiber.wait, store.update(A.filter((h) => h[0] !== next))))), T.asUnit);\n    }\n    return { attach };\n}));\n/**\n * Merge a stream of streams into a single stream.\n *\n * This stream will run up to maxActive streams concurrently to produce values into the output stream.\n * @param stream the input stream\n * @param maxActive the maximum number of streams to hold active at any given time\n * this controls how much active streams are able to collectively produce in the face of a slow downstream consumer\n */\nfunction merge_(stream, maxActive) {\n    const source = M.managed.chain(streamQueueSource(stream), (pull) => M.managed.chain(M.encaseEffect(semaphore.makeSemaphore(maxActive)), (sem) => \n    // create the queue that output will be forced into\n    M.managed.chain(M.encaseEffect(cq.boundedQueue(0)), (pushQueue) => \n    // create the mechanism t hrough which we can signal completion\n    M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (pushBreaker) => M.managed.chain(makeWeave, (weave) => M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (internalBreaker) => {\n        // create a wave action that will proxy elements created by running the stream into the push queue\n        // if any errors occur, we set the breaker\n        function spawnPushFiber(stream) {\n            const writer = P.pipe(\n            // Process to sink elements into the queue\n            into_(map_(stream, O.some), queueSink(pushQueue)), \n            // TODO: I don't think we need to handle interrupts, it shouldn't be possible\n            T.foldExit((e) => internalBreaker.done(e), F.constant(T.pure(undefined))));\n            return weave.attach(sem.withPermit(writer)); // we need a permit to start\n        }\n        // The action that will pull a single stream upstream and attempt to activate it to push downstream\n        function advanceStreams() {\n            const breakerError = effect.chain(internalBreaker.wait, T.raised);\n            return effect.foldExit(T.raceFirst(pull, // we don't want to pull until there is capacity\n            breakerError), (c) => pushBreaker.cause(c), // if upstream errored, we should push the failure downstream immediately\n            (nextOpt // otherwise we should\n            ) => P.pipe(nextOpt, O.fold(\n            // The end has occured\n            F.constant(P.pipe(\n            // We will wait for an error or all active produces to finish\n            T.race(breakerError, sem.acquireN(maxActive)), T.foldExit((c) => pushBreaker.cause(c), F.constant(pushQueue.offer(O.none))))), \n            // Start the push fiber and then keep going\n            (next) => T.applySecondL(sem.withPermit(spawnPushFiber(next)), F.constant(advanceStreams())))));\n        }\n        const downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n        return M.as(M.fiber(advanceStreams()), downstreamSource);\n    }))))));\n    return fromSource(source);\n}\nexport function merge(maxActive) {\n    return (stream) => merge_(stream, maxActive);\n}\nfunction chainMerge_(stream, f, maxActive) {\n    return merge_(map_(stream, f), maxActive);\n}\nexport function chainMerge(maxActive, f) {\n    return (s) => chainMerge_(s, f, maxActive);\n}\nexport function mergeAll(streams) {\n    return merge_(fromArray(streams), streams.length);\n}\n/**\n * Drop elements of the stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction dropWhile_(stream, pred) {\n    return chain_(peel_(stream, drainWhileSink(pred)), ([head, rest]) => concat_(fromOption(head), rest));\n}\nexport function dropWhile(pred) {\n    return (s) => dropWhile_(s, pred);\n}\n/**\n * Collect all the elements emitted by a stream into an array.\n * @param stream\n */\nexport function collectArray(stream) {\n    return into_(stream, collectArraySink());\n}\n/**\n * Evaluate a stream for its effects\n * @param stream\n */\nexport function drain(stream) {\n    return into_(stream, drainSink());\n}\nexport const URI = \"matechs/Stream\";\nexport const stream = {\n    URI,\n    _CTX: \"async\",\n    map: map_,\n    of: (a) => once(a),\n    ap: (sfab, sa) => zipWith_(sfab, sa, (f, a) => f(a)),\n    chain: chain_,\n    as: as_,\n    chainMerge: chainMerge_,\n    chainSwitchLatest: chainSwitchLatest_,\n    concat: concat_,\n    concatL: concatL_,\n    distinctAdjacent: distinctAdjacent_,\n    drop: drop_,\n    dropWhile: dropWhile_,\n    filter: filter_,\n    fold: fold_,\n    foldM: foldM_,\n    into: into_,\n    intoLeftover: intoLeftover_,\n    intoManaged: intoManaged_,\n    mapM: mapM_,\n    merge: merge_,\n    peel: peel_,\n    peelManaged: peelManaged_,\n    scan: scan_,\n    scanM: scanM_,\n    take: take_,\n    takeWhile: takeWhile_,\n    takeUntil: takeUntil_,\n    transduce: transduce_,\n    zip: zip_,\n    zipWith: zipWith_\n};\n/* extensions */\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStream(stream) {\n    return M.managed.chain(M.encaseEffect(T.sync(() => {\n        const { next, ops, hasCB } = su.queueUtils();\n        stream.on(\"end\", () => {\n            next({ _tag: \"complete\" });\n        });\n        stream.on(\"error\", (e) => {\n            next({ _tag: \"error\", e: Ei.toError(e) });\n        });\n        stream.pipe(new Writable({\n            objectMode: true,\n            write(chunk, _, callback) {\n                next({ _tag: \"offer\", a: chunk });\n                callback();\n            }\n        }));\n        return { ops, hasCB };\n    })), ({ hasCB, ops }) => su.emitter(ops, hasCB));\n}\n/* istanbul ignore next */\nexport function fromObjectReadStream(stream) {\n    return fromSource(getSourceFromObjectReadStream(stream));\n}\n// TODO: generalize this to batch over generic stream\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStreamB(stream, batch, every) {\n    return M.encaseEffect(T.sync(() => {\n        let open = true;\n        const leftover = [];\n        const errors = [];\n        stream.on(\"end\", () => {\n            open = false;\n        });\n        stream.on(\"error\", (e) => {\n            errors.push(e);\n        });\n        stream.pipe(new Writable({\n            objectMode: true,\n            write(chunk, _, callback) {\n                leftover.push(chunk);\n                callback();\n            }\n        }));\n        return T.delay(T.async((res) => {\n            if (leftover.length > 0) {\n                res(Ei.right(O.some(leftover.splice(0, batch))));\n            }\n            else {\n                if (errors.length > 0) {\n                    res(Ei.left(errors[0]));\n                }\n                else {\n                    if (open) {\n                        res(Ei.right(O.some([])));\n                    }\n                    else {\n                        res(Ei.right(O.none));\n                    }\n                }\n            }\n            // tslint:disable-next-line: no-empty\n            return (cb) => {\n                cb();\n            };\n        }), every);\n    }));\n}\n/* istanbul ignore next */\nexport function fromObjectReadStreamB(stream, batch, every) {\n    return fromSource(getSourceFromObjectReadStreamB(stream, batch, every));\n}\nexport { su };\nexport const Do = () => DoG(stream);\nexport const sequenceS = SS(stream);\nexport const sequenceT = ST(stream);\nexport const sequenceOption = O.option.sequence(stream);\nexport const traverseOption = (f) => (ta) => O.option.traverse(stream)(ta, f);\nexport const wiltOption = (f) => (wa) => O.option.wilt(stream)(wa, f);\nexport const witherOption = (f) => (ta) => O.option.wither(stream)(ta, f);\nexport const sequenceEither = Ei.either.sequence(stream);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(stream)(ta, f);\nexport const sequenceTree = TR.tree.sequence(stream);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(stream)(ta, f);\nexport const sequenceArray = A.array.sequence(stream);\nexport const traverseArray = (f) => (ta) => A.array.traverse(stream)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => A.array.traverseWithIndex(stream)(ta, f);\nexport const wiltArray = (f) => (wa) => A.array.wilt(stream)(wa, f);\nexport const witherArray = (f) => (ta) => A.array.wither(stream)(ta, f);\nexport const sequenceRecord = RE.record.sequence(stream);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(stream)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(stream)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(stream)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(stream)(ta, f);\n","import * as S from \"./stream\";\nimport * as Sink from \"./sink\";\nimport * as Q from \"../queue\";\nimport * as T from \"../effect\";\nimport * as M from \"../managed\";\nimport { isSome } from \"fp-ts/es6/Option\";\nimport { pipe } from \"fp-ts/es6/pipeable\";\nimport { Do } from \"fp-ts-contrib/es6/Do\";\nimport { queueUtils, emitter } from \"./support\";\nexport function subject(_) {\n    const listeners = new Map();\n    function next(_) {\n        listeners.forEach((f) => {\n            f(_);\n        });\n    }\n    return Do(T.effect)\n        .bind(\"q\", Q.unboundedQueue())\n        .bindL(\"into\", ({ q }) => pipe(_, S.into(Sink.queueOptionSink(q)), T.chainError((e) => pipe(T.sync(() => {\n        next({ _tag: \"error\", e });\n    }), T.chain(() => T.raiseError(e)))), T.fork))\n        .bindL(\"extract\", ({ q }) => pipe(q.take, T.chainTap((_) => T.sync(() => next(isSome(_) ? { _tag: \"offer\", a: _.value } : { _tag: \"complete\" }))), T.forever, T.fork))\n        .return(({ into, extract }) => {\n        const interrupt = pipe(T.sequenceT(into.interrupt, extract.interrupt, T.sync(() => {\n            next({ _tag: \"complete\" });\n        })), T.asUnit);\n        const subscribe = T.sync(() => {\n            const { next, ops, hasCB } = queueUtils();\n            const push = (_) => {\n                next(_);\n            };\n            listeners.set(push, push);\n            return S.fromSource(pipe(M.bracket(T.unit, () => T.sync(() => {\n                listeners.delete(push);\n            })), M.chain(() => emitter(ops, hasCB))));\n        });\n        return {\n            interrupt,\n            subscribe\n        };\n    });\n}\n","import * as T from \"./effect\";\nimport { pipeable as P } from \"fp-ts\";\nexport function access(sp) {\n    const derived = {};\n    const a = sp[specURI];\n    for (const s of Reflect.ownKeys(a)) {\n        derived[s] = {};\n        for (const k of Object.keys(a[s])) {\n            if (typeof a[s][k] === \"function\") {\n                derived[s][k] = (...args) => T.accessM((r) => r[s][k](...args));\n            }\n            else {\n                derived[s][k] = T.accessM((r) => r[s][k]);\n            }\n        }\n    }\n    return derived;\n}\nexport const specURI = \"@matechs/effect/freeEnv/specURI\";\nexport function define(m) {\n    return { [specURI]: m };\n}\nexport function cn() {\n    return {};\n}\nexport function fn() {\n    // tslint:disable-next-line: no-empty\n    return (() => { });\n}\nexport function providing(s, a, env) {\n    const r = {};\n    for (const sym of Reflect.ownKeys(s[specURI])) {\n        r[sym] = {};\n        for (const entry of Object.keys(s[specURI][sym])) {\n            if (typeof a[sym][entry] === \"function\") {\n                r[sym][entry] = (...args) => T.provide(env, \"inverted\")(a[sym][entry](...args));\n            }\n            else if (typeof a[sym][entry] === \"object\") {\n                r[sym][entry] = T.provide(env, \"inverted\")(a[sym][entry]);\n            }\n        }\n    }\n    return r;\n}\nexport function implement(s, inverted = \"regular\") {\n    return (i) => (eff) => T.accessM((e) => P.pipe(eff, T.provide(providing(s, i, e), inverted)));\n}\nexport function implementWith(w) {\n    return (s, inverted = \"regular\") => (i) => (eff) => T.effect.chain(w, (r) => T.accessM((e) => P.pipe(eff, T.provide(providing(s, i(r), e), inverted))));\n}\nexport function instance(_) {\n    return (m) => m;\n}\nexport const opaque = () => (_) => _;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { identity } from './function';\nimport { isSome, none, some } from './Option';\nimport { fromCompare, getMonoid as getOrdMonoid, ordNumber } from './Ord';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyArray';\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function fromArray(as) {\n    var l = as.length;\n    if (l === 0) {\n        return empty;\n    }\n    var ras = Array(l);\n    for (var i = 0; i < l; i++) {\n        ras[i] = as[i];\n    }\n    return ras;\n}\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function toArray(ras) {\n    var l = ras.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = ras[i];\n    }\n    return as;\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (as) { return \"[\" + as.map(S.show).join(', ') + \"]\"; }\n    };\n}\nvar concat = function (x, y) {\n    var lenx = x.length;\n    if (lenx === 0) {\n        return y;\n    }\n    var leny = y.length;\n    if (leny === 0) {\n        return x;\n    }\n    var r = Array(lenx + leny);\n    for (var i = 0; i < lenx; i++) {\n        r[i] = x[i];\n    }\n    for (var i = 0; i < leny; i++) {\n        r[i + lenx] = y[i];\n    }\n    return r;\n};\n/**\n * Returns a `Monoid` for `ReadonlyArray<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/ReadonlyArray'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport function getMonoid() {\n    return {\n        concat: concat,\n        empty: empty\n    };\n}\n/**\n * Derives an `Eq` over the `ReadonlyArray` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/ReadonlyArray'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.5.0\n */\nexport function getEq(E) {\n    return {\n        equals: function (xs, ys) { return xs === ys || (xs.length === ys.length && xs.every(function (x, i) { return E.equals(x, ys[i]); })); }\n    };\n}\n/**\n * Derives an `Ord` over the `ReadonlyArray` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/ReadonlyArray'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.5.0\n */\nexport function getOrd(O) {\n    return fromCompare(function (a, b) {\n        var aLen = a.length;\n        var bLen = b.length;\n        var len = Math.min(aLen, bLen);\n        for (var i = 0; i < len; i++) {\n            var ordering = O.compare(a[i], b[i]);\n            if (ordering !== 0) {\n                return ordering;\n            }\n        }\n        return ordNumber.compare(aLen, bLen);\n    });\n}\n/**\n * An empty array\n *\n * @since 2.5.0\n */\nexport var empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/ReadonlyArray'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.5.0\n */\nexport function makeBy(n, f) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    for (var i = 0; i < n; i++) {\n        r.push(f(i));\n    }\n    return r;\n}\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.5.0\n */\nexport function range(start, end) {\n    return makeBy(end - start + 1, function (i) { return start + i; });\n}\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.5.0\n */\nexport function replicate(n, a) {\n    return makeBy(n, function () { return a; });\n}\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function flatten(mma) {\n    var rLen = 0;\n    var len = mma.length;\n    for (var i = 0; i < len; i++) {\n        rLen += mma[i].length;\n    }\n    var r = Array(rLen);\n    var start = 0;\n    for (var i = 0; i < len; i++) {\n        var arr = mma[i];\n        var l = arr.length;\n        for (var j = 0; j < l; j++) {\n            r[j + start] = arr[j];\n        }\n        start += l;\n    }\n    return r;\n}\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const len: <A>(as: ReadonlyArray<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.5.0\n */\nexport function foldLeft(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as[0], as.slice(1))); };\n}\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.5.0\n */\nexport function foldRight(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as.slice(0, as.length - 1), as[as.length - 1])); };\n}\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.5.0\n */\nexport function scanLeft(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[0] = b;\n        for (var i = 0; i < l; i++) {\n            r[i + 1] = f(r[i], as[i]);\n        }\n        return r;\n    };\n}\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.5.0\n */\nexport function scanRight(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[l] = b;\n        for (var i = l - 1; i >= 0; i--) {\n            r[i] = f(as[i], r[i + 1]);\n        }\n        return r;\n    };\n}\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.5.0\n */\nexport function isEmpty(as) {\n    return as.length === 0;\n}\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyReadonlyArray<A>`\n *\n * @since 2.5.0\n */\nexport function isNonEmpty(as) {\n    return as.length > 0;\n}\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.5.0\n */\nexport function isOutOfBound(i, as) {\n    return i < 0 || i >= as.length;\n}\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.5.0\n */\nexport function lookup(i, as) {\n    return isOutOfBound(i, as) ? none : some(as[i]);\n}\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function cons(head, tail) {\n    var len = tail.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i + 1] = tail[i];\n    }\n    r[0] = head;\n    return r;\n}\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport function snoc(init, end) {\n    var len = init.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = init[i];\n    }\n    r[len] = end;\n    return r;\n}\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.5.0\n */\nexport function head(as) {\n    return isEmpty(as) ? none : some(as[0]);\n}\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.5.0\n */\nexport function last(as) {\n    return lookup(as.length - 1, as);\n}\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.5.0\n */\nexport function tail(as) {\n    return isEmpty(as) ? none : some(as.slice(1));\n}\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.5.0\n */\nexport function init(as) {\n    var len = as.length;\n    return len === 0 ? none : some(as.slice(0, len - 1));\n}\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function takeLeft(n) {\n    return function (as) { return as.slice(0, n); };\n}\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.5.0\n */\nexport function takeRight(n) {\n    return function (as) { return (n === 0 ? empty : as.slice(-n)); };\n}\nexport function takeLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        return init;\n    };\n}\nvar spanIndexUncurry = function (as, predicate) {\n    var l = as.length;\n    var i = 0;\n    for (; i < l; i++) {\n        if (!predicate(as[i])) {\n            break;\n        }\n    }\n    return i;\n};\nexport function spanLeft(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return { init: init, rest: rest };\n    };\n}\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.5.0\n */\nexport function dropLeft(n) {\n    return function (as) { return as.slice(n, as.length); };\n}\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function dropRight(n) {\n    return function (as) { return as.slice(0, as.length - n); };\n}\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.5.0\n */\nexport function dropLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return rest;\n    };\n}\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.5.0\n */\nexport function findIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return some(i);\n            }\n        }\n        return none;\n    };\n}\nexport function findFirst(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return some(as[i]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.5.0\n */\nexport function findFirstMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            var v = f(as[i]);\n            if (isSome(v)) {\n                return v;\n            }\n        }\n        return none;\n    };\n}\nexport function findLast(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return some(as[i]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.5.0\n */\nexport function findLastMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var v = f(as[i]);\n            if (isSome(v)) {\n                return v;\n            }\n        }\n        return none;\n    };\n}\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: ReadonlyArray<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.5.0\n */\nexport function findLastIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return some(i);\n            }\n        }\n        return none;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeInsertAt(i, a, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 0, a);\n    return xs;\n}\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.5.0\n */\nexport function insertAt(i, a) {\n    return function (as) { return (i < 0 || i > as.length ? none : some(unsafeInsertAt(i, a, as))); };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeUpdateAt(i, a, as) {\n    if (as[i] === a) {\n        return as;\n    }\n    else {\n        // tslint:disable-next-line: readonly-array\n        var xs = __spreadArrays(as);\n        xs[i] = a;\n        return xs;\n    }\n}\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.5.0\n */\nexport function updateAt(i, a) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeUpdateAt(i, a, as))); };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeDeleteAt(i, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 1);\n    return xs;\n}\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.5.0\n */\nexport function deleteAt(i) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeDeleteAt(i, as))); };\n}\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.5.0\n */\nexport function modifyAt(i, f) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeUpdateAt(i, f(as[i]), as))); };\n}\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.5.0\n */\nexport function reverse(as) {\n    return __spreadArrays(as).reverse();\n}\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/ReadonlyArray'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function rights(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Right') {\n            r.push(a.right);\n        }\n    }\n    return r;\n}\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/ReadonlyArray'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.5.0\n */\nexport function lefts(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Left') {\n            r.push(a.left);\n        }\n    }\n    return r;\n}\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/ReadonlyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function sort(O) {\n    return function (as) { return __spreadArrays(as).sort(O.compare); };\n}\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.5.0\n */\nexport function zipWith(fa, fb, f) {\n    // tslint:disable-next-line: readonly-array\n    var fc = [];\n    var len = Math.min(fa.length, fb.length);\n    for (var i = 0; i < len; i++) {\n        fc[i] = f(fa[i], fb[i]);\n    }\n    return fc;\n}\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.5.0\n */\nexport function zip(fa, fb) {\n    return zipWith(fa, fb, function (a, b) { return [a, b]; });\n}\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.5.0\n */\nexport function unzip(as) {\n    // tslint:disable-next-line: readonly-array\n    var fa = [];\n    // tslint:disable-next-line: readonly-array\n    var fb = [];\n    for (var i = 0; i < as.length; i++) {\n        fa[i] = as[i][0];\n        fb[i] = as[i][1];\n    }\n    return [fa, fb];\n}\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function rotate(n) {\n    return function (as) {\n        var len = as.length;\n        if (n === 0 || len <= 1 || len === Math.abs(n)) {\n            return as;\n        }\n        else if (n < 0) {\n            return rotate(len + n)(as);\n        }\n        else {\n            return as.slice(-n).concat(as.slice(0, len - n));\n        }\n    };\n}\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `ReadonlyArray<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, as) {\n        var predicate = function (element) { return E.equals(element, a); };\n        var i = 0;\n        var len = as.length;\n        for (; i < len; i++) {\n            if (predicate(as[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function uniq(E) {\n    var elemS = elem(E);\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var len = as.length;\n        var i = 0;\n        for (; i < len; i++) {\n            var a = as[i];\n            if (!elemS(a, r)) {\n                r.push(a);\n            }\n        }\n        return len === r.length ? as : r;\n    };\n}\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/ReadonlyArray'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.5.0\n */\nexport function sortBy(ords) {\n    var M = getOrdMonoid();\n    return sort(ords.reduce(M.concat, M.empty));\n}\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const group = <A>(S: Eq<A>): ((as: ReadonlyArray<A>) => ReadonlyArray<ReadonlyArray<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.5.0\n */\nexport function chop(f) {\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        var cs = as;\n        while (isNonEmpty(cs)) {\n            var _a = f(cs), b = _a[0], c = _a[1];\n            result.push(b);\n            cs = c;\n        }\n        return result;\n    };\n}\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.5.0\n */\nexport function splitAt(n) {\n    return function (as) { return [as.slice(0, n), as.slice(n)]; };\n}\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.5.0\n */\nexport function chunksOf(n) {\n    return function (as) { return (as.length === 0 ? empty : isOutOfBound(n - 1, as) ? [as] : chop(splitAt(n))(as)); };\n}\nexport function comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    var go = function (scope, input) {\n        if (input.length === 0) {\n            return g.apply(void 0, scope) ? [f.apply(void 0, scope)] : empty;\n        }\n        else {\n            return readonlyArray.chain(input[0], function (x) { return go(snoc(scope, x), input.slice(1)); });\n        }\n    };\n    return go(empty, input);\n}\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function union(E) {\n    var elemE = elem(E);\n    return function (xs, ys) {\n        return concat(xs, ys.filter(function (a) { return !elemE(a, xs); }));\n    };\n}\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.5.0\n */\nexport function intersection(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return elemE(a, ys); }); };\n}\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.5.0\n */\nexport function difference(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return !elemE(a, ys); }); };\n}\n/**\n * @since 2.5.0\n */\nexport var of = function (a) { return [a]; };\n/**\n * @since 2.5.0\n */\nexport var readonlyArray = {\n    URI: URI,\n    map: function (fa, f) { return fa.map(function (a) { return f(a); }); },\n    mapWithIndex: function (fa, f) { return fa.map(function (a, i) { return f(i, a); }); },\n    compact: function (as) { return readonlyArray.filterMap(as, identity); },\n    separate: function (fa) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var _i = 0, fa_1 = fa; _i < fa_1.length; _i++) {\n            var e = fa_1[_i];\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (as, predicate) {\n        return as.filter(predicate);\n    },\n    filterMap: function (as, f) { return readonlyArray.filterMapWithIndex(as, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return readonlyArray.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return readonlyArray.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    of: of,\n    ap: function (fab, fa) { return flatten(readonlyArray.map(fab, function (f) { return readonlyArray.map(fa, f); })); },\n    chain: function (fa, f) {\n        var resLen = 0;\n        var l = fa.length;\n        var temp = new Array(l);\n        for (var i = 0; i < l; i++) {\n            var e = fa[i];\n            var arr = f(e);\n            resLen += arr.length;\n            temp[i] = arr;\n        }\n        var r = Array(resLen);\n        var start = 0;\n        for (var i = 0; i < l; i++) {\n            var arr = temp[i];\n            var l_1 = arr.length;\n            for (var j = 0; j < l_1; j++) {\n                r[j + start] = arr[j];\n            }\n            start += l_1;\n        }\n        return r;\n    },\n    reduce: function (fa, b, f) { return readonlyArray.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = readonlyArray.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return readonlyArray.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    unfold: function (b, f) {\n        // tslint:disable-next-line: readonly-array\n        var ret = [];\n        var bb = b;\n        while (true) {\n            var mt = f(bb);\n            if (isSome(mt)) {\n                var _a = mt.value, a = _a[0], b_1 = _a[1];\n                ret.push(a);\n                bb = b_1;\n            }\n            else {\n                break;\n            }\n        }\n        return ret;\n    },\n    traverse: function (F) {\n        var traverseWithIndexF = readonlyArray.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: function (F) { return function (ta) {\n        return readonlyArray.reduce(ta, F.of(readonlyArray.zero()), function (fas, fa) {\n            return F.ap(F.map(fas, function (as) { return function (a) { return snoc(as, a); }; }), fa);\n        });\n    }; },\n    zero: function () { return empty; },\n    alt: function (fx, f) { return concat(fx, f()); },\n    extend: function (fa, f) { return fa.map(function (_, i, as) { return f(as.slice(i)); }); },\n    wither: function (F) {\n        var traverseF = readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyArray.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyArray.separate); };\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var l = fa.length;\n        var r = b;\n        for (var i = 0; i < l; i++) {\n            r = f(i, r, fa[i]);\n        }\n        return r;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) { return fa.reduce(function (b, a, i) { return M.concat(b, f(i, a)); }, M.empty); }; },\n    reduceRightWithIndex: function (fa, b, f) { return fa.reduceRight(function (b, a, i) { return f(i, a, b); }, b); },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        return readonlyArray.reduceWithIndex(ta, F.of(readonlyArray.zero()), function (i, fbs, a) {\n            return F.ap(F.map(fbs, function (bs) { return function (b) { return snoc(bs, b); }; }), f(i, a));\n        });\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var e = f(i, fa[i]);\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var a = fa[i];\n            if (predicateWithIndex(i, a)) {\n                right.push(a);\n            }\n            else {\n                left.push(a);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        for (var i = 0; i < fa.length; i++) {\n            var optionB = f(i, fa[i]);\n            if (isSome(optionB)) {\n                result.push(optionB.value);\n            }\n        }\n        return result;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        return fa.filter(function (a, i) { return predicateWithIndex(i, a); });\n    }\n};\nvar _a = pipeable(readonlyArray), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nalt, \n/**\n * @since 2.5.0\n */\nap, \n/**\n * @since 2.5.0\n */\napFirst, \n/**\n * @since 2.5.0\n */\napSecond, \n/**\n * @since 2.5.0\n */\nchain, \n/**\n * @since 2.5.0\n */\nchainFirst, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nfilterMapWithIndex, \n/**\n * @since 2.5.0\n */\nfilterWithIndex, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapWithIndex, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\npartitionMapWithIndex, \n/**\n * @since 2.5.0\n */\npartitionWithIndex, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.5.0\n */\nreduceWithIndex, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Option';\n/**\n * @since 2.0.0\n */\nexport var none = { _tag: 'None' };\n/**\n * @since 2.0.0\n */\nexport function some(a) {\n    return { _tag: 'Some', value: a };\n}\n/**\n * Returns `true` if the option is an instance of `Some`, `false` otherwise\n *\n * @example\n * import { some, none, isSome } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isSome(some(1)), true)\n * assert.strictEqual(isSome(none), false)\n *\n * @since 2.0.0\n */\nexport function isSome(fa) {\n    return fa._tag === 'Some';\n}\n/**\n * Returns `true` if the option is `None`, `false` otherwise\n *\n * @example\n * import { some, none, isNone } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isNone(some(1)), false)\n * assert.strictEqual(isNone(none), true)\n *\n * @since 2.0.0\n */\nexport function isNone(fa) {\n    return fa._tag === 'None';\n}\n/**\n * Takes a default value, a function, and an `Option` value, if the `Option` value is `None` the default value is\n * returned, otherwise the function is applied to the value inside the `Some` and the result is returned.\n *\n * @example\n * import { some, none, fold } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a some containing 1'\n * )\n *\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a none'\n * )\n *\n * @since 2.0.0\n */\nexport function fold(onNone, onSome) {\n    return function (ma) { return (isNone(ma) ? onNone() : onSome(ma.value)); };\n}\n/**\n * Constructs a new `Option` from a nullable type. If the value is `null` or `undefined`, returns `None`, otherwise\n * returns the value wrapped in a `Some`\n *\n * @example\n * import { none, some, fromNullable } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromNullable(undefined), none)\n * assert.deepStrictEqual(fromNullable(null), none)\n * assert.deepStrictEqual(fromNullable(1), some(1))\n *\n * @since 2.0.0\n */\nexport function fromNullable(a) {\n    return a == null ? none : some(a);\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `null`.\n *\n * @example\n * import { some, none, toNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toNullable\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toNullable\n *   ),\n *   null\n * )\n *\n * @since 2.0.0\n */\nexport function toNullable(ma) {\n    return isNone(ma) ? null : ma.value;\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `undefined`.\n *\n * @example\n * import { some, none, toUndefined } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toUndefined\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toUndefined\n *   ),\n *   undefined\n * )\n *\n * @since 2.0.0\n */\nexport function toUndefined(ma) {\n    return isNone(ma) ? undefined : ma.value;\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns the given default value\n *\n * @example\n * import { some, none, getOrElse } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     getOrElse(() => 0)\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     getOrElse(() => 0)\n *   ),\n *   0\n * )\n *\n * @since 2.0.0\n */\nexport function getOrElse(onNone) {\n    return function (ma) { return (isNone(ma) ? onNone() : ma.value); };\n}\n/**\n * Returns `true` if `ma` contains `a`\n *\n * @example\n * import { some, none, elem } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, some(1)), true)\n * assert.strictEqual(elem(eqNumber)(2, some(1)), false)\n * assert.strictEqual(elem(eqNumber)(1, none), false)\n *\n * @since 2.0.0\n */\nexport function elem(E) {\n    return function (a, ma) { return (isNone(ma) ? false : E.equals(a, ma.value)); };\n}\n/**\n * Returns `true` if the predicate is satisfied by the wrapped value\n *\n * @example\n * import { some, none, exists } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 0)\n *   ),\n *   true\n * )\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 1)\n *   ),\n *   false\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     exists(n => n > 0)\n *   ),\n *   false\n * )\n *\n * @since 2.0.0\n */\nexport function exists(predicate) {\n    return function (ma) { return (isNone(ma) ? false : predicate(ma.value)); };\n}\nexport function fromPredicate(predicate) {\n    return function (a) { return (predicate(a) ? some(a) : none); };\n}\n/**\n * Transforms an exception into an `Option`. If `f` throws, returns `None`, otherwise returns the output wrapped in\n * `Some`\n *\n * @example\n * import { none, some, tryCatch } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(\n *   tryCatch(() => {\n *     throw new Error()\n *   }),\n *   none\n * )\n * assert.deepStrictEqual(tryCatch(() => 1), some(1))\n *\n * @since 2.0.0\n */\nexport function tryCatch(f) {\n    try {\n        return some(f());\n    }\n    catch (e) {\n        return none;\n    }\n}\n/**\n * Returns an `E` value if possible\n *\n * @since 2.0.0\n */\nexport function getLeft(ma) {\n    return ma._tag === 'Right' ? none : some(ma.left);\n}\n/**\n * Returns an `A` value if possible\n *\n * @since 2.0.0\n */\nexport function getRight(ma) {\n    return ma._tag === 'Left' ? none : some(ma.right);\n}\n/**\n * Returns a `Refinement` (i.e. a custom type guard) from a `Option` returning function.\n * This function ensures that a custom type guard definition is type-safe.\n *\n * ```ts\n * import { some, none, getRefinement } from 'fp-ts/lib/Option'\n *\n * type A = { type: 'A' }\n * type B = { type: 'B' }\n * type C = A | B\n *\n * const isA = (c: C): c is A => c.type === 'B' // <= typo but typescript doesn't complain\n * const isA = getRefinement<C, A>(c => (c.type === 'B' ? some(c) : none)) // static error: Type '\"B\"' is not assignable to type '\"A\"'\n * ```\n *\n * @since 2.0.0\n */\nexport function getRefinement(getOption) {\n    return function (a) { return isSome(getOption(a)); };\n}\n/**\n * This is `chain` + `fromNullable`, useful when working with optional values\n *\n * @example\n * import { some, none, fromNullable, mapNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * interface Employee {\n *   company?: {\n *     address?: {\n *       street?: {\n *         name?: string\n *       }\n *     }\n *   }\n * }\n *\n * const employee1: Employee = { company: { address: { street: { name: 'high street' } } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee1.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   some('high street')\n * )\n *\n * const employee2: Employee = { company: { address: { street: {} } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee2.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   none\n * )\n *\n * @since 2.0.0\n */\nexport function mapNullable(f) {\n    return function (ma) { return (isNone(ma) ? none : fromNullable(f(ma.value))); };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    return {\n        show: function (ma) { return (isNone(ma) ? 'none' : \"some(\" + S.show(ma.value) + \")\"); }\n    };\n}\n/**\n * @example\n * import { none, some, getEq } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(none, none), true)\n * assert.strictEqual(E.equals(none, some(1)), false)\n * assert.strictEqual(E.equals(some(1), none), false)\n * assert.strictEqual(E.equals(some(1), some(2)), false)\n * assert.strictEqual(E.equals(some(1), some(1)), true)\n *\n * @since 2.0.0\n */\nexport function getEq(E) {\n    return {\n        equals: function (x, y) { return x === y || (isNone(x) ? isNone(y) : isNone(y) ? false : E.equals(x.value, y.value)); }\n    };\n}\n/**\n * The `Ord` instance allows `Option` values to be compared with\n * `compare`, whenever there is an `Ord` instance for\n * the type the `Option` contains.\n *\n * `None` is considered to be less than any `Some` value.\n *\n *\n * @example\n * import { none, some, getOrd } from 'fp-ts/lib/Option'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordNumber)\n * assert.strictEqual(O.compare(none, none), 0)\n * assert.strictEqual(O.compare(none, some(1)), -1)\n * assert.strictEqual(O.compare(some(1), none), 1)\n * assert.strictEqual(O.compare(some(1), some(2)), -1)\n * assert.strictEqual(O.compare(some(1), some(1)), 0)\n *\n * @since 2.0.0\n */\nexport function getOrd(O) {\n    return {\n        equals: getEq(O).equals,\n        compare: function (x, y) { return (x === y ? 0 : isSome(x) ? (isSome(y) ? O.compare(x.value, y.value) : 1) : -1); }\n    };\n}\n/**\n * `Apply` semigroup\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | none               |\n * | none    | some(a) | none               |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getApplySemigroup, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup(semigroupSum)\n * assert.deepStrictEqual(S.concat(none, none), none)\n * assert.deepStrictEqual(S.concat(some(1), none), none)\n * assert.deepStrictEqual(S.concat(none, some(1)), none)\n * assert.deepStrictEqual(S.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isSome(x) && isSome(y) ? some(S.concat(x.value, y.value)) : none); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: some(M.empty) });\n}\n/**\n * Monoid returning the left-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(a)      |\n *\n * @example\n * import { getFirstMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getFirstMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(1))\n *\n * @since 2.0.0\n */\nexport function getFirstMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : x); },\n        empty: none\n    };\n}\n/**\n * Monoid returning the right-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(b)      |\n *\n * @example\n * import { getLastMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getLastMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(2))\n *\n * @since 2.0.0\n */\nexport function getLastMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(y) ? x : y); },\n        empty: none\n    };\n}\n/**\n * Monoid returning the left-most non-`None` value. If both operands are `Some`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | some(a)            |\n * | none    | some(a) | some(a)            |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getMonoid, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const M = getMonoid(semigroupSum)\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nexport function getMonoid(S) {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : isNone(y) ? x : some(S.concat(x.value, y.value))); },\n        empty: none\n    };\n}\nvar defaultSeparate = { left: none, right: none };\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexport var option = {\n    URI: URI,\n    map: function (ma, f) { return (isNone(ma) ? none : some(f(ma.value))); },\n    of: some,\n    ap: function (mab, ma) { return (isNone(mab) ? none : isNone(ma) ? none : some(mab.value(ma.value))); },\n    chain: function (ma, f) { return (isNone(ma) ? none : f(ma.value)); },\n    reduce: function (fa, b, f) { return (isNone(fa) ? b : f(b, fa.value)); },\n    foldMap: function (M) { return function (fa, f) { return (isNone(fa) ? M.empty : f(fa.value)); }; },\n    reduceRight: function (fa, b, f) { return (isNone(fa) ? b : f(fa.value, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isNone(ta) ? F.of(none) : F.map(f(ta.value), some);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isNone(ta) ? F.of(none) : F.map(ta.value, some);\n    }; },\n    zero: function () { return none; },\n    alt: function (ma, f) { return (isNone(ma) ? f() : ma); },\n    extend: function (wa, f) { return (isNone(wa) ? none : some(f(wa))); },\n    compact: function (ma) { return option.chain(ma, identity); },\n    separate: function (ma) {\n        var o = option.map(ma, function (e) { return ({\n            left: getLeft(e),\n            right: getRight(e)\n        }); });\n        return isNone(o) ? defaultSeparate : o.value;\n    },\n    filter: function (fa, predicate) {\n        return isNone(fa) ? none : predicate(fa.value) ? fa : none;\n    },\n    filterMap: function (ma, f) { return (isNone(ma) ? none : f(ma.value)); },\n    partition: function (fa, predicate) {\n        return {\n            left: option.filter(fa, function (a) { return !predicate(a); }),\n            right: option.filter(fa, predicate)\n        };\n    },\n    partitionMap: function (fa, f) { return option.separate(option.map(fa, f)); },\n    wither: function (F) { return function (fa, f) {\n        return isNone(fa) ? F.of(none) : f(fa.value);\n    }; },\n    wilt: function (F) { return function (fa, f) {\n        var o = option.map(fa, function (a) {\n            return F.map(f(a), function (e) { return ({\n                left: getLeft(e),\n                right: getRight(e)\n            }); });\n        });\n        return isNone(o)\n            ? F.of({\n                left: none,\n                right: none\n            })\n            : o.value;\n    }; },\n    throwError: function () { return none; }\n};\nvar _a = pipeable(option), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate, fromEither = _a.fromEither;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate, \n/**\n * @since 2.0.0\n */\nfromEither };\n","import { identity } from './function';\nexport function pipe(a, ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return a;\n        case 2:\n            return ab(a);\n        case 3:\n            return bc(ab(a));\n        case 4:\n            return cd(bc(ab(a)));\n        case 5:\n            return de(cd(bc(ab(a))));\n        case 6:\n            return ef(de(cd(bc(ab(a)))));\n        case 7:\n            return fg(ef(de(cd(bc(ab(a))))));\n        case 8:\n            return gh(fg(ef(de(cd(bc(ab(a)))))));\n        case 9:\n            return hi(gh(fg(ef(de(cd(bc(ab(a))))))));\n        case 10:\n            return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));\n    }\n    return;\n}\nvar isFunctor = function (I) { return typeof I.map === 'function'; };\nvar isContravariant = function (I) { return typeof I.contramap === 'function'; };\nvar isFunctorWithIndex = function (I) { return typeof I.mapWithIndex === 'function'; };\nvar isApply = function (I) { return typeof I.ap === 'function'; };\nvar isChain = function (I) { return typeof I.chain === 'function'; };\nvar isBifunctor = function (I) { return typeof I.bimap === 'function'; };\nvar isExtend = function (I) { return typeof I.extend === 'function'; };\nvar isFoldable = function (I) { return typeof I.reduce === 'function'; };\nvar isFoldableWithIndex = function (I) { return typeof I.reduceWithIndex === 'function'; };\nvar isAlt = function (I) { return typeof I.alt === 'function'; };\nvar isCompactable = function (I) { return typeof I.compact === 'function'; };\nvar isFilterable = function (I) { return typeof I.filter === 'function'; };\nvar isFilterableWithIndex = function (I) {\n    return typeof I.filterWithIndex === 'function';\n};\nvar isProfunctor = function (I) { return typeof I.promap === 'function'; };\nvar isSemigroupoid = function (I) { return typeof I.compose === 'function'; };\nvar isMonadThrow = function (I) { return typeof I.throwError === 'function'; };\nexport function pipeable(I) {\n    var r = {};\n    if (isFunctor(I)) {\n        var map = function (f) { return function (fa) { return I.map(fa, f); }; };\n        r.map = map;\n    }\n    if (isContravariant(I)) {\n        var contramap = function (f) { return function (fa) { return I.contramap(fa, f); }; };\n        r.contramap = contramap;\n    }\n    if (isFunctorWithIndex(I)) {\n        var mapWithIndex = function (f) { return function (fa) { return I.mapWithIndex(fa, f); }; };\n        r.mapWithIndex = mapWithIndex;\n    }\n    if (isApply(I)) {\n        var ap = function (fa) { return function (fab) { return I.ap(fab, fa); }; };\n        var apFirst = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function (a) { return function () { return a; }; }), fb);\n        }; };\n        r.ap = ap;\n        r.apFirst = apFirst;\n        r.apSecond = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function () { return function (b) { return b; }; }), fb);\n        }; };\n    }\n    if (isChain(I)) {\n        var chain = function (f) { return function (ma) { return I.chain(ma, f); }; };\n        var chainFirst = function (f) { return function (ma) { return I.chain(ma, function (a) { return I.map(f(a), function () { return a; }); }); }; };\n        var flatten = function (mma) { return I.chain(mma, identity); };\n        r.chain = chain;\n        r.chainFirst = chainFirst;\n        r.flatten = flatten;\n    }\n    if (isBifunctor(I)) {\n        var bimap = function (f, g) { return function (fa) { return I.bimap(fa, f, g); }; };\n        var mapLeft = function (f) { return function (fa) { return I.mapLeft(fa, f); }; };\n        r.bimap = bimap;\n        r.mapLeft = mapLeft;\n    }\n    if (isExtend(I)) {\n        var extend = function (f) { return function (wa) { return I.extend(wa, f); }; };\n        var duplicate = function (wa) { return I.extend(wa, identity); };\n        r.extend = extend;\n        r.duplicate = duplicate;\n    }\n    if (isFoldable(I)) {\n        var reduce = function (b, f) { return function (fa) { return I.reduce(fa, b, f); }; };\n        var foldMap = function (M) {\n            var foldMapM = I.foldMap(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRight = function (b, f) { return function (fa) { return I.reduceRight(fa, b, f); }; };\n        r.reduce = reduce;\n        r.foldMap = foldMap;\n        r.reduceRight = reduceRight;\n    }\n    if (isFoldableWithIndex(I)) {\n        var reduceWithIndex = function (b, f) { return function (fa) {\n            return I.reduceWithIndex(fa, b, f);\n        }; };\n        var foldMapWithIndex = function (M) {\n            var foldMapM = I.foldMapWithIndex(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRightWithIndex = function (b, f) { return function (fa) {\n            return I.reduceRightWithIndex(fa, b, f);\n        }; };\n        r.reduceWithIndex = reduceWithIndex;\n        r.foldMapWithIndex = foldMapWithIndex;\n        r.reduceRightWithIndex = reduceRightWithIndex;\n    }\n    if (isAlt(I)) {\n        var alt = function (that) { return function (fa) { return I.alt(fa, that); }; };\n        r.alt = alt;\n    }\n    if (isCompactable(I)) {\n        r.compact = I.compact;\n        r.separate = I.separate;\n    }\n    if (isFilterable(I)) {\n        var filter = function (predicate) { return function (fa) {\n            return I.filter(fa, predicate);\n        }; };\n        var filterMap = function (f) { return function (fa) { return I.filterMap(fa, f); }; };\n        var partition = function (predicate) { return function (fa) {\n            return I.partition(fa, predicate);\n        }; };\n        var partitionMap = function (f) { return function (fa) { return I.partitionMap(fa, f); }; };\n        r.filter = filter;\n        r.filterMap = filterMap;\n        r.partition = partition;\n        r.partitionMap = partitionMap;\n    }\n    if (isFilterableWithIndex(I)) {\n        var filterWithIndex = function (predicateWithIndex) { return function (fa) { return I.filterWithIndex(fa, predicateWithIndex); }; };\n        var filterMapWithIndex = function (f) { return function (fa) {\n            return I.filterMapWithIndex(fa, f);\n        }; };\n        var partitionWithIndex = function (predicateWithIndex) { return function (fa) { return I.partitionWithIndex(fa, predicateWithIndex); }; };\n        var partitionMapWithIndex = function (f) { return function (fa) {\n            return I.partitionMapWithIndex(fa, f);\n        }; };\n        r.filterWithIndex = filterWithIndex;\n        r.filterMapWithIndex = filterMapWithIndex;\n        r.partitionWithIndex = partitionWithIndex;\n        r.partitionMapWithIndex = partitionMapWithIndex;\n    }\n    if (isProfunctor(I)) {\n        var promap = function (f, g) { return function (fa) { return I.promap(fa, f, g); }; };\n        r.promap = promap;\n    }\n    if (isSemigroupoid(I)) {\n        var compose = function (that) { return function (fa) { return I.compose(fa, that); }; };\n        r.compose = compose;\n    }\n    if (isMonadThrow(I)) {\n        var fromOption = function (onNone) { return function (ma) {\n            return ma._tag === 'None' ? I.throwError(onNone()) : I.of(ma.value);\n        }; };\n        var fromEither = function (ma) {\n            return ma._tag === 'Left' ? I.throwError(ma.left) : I.of(ma.right);\n        };\n        var fromPredicate = function (predicate, onFalse) { return function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }; };\n        var filterOrElse = function (predicate, onFalse) { return function (ma) { return I.chain(ma, function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }); }; };\n        r.fromOption = fromOption;\n        r.fromEither = fromEither;\n        r.fromPredicate = fromPredicate;\n        r.filterOrElse = filterOrElse;\n    }\n    return r;\n}\n","/**\n * Represents a value of one of two possible types (a disjoint union).\n *\n * An instance of `Either` is either an instance of `Left` or `Right`.\n *\n * A common use of `Either` is as an alternative to `Option` for dealing with possible missing values. In this usage,\n * `None` is replaced with a `Left` which can contain useful information. `Right` takes the place of `Some`. Convention\n * dictates that `Left` is used for failure and `Right` is used for success.\n *\n * For example, you could use `Either<string, number>` to detect whether a received input is a `string` or a `number`.\n *\n * ```ts\n * import { Either, left, right } from 'fp-ts/lib/Either'\n *\n * function parse(input: string): Either<Error, number> {\n *   const n = parseInt(input, 10)\n *   return isNaN(n) ? left(new Error('not a number')) : right(n)\n * }\n * ```\n *\n * `Either` is right-biased, which means that `Right` is assumed to be the default case to operate on. If it is `Left`,\n * operations like `map`, `chain`, ... return the `Left` value unchanged:\n *\n * ```ts\n * import { map, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * pipe(right(12), map(double)) // right(24)\n * pipe(left(23), map(double))  // left(23)\n * ```\n *\n * @since 2.0.0\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { tailRec } from './ChainRec';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Either';\n/**\n * Constructs a new `Either` holding a `Left` value. This usually represents a failure, due to the right-bias of this\n * structure\n *\n * @since 2.0.0\n */\nexport function left(e) {\n    return { _tag: 'Left', left: e };\n}\n/**\n * Constructs a new `Either` holding a `Right` value. This usually represents a successful value due to the right bias\n * of this structure\n *\n * @since 2.0.0\n */\nexport function right(a) {\n    return { _tag: 'Right', right: a };\n}\n/**\n * Takes a default and a nullable value, if the value is not nully, turn it into a `Right`, if the value is nully use\n * the provided default as a `Left`\n *\n * @example\n * import { fromNullable, left, right } from 'fp-ts/lib/Either'\n *\n * const parse = fromNullable('nully')\n *\n * assert.deepStrictEqual(parse(1), right(1))\n * assert.deepStrictEqual(parse(null), left('nully'))\n *\n * @since 2.0.0\n */\nexport function fromNullable(e) {\n    return function (a) { return (a == null ? left(e) : right(a)); };\n}\n/**\n * Default value for the `onError` argument of `tryCatch`\n *\n * @since 2.0.0\n */\nexport function toError(e) {\n    return e instanceof Error ? e : new Error(String(e));\n}\n/**\n * Constructs a new `Either` from a function that might throw\n *\n * @example\n * import { Either, left, right, tryCatch } from 'fp-ts/lib/Either'\n *\n * const unsafeHead = <A>(as: Array<A>): A => {\n *   if (as.length > 0) {\n *     return as[0]\n *   } else {\n *     throw new Error('empty array')\n *   }\n * }\n *\n * const head = <A>(as: Array<A>): Either<Error, A> => {\n *   return tryCatch(() => unsafeHead(as), e => (e instanceof Error ? e : new Error('unknown error')))\n * }\n *\n * assert.deepStrictEqual(head([]), left(new Error('empty array')))\n * assert.deepStrictEqual(head([1, 2, 3]), right(1))\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onError) {\n    try {\n        return right(f());\n    }\n    catch (e) {\n        return left(onError(e));\n    }\n}\n/**\n * Takes two functions and an `Either` value, if the value is a `Left` the inner value is applied to the first function,\n * if the value is a `Right` the inner value is applied to the second function.\n *\n * @example\n * import { fold, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * function onLeft(errors: Array<string>): string {\n *   return `Errors: ${errors.join(', ')}`\n * }\n *\n * function onRight(value: number): string {\n *   return `Ok: ${value}`\n * }\n *\n * assert.strictEqual(\n *   pipe(\n *     right(1),\n *     fold(onLeft, onRight)\n *   ),\n *   'Ok: 1'\n * )\n * assert.strictEqual(\n *   pipe(\n *     left(['error 1', 'error 2']),\n *     fold(onLeft, onRight)\n *   ),\n *   'Errors: error 1, error 2'\n * )\n *\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : onRight(ma.right)); };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(SE, SA) {\n    return {\n        show: function (ma) { return (isLeft(ma) ? \"left(\" + SE.show(ma.left) + \")\" : \"right(\" + SA.show(ma.right) + \")\"); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(EL, EA) {\n    return {\n        equals: function (x, y) {\n            return x === y || (isLeft(x) ? isLeft(y) && EL.equals(x.left, y.left) : isRight(y) && EA.equals(x.right, y.right));\n        }\n    };\n}\n/**\n * Semigroup returning the left-most non-`Left` value. If both operands are `Right`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * @example\n * import { getSemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getSemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), right(2))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), right(1))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(y) ? x : isLeft(x) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\n/**\n * `Apply` semigroup\n *\n * @example\n * import { getApplySemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), left('a'))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), left('b'))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(x) ? x : isLeft(y) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: right(M.empty) });\n}\n/**\n * Returns `true` if the either is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isLeft(ma) {\n    switch (ma._tag) {\n        case 'Left':\n            return true;\n        case 'Right':\n            return false;\n    }\n}\n/**\n * Returns `true` if the either is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isRight(ma) {\n    return isLeft(ma) ? false : true;\n}\n/**\n * @since 2.0.0\n */\nexport function swap(ma) {\n    return isLeft(ma) ? right(ma.left) : left(ma.right);\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma.right); };\n}\n/**\n * @since 2.0.0\n */\nexport function elem(E) {\n    return function (a, ma) { return (isLeft(ma) ? false : E.equals(a, ma.right)); };\n}\n/**\n * Returns `false` if `Left` or returns the result of the application of the given predicate to the `Right` value.\n *\n * @example\n * import { exists, left, right } from 'fp-ts/lib/Either'\n *\n * const gt2 = exists((n: number) => n > 2)\n *\n * assert.strictEqual(gt2(left('a')), false)\n * assert.strictEqual(gt2(right(1)), false)\n * assert.strictEqual(gt2(right(3)), true)\n *\n * @since 2.0.0\n */\nexport function exists(predicate) {\n    return function (ma) { return (isLeft(ma) ? false : predicate(ma.right)); };\n}\n/**\n * Converts a JavaScript Object Notation (JSON) string into an object.\n *\n * @example\n * import { parseJSON, toError, right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(parseJSON('{\"a\":1}', toError), right({ a: 1 }))\n * assert.deepStrictEqual(parseJSON('{\"a\":}', toError), left(new SyntaxError('Unexpected token } in JSON at position 5')))\n *\n * @since 2.0.0\n */\nexport function parseJSON(s, onError) {\n    return tryCatch(function () { return JSON.parse(s); }, onError);\n}\n/**\n * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\n *\n * @example\n * import * as E from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.deepStrictEqual(E.stringifyJSON({ a: 1 }, E.toError), E.right('{\"a\":1}'))\n * const circular: any = { ref: null }\n * circular.ref = circular\n * assert.deepStrictEqual(\n *   pipe(\n *     E.stringifyJSON(circular, E.toError),\n *     E.mapLeft(e => e.message.includes('Converting circular structure to JSON'))\n *   ),\n *   E.left(true)\n * )\n *\n * @since 2.0.0\n */\nexport function stringifyJSON(u, onError) {\n    return tryCatch(function () { return JSON.stringify(u); }, onError);\n}\n/**\n * Builds `Witherable` instance for `Either` given `Monoid` for the left side\n *\n * @since 2.0.0\n */\nexport function getWitherable(M) {\n    var empty = left(M.empty);\n    var compact = function (ma) {\n        return isLeft(ma) ? ma : ma.right._tag === 'None' ? left(M.empty) : right(ma.right.value);\n    };\n    var separate = function (ma) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : isLeft(ma.right)\n                ? { left: right(ma.right.left), right: empty }\n                : { left: empty, right: right(ma.right.right) };\n    };\n    var partitionMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return { left: ma, right: ma };\n        }\n        var e = f(ma.right);\n        return isLeft(e) ? { left: right(e.left), right: empty } : { left: empty, right: right(e.right) };\n    };\n    var partition = function (ma, p) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : p(ma.right)\n                ? { left: empty, right: right(ma.right) }\n                : { left: right(ma.right), right: empty };\n    };\n    var filterMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        var ob = f(ma.right);\n        return ob._tag === 'None' ? left(M.empty) : right(ob.value);\n    };\n    var filter = function (ma, predicate) {\n        return isLeft(ma) ? ma : predicate(ma.right) ? ma : left(M.empty);\n    };\n    var wither = function (F) {\n        var traverseF = either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), compact); };\n    };\n    var wilt = function (F) {\n        var traverseF = either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), separate); };\n    };\n    return {\n        URI: URI,\n        _E: undefined,\n        map: either.map,\n        compact: compact,\n        separate: separate,\n        filter: filter,\n        filterMap: filterMap,\n        partition: partition,\n        partitionMap: partitionMap,\n        traverse: either.traverse,\n        sequence: either.sequence,\n        reduce: either.reduce,\n        foldMap: either.foldMap,\n        reduceRight: either.reduceRight,\n        wither: wither,\n        wilt: wilt\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getValidation(S) {\n    return __assign(__assign({}, either), { _E: undefined, ap: function (mab, ma) {\n            return isLeft(mab)\n                ? isLeft(ma)\n                    ? left(S.concat(mab.left, ma.left))\n                    : mab\n                : isLeft(ma)\n                    ? ma\n                    : right(mab.right(ma.right));\n        }, alt: function (fx, f) {\n            if (isRight(fx)) {\n                return fx;\n            }\n            var fy = f();\n            return isLeft(fy) ? left(S.concat(fx.left, fy.left)) : fy;\n        } });\n}\n/**\n * @since 2.0.0\n */\nexport function getValidationSemigroup(SE, SA) {\n    return {\n        concat: function (fx, fy) {\n            return isLeft(fx)\n                ? isLeft(fy)\n                    ? left(SE.concat(fx.left, fy.left))\n                    : fx\n                : isLeft(fy)\n                    ? fy\n                    : right(SA.concat(fx.right, fy.right));\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getValidationMonoid(SE, SA) {\n    return {\n        concat: getValidationSemigroup(SE, SA).concat,\n        empty: right(SA.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var either = {\n    URI: URI,\n    map: function (ma, f) { return (isLeft(ma) ? ma : right(f(ma.right))); },\n    of: right,\n    ap: function (mab, ma) { return (isLeft(mab) ? mab : isLeft(ma) ? ma : right(mab.right(ma.right))); },\n    chain: function (ma, f) { return (isLeft(ma) ? ma : f(ma.right)); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : f(fa.right, b)); },\n    traverse: function (F) { return function (ma, f) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(f(ma.right), right);\n    }; },\n    sequence: function (F) { return function (ma) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(ma.right, right);\n    }; },\n    bimap: function (fea, f, g) { return (isLeft(fea) ? left(f(fea.left)) : right(g(fea.right))); },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : fea); },\n    alt: function (fx, fy) { return (isLeft(fx) ? fy() : fx); },\n    extend: function (wa, f) { return (isLeft(wa) ? wa : right(f(wa))); },\n    chainRec: function (a, f) {\n        return tailRec(f(a), function (e) {\n            return isLeft(e) ? right(left(e.left)) : isLeft(e.right) ? left(f(e.right.left)) : right(right(e.right.right));\n        });\n    },\n    throwError: left\n};\nvar _a = pipeable(either), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { fromEquals } from './Eq';\nimport { identity } from './function';\nimport { isNone, isSome, none, some as optionSome } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyRecord';\n/**\n * @since 2.5.0\n */\nexport function fromRecord(r) {\n    return Object.assign({}, r);\n}\n/**\n * @since 2.5.0\n */\nexport function toRecord(r) {\n    return Object.assign({}, r);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (r) {\n            var elements = collect(function (k, a) { return JSON.stringify(k) + \": \" + S.show(a); })(r).join(', ');\n            return elements === '' ? '{}' : \"{ \" + elements + \" }\";\n        }\n    };\n}\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.5.0\n */\nexport function size(r) {\n    return Object.keys(r).length;\n}\n/**\n * Test whether a record is empty\n *\n * @since 2.5.0\n */\nexport function isEmpty(r) {\n    return Object.keys(r).length === 0;\n}\n/**\n * @since 2.5.0\n */\nexport function keys(r) {\n    return Object.keys(r).sort();\n}\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/ReadonlyRecord'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.5.0\n */\nexport function collect(f) {\n    return function (r) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        for (var _i = 0, _a = keys(r); _i < _a.length; _i++) {\n            var key = _a[_i];\n            out.push(f(key, r[key]));\n        }\n        return out;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var toReadonlyArray = collect(function (k, a) { return [k, a]; });\nexport function toUnfoldable(U) {\n    return function (r) {\n        var arr = toReadonlyArray(r);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? optionSome([arr[b], b + 1]) : none); });\n    };\n}\nexport function insertAt(k, a) {\n    return function (r) {\n        if (r[k] === a) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return out;\n    };\n}\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 2.5.0\n */\nexport function hasOwnProperty(k, r) {\n    return _hasOwnProperty.call(r, k);\n}\nexport function deleteAt(k) {\n    return function (r) {\n        if (!_hasOwnProperty.call(r, k)) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        delete out[k];\n        return out;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(k, a) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return none;\n        }\n        if (r[k] === a) {\n            return optionSome(r);\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return optionSome(out);\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(k, f) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return none;\n        }\n        var out = Object.assign({}, r);\n        out[k] = f(r[k]);\n        return optionSome(out);\n    };\n}\nexport function pop(k) {\n    var deleteAtk = deleteAt(k);\n    return function (r) {\n        var oa = lookup(k, r);\n        return isNone(oa) ? none : optionSome([oa.value, deleteAtk(r)]);\n    };\n}\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.5.0\n */\nexport function isSubrecord(E) {\n    return function (x, y) {\n        for (var k in x) {\n            if (!_hasOwnProperty.call(y, k) || !E.equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexport function getEq(E) {\n    var isSubrecordE = isSubrecord(E);\n    return fromEquals(function (x, y) { return isSubrecordE(x, y) && isSubrecordE(y, x); });\n}\nexport function getMonoid(S) {\n    return {\n        concat: function (x, y) {\n            if (x === empty) {\n                return y;\n            }\n            if (y === empty) {\n                return x;\n            }\n            var keys = Object.keys(y);\n            var len = keys.length;\n            if (len === 0) {\n                return x;\n            }\n            var r = __assign({}, x);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                r[k] = _hasOwnProperty.call(x, k) ? S.concat(x[k], y[k]) : y[k];\n            }\n            return r;\n        },\n        empty: empty\n    };\n}\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.5.0\n */\nexport function lookup(k, r) {\n    return _hasOwnProperty.call(r, k) ? optionSome(r[k]) : none;\n}\n/**\n * @since 2.5.0\n */\nexport var empty = {};\nexport function mapWithIndex(f) {\n    return function (fa) { return readonlyRecord.mapWithIndex(fa, f); };\n}\nexport function map(f) {\n    return mapWithIndex(function (_, a) { return f(a); });\n}\nexport function reduceWithIndex(b, f) {\n    return function (fa) { return readonlyRecord.reduceWithIndex(fa, b, f); };\n}\nexport function foldMapWithIndex(M) {\n    var foldMapWithIndexM = readonlyRecord.foldMapWithIndex(M);\n    return function (f) { return function (fa) { return foldMapWithIndexM(fa, f); }; };\n}\nexport function reduceRightWithIndex(b, f) {\n    return function (fa) { return readonlyRecord.reduceRightWithIndex(fa, b, f); };\n}\n/**\n * Create a record with one key/value pair\n *\n * @since 2.5.0\n */\nexport function singleton(k, a) {\n    var _a;\n    return _a = {}, _a[k] = a, _a;\n}\nexport function traverseWithIndex(F) {\n    var traverseWithIndexF = readonlyRecord.traverseWithIndex(F);\n    return function (f) { return function (ta) { return traverseWithIndexF(ta, f); }; };\n}\nexport function traverse(F) {\n    var traverseWithIndexF = traverseWithIndex(F);\n    return function (f) { return traverseWithIndexF(function (_, a) { return f(a); }); };\n}\nexport function sequence(F) {\n    return traverseWithIndex(F)(function (_, a) { return a; });\n}\nexport function partitionMapWithIndex(f) {\n    return function (fa) { return readonlyRecord.partitionMapWithIndex(fa, f); };\n}\nexport function partitionWithIndex(predicateWithIndex) {\n    return function (fa) { return readonlyRecord.partitionWithIndex(fa, predicateWithIndex); };\n}\nexport function filterMapWithIndex(f) {\n    return function (fa) { return readonlyRecord.filterMapWithIndex(fa, f); };\n}\nexport function filterWithIndex(predicateWithIndex) {\n    return function (fa) { return readonlyRecord.filterWithIndex(fa, predicateWithIndex); };\n}\nexport function fromFoldable(M, F) {\n    var fromFoldableMapM = fromFoldableMap(M, F);\n    return function (fka) { return fromFoldableMapM(fka, identity); };\n}\nexport function fromFoldableMap(M, F) {\n    return function (ta, f) {\n        return F.reduce(ta, {}, function (r, a) {\n            var _a = f(a), k = _a[0], b = _a[1];\n            r[k] = _hasOwnProperty.call(r, k) ? M.concat(r[k], b) : b;\n            return r;\n        });\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function every(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (!predicate(r[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function some(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (predicate(r[k])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, fa) {\n        for (var k in fa) {\n            if (E.equals(fa[k], a)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyRecord = {\n    URI: URI,\n    map: function (fa, f) { return readonlyRecord.mapWithIndex(fa, function (_, a) { return f(a); }); },\n    reduce: function (fa, b, f) { return readonlyRecord.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = readonlyRecord.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return readonlyRecord.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    traverse: function (F) {\n        var traverseWithIndexF = readonlyRecord.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: sequence,\n    compact: function (fa) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var optionA = fa[key];\n            if (isSome(optionA)) {\n                r[key] = optionA.value;\n            }\n        }\n        return r;\n    },\n    separate: function (fa) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var e = fa[key];\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, predicate) {\n        return readonlyRecord.filterWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    filterMap: function (fa, f) { return readonlyRecord.filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return readonlyRecord.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return readonlyRecord.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    wither: function (F) {\n        var traverseF = readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyRecord.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyRecord.separate); };\n    },\n    mapWithIndex: function (fa, f) {\n        var out = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n            var key = keys_3[_i];\n            out[key] = f(key, fa[key]);\n        }\n        return out;\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = f(k, out, fa[k]);\n        }\n        return out;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) {\n        var out = M.empty;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = M.concat(out, f(k, fa[k]));\n        }\n        return out;\n    }; },\n    reduceRightWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = keys[i];\n            out = f(k, fa[k], out);\n        }\n        return out;\n    },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        var keys = Object.keys(ta);\n        if (keys.length === 0) {\n            return F.of(empty);\n        }\n        var fr = F.of({});\n        var _loop_1 = function (key) {\n            fr = F.ap(F.map(fr, function (r) { return function (b) {\n                r[key] = b;\n                return r;\n            }; }), f(key, ta[key]));\n        };\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var key = keys_4[_i];\n            _loop_1(key);\n        }\n        return fr;\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\n            var key = keys_5[_i];\n            var e = f(key, fa[key]);\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_6 = keys; _i < keys_6.length; _i++) {\n            var key = keys_6[_i];\n            var a = fa[key];\n            if (predicateWithIndex(key, a)) {\n                right[key] = a;\n            }\n            else {\n                left[key] = a;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_7 = keys; _i < keys_7.length; _i++) {\n            var key = keys_7[_i];\n            var optionB = f(key, fa[key]);\n            if (isSome(optionB)) {\n                r[key] = optionB.value;\n            }\n        }\n        return r;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        var out = {};\n        var changed = false;\n        for (var key in fa) {\n            if (_hasOwnProperty.call(fa, key)) {\n                var a = fa[key];\n                if (predicateWithIndex(key, a)) {\n                    out[key] = a;\n                }\n                else {\n                    changed = true;\n                }\n            }\n        }\n        return changed ? out : fa;\n    }\n};\nvar _a = pipeable(readonlyRecord), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nfunction pipe(a, ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return a;\n        case 2:\n            return ab(a);\n        case 3:\n            return bc(ab(a));\n        case 4:\n            return cd(bc(ab(a)));\n        case 5:\n            return de(cd(bc(ab(a))));\n        case 6:\n            return ef(de(cd(bc(ab(a)))));\n        case 7:\n            return fg(ef(de(cd(bc(ab(a))))));\n        case 8:\n            return gh(fg(ef(de(cd(bc(ab(a)))))));\n        case 9:\n            return hi(gh(fg(ef(de(cd(bc(ab(a))))))));\n        case 10:\n            return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));\n    }\n    return;\n}\nexports.pipe = pipe;\nvar isFunctor = function (I) { return typeof I.map === 'function'; };\nvar isContravariant = function (I) { return typeof I.contramap === 'function'; };\nvar isFunctorWithIndex = function (I) { return typeof I.mapWithIndex === 'function'; };\nvar isApply = function (I) { return typeof I.ap === 'function'; };\nvar isChain = function (I) { return typeof I.chain === 'function'; };\nvar isBifunctor = function (I) { return typeof I.bimap === 'function'; };\nvar isExtend = function (I) { return typeof I.extend === 'function'; };\nvar isFoldable = function (I) { return typeof I.reduce === 'function'; };\nvar isFoldableWithIndex = function (I) { return typeof I.reduceWithIndex === 'function'; };\nvar isAlt = function (I) { return typeof I.alt === 'function'; };\nvar isCompactable = function (I) { return typeof I.compact === 'function'; };\nvar isFilterable = function (I) { return typeof I.filter === 'function'; };\nvar isFilterableWithIndex = function (I) {\n    return typeof I.filterWithIndex === 'function';\n};\nvar isProfunctor = function (I) { return typeof I.promap === 'function'; };\nvar isSemigroupoid = function (I) { return typeof I.compose === 'function'; };\nvar isMonadThrow = function (I) { return typeof I.throwError === 'function'; };\nfunction pipeable(I) {\n    var r = {};\n    if (isFunctor(I)) {\n        var map = function (f) { return function (fa) { return I.map(fa, f); }; };\n        r.map = map;\n    }\n    if (isContravariant(I)) {\n        var contramap = function (f) { return function (fa) { return I.contramap(fa, f); }; };\n        r.contramap = contramap;\n    }\n    if (isFunctorWithIndex(I)) {\n        var mapWithIndex = function (f) { return function (fa) { return I.mapWithIndex(fa, f); }; };\n        r.mapWithIndex = mapWithIndex;\n    }\n    if (isApply(I)) {\n        var ap = function (fa) { return function (fab) { return I.ap(fab, fa); }; };\n        var apFirst = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function (a) { return function () { return a; }; }), fb);\n        }; };\n        r.ap = ap;\n        r.apFirst = apFirst;\n        r.apSecond = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function () { return function (b) { return b; }; }), fb);\n        }; };\n    }\n    if (isChain(I)) {\n        var chain = function (f) { return function (ma) { return I.chain(ma, f); }; };\n        var chainFirst = function (f) { return function (ma) { return I.chain(ma, function (a) { return I.map(f(a), function () { return a; }); }); }; };\n        var flatten = function (mma) { return I.chain(mma, function_1.identity); };\n        r.chain = chain;\n        r.chainFirst = chainFirst;\n        r.flatten = flatten;\n    }\n    if (isBifunctor(I)) {\n        var bimap = function (f, g) { return function (fa) { return I.bimap(fa, f, g); }; };\n        var mapLeft = function (f) { return function (fa) { return I.mapLeft(fa, f); }; };\n        r.bimap = bimap;\n        r.mapLeft = mapLeft;\n    }\n    if (isExtend(I)) {\n        var extend = function (f) { return function (wa) { return I.extend(wa, f); }; };\n        var duplicate = function (wa) { return I.extend(wa, function_1.identity); };\n        r.extend = extend;\n        r.duplicate = duplicate;\n    }\n    if (isFoldable(I)) {\n        var reduce = function (b, f) { return function (fa) { return I.reduce(fa, b, f); }; };\n        var foldMap = function (M) {\n            var foldMapM = I.foldMap(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRight = function (b, f) { return function (fa) { return I.reduceRight(fa, b, f); }; };\n        r.reduce = reduce;\n        r.foldMap = foldMap;\n        r.reduceRight = reduceRight;\n    }\n    if (isFoldableWithIndex(I)) {\n        var reduceWithIndex = function (b, f) { return function (fa) {\n            return I.reduceWithIndex(fa, b, f);\n        }; };\n        var foldMapWithIndex = function (M) {\n            var foldMapM = I.foldMapWithIndex(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRightWithIndex = function (b, f) { return function (fa) {\n            return I.reduceRightWithIndex(fa, b, f);\n        }; };\n        r.reduceWithIndex = reduceWithIndex;\n        r.foldMapWithIndex = foldMapWithIndex;\n        r.reduceRightWithIndex = reduceRightWithIndex;\n    }\n    if (isAlt(I)) {\n        var alt = function (that) { return function (fa) { return I.alt(fa, that); }; };\n        r.alt = alt;\n    }\n    if (isCompactable(I)) {\n        r.compact = I.compact;\n        r.separate = I.separate;\n    }\n    if (isFilterable(I)) {\n        var filter = function (predicate) { return function (fa) {\n            return I.filter(fa, predicate);\n        }; };\n        var filterMap = function (f) { return function (fa) { return I.filterMap(fa, f); }; };\n        var partition = function (predicate) { return function (fa) {\n            return I.partition(fa, predicate);\n        }; };\n        var partitionMap = function (f) { return function (fa) { return I.partitionMap(fa, f); }; };\n        r.filter = filter;\n        r.filterMap = filterMap;\n        r.partition = partition;\n        r.partitionMap = partitionMap;\n    }\n    if (isFilterableWithIndex(I)) {\n        var filterWithIndex = function (predicateWithIndex) { return function (fa) { return I.filterWithIndex(fa, predicateWithIndex); }; };\n        var filterMapWithIndex = function (f) { return function (fa) {\n            return I.filterMapWithIndex(fa, f);\n        }; };\n        var partitionWithIndex = function (predicateWithIndex) { return function (fa) { return I.partitionWithIndex(fa, predicateWithIndex); }; };\n        var partitionMapWithIndex = function (f) { return function (fa) {\n            return I.partitionMapWithIndex(fa, f);\n        }; };\n        r.filterWithIndex = filterWithIndex;\n        r.filterMapWithIndex = filterMapWithIndex;\n        r.partitionWithIndex = partitionWithIndex;\n        r.partitionMapWithIndex = partitionMapWithIndex;\n    }\n    if (isProfunctor(I)) {\n        var promap = function (f, g) { return function (fa) { return I.promap(fa, f, g); }; };\n        r.promap = promap;\n    }\n    if (isSemigroupoid(I)) {\n        var compose = function (that) { return function (fa) { return I.compose(fa, that); }; };\n        r.compose = compose;\n    }\n    if (isMonadThrow(I)) {\n        var fromOption = function (onNone) { return function (ma) {\n            return ma._tag === 'None' ? I.throwError(onNone()) : I.of(ma.value);\n        }; };\n        var fromEither = function (ma) {\n            return ma._tag === 'Left' ? I.throwError(ma.left) : I.of(ma.right);\n        };\n        var fromPredicate = function (predicate, onFalse) { return function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }; };\n        var filterOrElse = function (predicate, onFalse) { return function (ma) { return I.chain(ma, function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }); }; };\n        r.fromOption = fromOption;\n        r.fromEither = fromEither;\n        r.fromPredicate = fromPredicate;\n        r.filterOrElse = filterOrElse;\n    }\n    return r;\n}\nexports.pipeable = pipeable;\n","/**\n * @since 2.0.0\n */\n/**\n * @since 2.0.0\n */\nexport function identity(a) {\n    return a;\n}\n/**\n * @since 2.0.0\n */\nexport var unsafeCoerce = identity;\n/**\n * @since 2.0.0\n */\nexport function not(predicate) {\n    return function (a) { return !predicate(a); };\n}\n/**\n * @since 2.0.0\n */\nexport function constant(a) {\n    return function () { return a; };\n}\n/**\n * A thunk that returns always `true`\n *\n * @since 2.0.0\n */\nexport var constTrue = function () {\n    return true;\n};\n/**\n * A thunk that returns always `false`\n *\n * @since 2.0.0\n */\nexport var constFalse = function () {\n    return false;\n};\n/**\n * A thunk that returns always `null`\n *\n * @since 2.0.0\n */\nexport var constNull = function () {\n    return null;\n};\n/**\n * A thunk that returns always `undefined`\n *\n * @since 2.0.0\n */\nexport var constUndefined = function () {\n    return;\n};\n/**\n * A thunk that returns always `void`\n *\n * @since 2.0.0\n */\nexport var constVoid = function () {\n    return;\n};\n/**\n * Flips the order of the arguments of a function of two arguments.\n *\n * @since 2.0.0\n */\nexport function flip(f) {\n    return function (b, a) { return f(a, b); };\n}\nexport function flow(ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return ab;\n        case 2:\n            return function () {\n                return bc(ab.apply(this, arguments));\n            };\n        case 3:\n            return function () {\n                return cd(bc(ab.apply(this, arguments)));\n            };\n        case 4:\n            return function () {\n                return de(cd(bc(ab.apply(this, arguments))));\n            };\n        case 5:\n            return function () {\n                return ef(de(cd(bc(ab.apply(this, arguments)))));\n            };\n        case 6:\n            return function () {\n                return fg(ef(de(cd(bc(ab.apply(this, arguments))))));\n            };\n        case 7:\n            return function () {\n                return gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))));\n            };\n        case 8:\n            return function () {\n                return hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments))))))));\n            };\n        case 9:\n            return function () {\n                return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))))));\n            };\n    }\n    return;\n}\n/**\n * @since 2.0.0\n */\nexport function tuple() {\n    var t = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        t[_i] = arguments[_i];\n    }\n    return t;\n}\n/**\n * @since 2.0.0\n */\nexport function increment(n) {\n    return n + 1;\n}\n/**\n * @since 2.0.0\n */\nexport function decrement(n) {\n    return n - 1;\n}\n/**\n * @since 2.0.0\n */\nexport function absurd(_) {\n    throw new Error('Called `absurd` function which should be uncallable');\n}\n/**\n * Creates a tupled version of this function: instead of `n` arguments, it accepts a single tuple argument.\n *\n * @example\n * import { tupled } from 'fp-ts/lib/function'\n *\n * const add = tupled((x: number, y: number): number => x + y)\n *\n * assert.strictEqual(add([1, 2]), 3)\n *\n * @since 2.4.0\n */\nexport function tupled(f) {\n    return function (a) { return f.apply(void 0, a); };\n}\n/**\n * Inverse function of `tupled`\n *\n * @since 2.4.0\n */\nexport function untupled(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return f(a);\n    };\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","\"use strict\";\n/**\n * @since 2.0.0\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction identity(a) {\n    return a;\n}\nexports.identity = identity;\n/**\n * @since 2.0.0\n */\nexports.unsafeCoerce = identity;\n/**\n * @since 2.0.0\n */\nfunction not(predicate) {\n    return function (a) { return !predicate(a); };\n}\nexports.not = not;\n/**\n * @since 2.0.0\n */\nfunction constant(a) {\n    return function () { return a; };\n}\nexports.constant = constant;\n/**\n * A thunk that returns always `true`\n *\n * @since 2.0.0\n */\nexports.constTrue = function () {\n    return true;\n};\n/**\n * A thunk that returns always `false`\n *\n * @since 2.0.0\n */\nexports.constFalse = function () {\n    return false;\n};\n/**\n * A thunk that returns always `null`\n *\n * @since 2.0.0\n */\nexports.constNull = function () {\n    return null;\n};\n/**\n * A thunk that returns always `undefined`\n *\n * @since 2.0.0\n */\nexports.constUndefined = function () {\n    return;\n};\n/**\n * A thunk that returns always `void`\n *\n * @since 2.0.0\n */\nexports.constVoid = function () {\n    return;\n};\n/**\n * Flips the order of the arguments of a function of two arguments.\n *\n * @since 2.0.0\n */\nfunction flip(f) {\n    return function (b, a) { return f(a, b); };\n}\nexports.flip = flip;\nfunction flow(ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return ab;\n        case 2:\n            return function () {\n                return bc(ab.apply(this, arguments));\n            };\n        case 3:\n            return function () {\n                return cd(bc(ab.apply(this, arguments)));\n            };\n        case 4:\n            return function () {\n                return de(cd(bc(ab.apply(this, arguments))));\n            };\n        case 5:\n            return function () {\n                return ef(de(cd(bc(ab.apply(this, arguments)))));\n            };\n        case 6:\n            return function () {\n                return fg(ef(de(cd(bc(ab.apply(this, arguments))))));\n            };\n        case 7:\n            return function () {\n                return gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))));\n            };\n        case 8:\n            return function () {\n                return hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments))))))));\n            };\n        case 9:\n            return function () {\n                return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))))));\n            };\n    }\n    return;\n}\nexports.flow = flow;\n/**\n * @since 2.0.0\n */\nfunction tuple() {\n    var t = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        t[_i] = arguments[_i];\n    }\n    return t;\n}\nexports.tuple = tuple;\n/**\n * @since 2.0.0\n */\nfunction increment(n) {\n    return n + 1;\n}\nexports.increment = increment;\n/**\n * @since 2.0.0\n */\nfunction decrement(n) {\n    return n - 1;\n}\nexports.decrement = decrement;\n/**\n * @since 2.0.0\n */\nfunction absurd(_) {\n    throw new Error('Called `absurd` function which should be uncallable');\n}\nexports.absurd = absurd;\n/**\n * Creates a tupled version of this function: instead of `n` arguments, it accepts a single tuple argument.\n *\n * @example\n * import { tupled } from 'fp-ts/lib/function'\n *\n * const add = tupled((x: number, y: number): number => x + y)\n *\n * assert.strictEqual(add([1, 2]), 3)\n *\n * @since 2.4.0\n */\nfunction tupled(f) {\n    return function (a) { return f.apply(void 0, a); };\n}\nexports.tupled = tupled;\n/**\n * Inverse function of `tupled`\n *\n * @since 2.4.0\n */\nfunction untupled(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return f(a);\n    };\n}\nexports.untupled = untupled;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Option';\n/**\n * @since 2.0.0\n */\nexports.none = { _tag: 'None' };\n/**\n * @since 2.0.0\n */\nfunction some(a) {\n    return { _tag: 'Some', value: a };\n}\nexports.some = some;\n/**\n * Returns `true` if the option is an instance of `Some`, `false` otherwise\n *\n * @example\n * import { some, none, isSome } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isSome(some(1)), true)\n * assert.strictEqual(isSome(none), false)\n *\n * @since 2.0.0\n */\nfunction isSome(fa) {\n    return fa._tag === 'Some';\n}\nexports.isSome = isSome;\n/**\n * Returns `true` if the option is `None`, `false` otherwise\n *\n * @example\n * import { some, none, isNone } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isNone(some(1)), false)\n * assert.strictEqual(isNone(none), true)\n *\n * @since 2.0.0\n */\nfunction isNone(fa) {\n    return fa._tag === 'None';\n}\nexports.isNone = isNone;\n/**\n * Takes a default value, a function, and an `Option` value, if the `Option` value is `None` the default value is\n * returned, otherwise the function is applied to the value inside the `Some` and the result is returned.\n *\n * @example\n * import { some, none, fold } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a some containing 1'\n * )\n *\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a none'\n * )\n *\n * @since 2.0.0\n */\nfunction fold(onNone, onSome) {\n    return function (ma) { return (isNone(ma) ? onNone() : onSome(ma.value)); };\n}\nexports.fold = fold;\n/**\n * Constructs a new `Option` from a nullable type. If the value is `null` or `undefined`, returns `None`, otherwise\n * returns the value wrapped in a `Some`\n *\n * @example\n * import { none, some, fromNullable } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromNullable(undefined), none)\n * assert.deepStrictEqual(fromNullable(null), none)\n * assert.deepStrictEqual(fromNullable(1), some(1))\n *\n * @since 2.0.0\n */\nfunction fromNullable(a) {\n    return a == null ? exports.none : some(a);\n}\nexports.fromNullable = fromNullable;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `null`.\n *\n * @example\n * import { some, none, toNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toNullable\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toNullable\n *   ),\n *   null\n * )\n *\n * @since 2.0.0\n */\nfunction toNullable(ma) {\n    return isNone(ma) ? null : ma.value;\n}\nexports.toNullable = toNullable;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `undefined`.\n *\n * @example\n * import { some, none, toUndefined } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toUndefined\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toUndefined\n *   ),\n *   undefined\n * )\n *\n * @since 2.0.0\n */\nfunction toUndefined(ma) {\n    return isNone(ma) ? undefined : ma.value;\n}\nexports.toUndefined = toUndefined;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns the given default value\n *\n * @example\n * import { some, none, getOrElse } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     getOrElse(() => 0)\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     getOrElse(() => 0)\n *   ),\n *   0\n * )\n *\n * @since 2.0.0\n */\nfunction getOrElse(onNone) {\n    return function (ma) { return (isNone(ma) ? onNone() : ma.value); };\n}\nexports.getOrElse = getOrElse;\n/**\n * Returns `true` if `ma` contains `a`\n *\n * @example\n * import { some, none, elem } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, some(1)), true)\n * assert.strictEqual(elem(eqNumber)(2, some(1)), false)\n * assert.strictEqual(elem(eqNumber)(1, none), false)\n *\n * @since 2.0.0\n */\nfunction elem(E) {\n    return function (a, ma) { return (isNone(ma) ? false : E.equals(a, ma.value)); };\n}\nexports.elem = elem;\n/**\n * Returns `true` if the predicate is satisfied by the wrapped value\n *\n * @example\n * import { some, none, exists } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 0)\n *   ),\n *   true\n * )\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 1)\n *   ),\n *   false\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     exists(n => n > 0)\n *   ),\n *   false\n * )\n *\n * @since 2.0.0\n */\nfunction exists(predicate) {\n    return function (ma) { return (isNone(ma) ? false : predicate(ma.value)); };\n}\nexports.exists = exists;\nfunction fromPredicate(predicate) {\n    return function (a) { return (predicate(a) ? some(a) : exports.none); };\n}\nexports.fromPredicate = fromPredicate;\n/**\n * Transforms an exception into an `Option`. If `f` throws, returns `None`, otherwise returns the output wrapped in\n * `Some`\n *\n * @example\n * import { none, some, tryCatch } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(\n *   tryCatch(() => {\n *     throw new Error()\n *   }),\n *   none\n * )\n * assert.deepStrictEqual(tryCatch(() => 1), some(1))\n *\n * @since 2.0.0\n */\nfunction tryCatch(f) {\n    try {\n        return some(f());\n    }\n    catch (e) {\n        return exports.none;\n    }\n}\nexports.tryCatch = tryCatch;\n/**\n * Returns an `E` value if possible\n *\n * @since 2.0.0\n */\nfunction getLeft(ma) {\n    return ma._tag === 'Right' ? exports.none : some(ma.left);\n}\nexports.getLeft = getLeft;\n/**\n * Returns an `A` value if possible\n *\n * @since 2.0.0\n */\nfunction getRight(ma) {\n    return ma._tag === 'Left' ? exports.none : some(ma.right);\n}\nexports.getRight = getRight;\n/**\n * Returns a `Refinement` (i.e. a custom type guard) from a `Option` returning function.\n * This function ensures that a custom type guard definition is type-safe.\n *\n * ```ts\n * import { some, none, getRefinement } from 'fp-ts/lib/Option'\n *\n * type A = { type: 'A' }\n * type B = { type: 'B' }\n * type C = A | B\n *\n * const isA = (c: C): c is A => c.type === 'B' // <= typo but typescript doesn't complain\n * const isA = getRefinement<C, A>(c => (c.type === 'B' ? some(c) : none)) // static error: Type '\"B\"' is not assignable to type '\"A\"'\n * ```\n *\n * @since 2.0.0\n */\nfunction getRefinement(getOption) {\n    return function (a) { return isSome(getOption(a)); };\n}\nexports.getRefinement = getRefinement;\n/**\n * This is `chain` + `fromNullable`, useful when working with optional values\n *\n * @example\n * import { some, none, fromNullable, mapNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * interface Employee {\n *   company?: {\n *     address?: {\n *       street?: {\n *         name?: string\n *       }\n *     }\n *   }\n * }\n *\n * const employee1: Employee = { company: { address: { street: { name: 'high street' } } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee1.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   some('high street')\n * )\n *\n * const employee2: Employee = { company: { address: { street: {} } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee2.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   none\n * )\n *\n * @since 2.0.0\n */\nfunction mapNullable(f) {\n    return function (ma) { return (isNone(ma) ? exports.none : fromNullable(f(ma.value))); };\n}\nexports.mapNullable = mapNullable;\n/**\n * @since 2.0.0\n */\nfunction getShow(S) {\n    return {\n        show: function (ma) { return (isNone(ma) ? 'none' : \"some(\" + S.show(ma.value) + \")\"); }\n    };\n}\nexports.getShow = getShow;\n/**\n * @example\n * import { none, some, getEq } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(none, none), true)\n * assert.strictEqual(E.equals(none, some(1)), false)\n * assert.strictEqual(E.equals(some(1), none), false)\n * assert.strictEqual(E.equals(some(1), some(2)), false)\n * assert.strictEqual(E.equals(some(1), some(1)), true)\n *\n * @since 2.0.0\n */\nfunction getEq(E) {\n    return {\n        equals: function (x, y) { return x === y || (isNone(x) ? isNone(y) : isNone(y) ? false : E.equals(x.value, y.value)); }\n    };\n}\nexports.getEq = getEq;\n/**\n * The `Ord` instance allows `Option` values to be compared with\n * `compare`, whenever there is an `Ord` instance for\n * the type the `Option` contains.\n *\n * `None` is considered to be less than any `Some` value.\n *\n *\n * @example\n * import { none, some, getOrd } from 'fp-ts/lib/Option'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordNumber)\n * assert.strictEqual(O.compare(none, none), 0)\n * assert.strictEqual(O.compare(none, some(1)), -1)\n * assert.strictEqual(O.compare(some(1), none), 1)\n * assert.strictEqual(O.compare(some(1), some(2)), -1)\n * assert.strictEqual(O.compare(some(1), some(1)), 0)\n *\n * @since 2.0.0\n */\nfunction getOrd(O) {\n    return {\n        equals: getEq(O).equals,\n        compare: function (x, y) { return (x === y ? 0 : isSome(x) ? (isSome(y) ? O.compare(x.value, y.value) : 1) : -1); }\n    };\n}\nexports.getOrd = getOrd;\n/**\n * `Apply` semigroup\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | none               |\n * | none    | some(a) | none               |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getApplySemigroup, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup(semigroupSum)\n * assert.deepStrictEqual(S.concat(none, none), none)\n * assert.deepStrictEqual(S.concat(some(1), none), none)\n * assert.deepStrictEqual(S.concat(none, some(1)), none)\n * assert.deepStrictEqual(S.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nfunction getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isSome(x) && isSome(y) ? some(S.concat(x.value, y.value)) : exports.none); }\n    };\n}\nexports.getApplySemigroup = getApplySemigroup;\n/**\n * @since 2.0.0\n */\nfunction getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: some(M.empty) });\n}\nexports.getApplyMonoid = getApplyMonoid;\n/**\n * Monoid returning the left-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(a)      |\n *\n * @example\n * import { getFirstMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getFirstMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(1))\n *\n * @since 2.0.0\n */\nfunction getFirstMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : x); },\n        empty: exports.none\n    };\n}\nexports.getFirstMonoid = getFirstMonoid;\n/**\n * Monoid returning the right-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(b)      |\n *\n * @example\n * import { getLastMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getLastMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(2))\n *\n * @since 2.0.0\n */\nfunction getLastMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(y) ? x : y); },\n        empty: exports.none\n    };\n}\nexports.getLastMonoid = getLastMonoid;\n/**\n * Monoid returning the left-most non-`None` value. If both operands are `Some`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | some(a)            |\n * | none    | some(a) | some(a)            |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getMonoid, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const M = getMonoid(semigroupSum)\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nfunction getMonoid(S) {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : isNone(y) ? x : some(S.concat(x.value, y.value))); },\n        empty: exports.none\n    };\n}\nexports.getMonoid = getMonoid;\nvar defaultSeparate = { left: exports.none, right: exports.none };\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexports.option = {\n    URI: exports.URI,\n    map: function (ma, f) { return (isNone(ma) ? exports.none : some(f(ma.value))); },\n    of: some,\n    ap: function (mab, ma) { return (isNone(mab) ? exports.none : isNone(ma) ? exports.none : some(mab.value(ma.value))); },\n    chain: function (ma, f) { return (isNone(ma) ? exports.none : f(ma.value)); },\n    reduce: function (fa, b, f) { return (isNone(fa) ? b : f(b, fa.value)); },\n    foldMap: function (M) { return function (fa, f) { return (isNone(fa) ? M.empty : f(fa.value)); }; },\n    reduceRight: function (fa, b, f) { return (isNone(fa) ? b : f(fa.value, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isNone(ta) ? F.of(exports.none) : F.map(f(ta.value), some);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isNone(ta) ? F.of(exports.none) : F.map(ta.value, some);\n    }; },\n    zero: function () { return exports.none; },\n    alt: function (ma, f) { return (isNone(ma) ? f() : ma); },\n    extend: function (wa, f) { return (isNone(wa) ? exports.none : some(f(wa))); },\n    compact: function (ma) { return exports.option.chain(ma, identity); },\n    separate: function (ma) {\n        var o = exports.option.map(ma, function (e) { return ({\n            left: getLeft(e),\n            right: getRight(e)\n        }); });\n        return isNone(o) ? defaultSeparate : o.value;\n    },\n    filter: function (fa, predicate) {\n        return isNone(fa) ? exports.none : predicate(fa.value) ? fa : exports.none;\n    },\n    filterMap: function (ma, f) { return (isNone(ma) ? exports.none : f(ma.value)); },\n    partition: function (fa, predicate) {\n        return {\n            left: exports.option.filter(fa, function (a) { return !predicate(a); }),\n            right: exports.option.filter(fa, predicate)\n        };\n    },\n    partitionMap: function (fa, f) { return exports.option.separate(exports.option.map(fa, f)); },\n    wither: function (F) { return function (fa, f) {\n        return isNone(fa) ? F.of(exports.none) : f(fa.value);\n    }; },\n    wilt: function (F) { return function (fa, f) {\n        var o = exports.option.map(fa, function (a) {\n            return F.map(f(a), function (e) { return ({\n                left: getLeft(e),\n                right: getRight(e)\n            }); });\n        });\n        return isNone(o)\n            ? F.of({\n                left: exports.none,\n                right: exports.none\n            })\n            : o.value;\n    }; },\n    throwError: function () { return exports.none; }\n};\nvar _a = pipeable_1.pipeable(exports.option), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate, fromEither = _a.fromEither;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\nexports.fromEither = fromEither;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar pipeable_1 = require(\"fp-ts/lib/pipeable\");\nvar ex = __importStar(require(\"./original/exit\"));\nvar driverSync_1 = require(\"./driverSync\");\nvar driver_1 = require(\"./driver\");\nvar util_1 = require(\"./original/support/util\");\nvar defs_1 = require(\"./defs\");\nexports.EffectTag = defs_1.EffectTag;\nvar ref_1 = require(\"./ref\");\nvar deferred_1 = require(\"./deferred\");\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nexports.URI = \"matechs/Effect\";\nvar Implementation = /** @class */ (function () {\n    function Implementation(_tag, f0, f1, f2) {\n        if (f0 === void 0) { f0 = undefined; }\n        if (f1 === void 0) { f1 = undefined; }\n        if (f2 === void 0) { f2 = undefined; }\n        this._tag = _tag;\n        this.f0 = f0;\n        this.f1 = f1;\n        this.f2 = f2;\n    }\n    Implementation.fromEffect = function (eff) {\n        return eff;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._TAG = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._A = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._E = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._S = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._R = function (_) {\n        return undefined;\n    };\n    return Implementation;\n}());\nexports.Implementation = Implementation;\n/**\n * An IO has succeeded\n * @param a the value\n */\nfunction pure(a) {\n    return new Implementation(defs_1.EffectTag.Pure, a);\n}\nexports.pure = pure;\n/**\n * An IO that is failed\n *\n * Prefer raiseError or raiseAbort\n * @param e\n */\nfunction raised(e) {\n    return new Implementation(defs_1.EffectTag.Raised, e);\n}\nexports.raised = raised;\n/**\n * An IO that is failed with a checked error\n * @param e\n */\nfunction raiseError(e) {\n    return raised(ex.raise(e));\n}\nexports.raiseError = raiseError;\n/**\n * An IO that is failed with an unchecked error\n * @param u\n */\nfunction raiseAbort(u) {\n    return raised(ex.abort(u));\n}\nexports.raiseAbort = raiseAbort;\n/**\n * An IO that is already interrupted\n */\nexports.raiseInterrupt = raised(ex.interrupt);\n/**\n * An IO that is completed with the given exit\n * @param exit\n */\nfunction completed(exit) {\n    return new Implementation(defs_1.EffectTag.Completed, exit);\n}\nexports.completed = completed;\n/**\n * Wrap a block of impure code that returns an IO into an IO\n *\n * When evaluated this IO will run the given thunk to produce the next IO to execute.\n * @param thunk\n */\nfunction suspended(thunk) {\n    return new Implementation(defs_1.EffectTag.Suspended, thunk);\n}\nexports.suspended = suspended;\n/**\n * Wrap a block of impure code in an IO\n *\n * When evaluated the this will produce a value or throw\n * @param thunk\n */\nfunction sync(thunk) {\n    return suspended(function () { return pure(thunk()); });\n}\nexports.sync = sync;\nfunction trySync(thunk) {\n    return suspended(function () {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(e);\n        }\n    });\n}\nexports.trySync = trySync;\nfunction trySyncMap(onError) {\n    return function (thunk) {\n        return suspended(function () {\n            try {\n                return pure(thunk());\n            }\n            catch (e) {\n                return raiseError(onError(e));\n            }\n        });\n    };\n}\nexports.trySyncMap = trySyncMap;\n/**\n * Wrap an impure callback in an IO\n *\n * The provided function must accept a callback to report results to and return a cancellation action.\n * If your action is uncancellable for some reason, you should return an empty thunk and wrap the created IO\n * in uninterruptible\n * @param op\n */\nfunction async(op) {\n    return new Implementation(defs_1.EffectTag.Async, op);\n}\nexports.async = async;\n/**\n * Wrap an impure callback in IO\n *\n * This is a variant of async where the effect cannot fail with a checked exception.\n * @param op\n */\nfunction asyncTotal(op) {\n    return async(function (callback) { return op(function (a) { return callback(fp_ts_1.either.right(a)); }); });\n}\nexports.asyncTotal = asyncTotal;\n/**\n * Demarcate a region of interruptible state\n * @param inner\n * @param flag\n */\nfunction interruptibleRegion(inner, flag) {\n    return new Implementation(defs_1.EffectTag.InterruptibleRegion, flag, inner);\n}\nexports.interruptibleRegion = interruptibleRegion;\n/**\n * Produce an new IO that will use the value produced by inner to produce the next IO to evaluate\n * @param inner\n * @param bind\n */\nfunction chain_(inner, bind) {\n    return inner._tag === defs_1.EffectTag.Pure\n        ? bind(inner.f0)\n        : new Implementation(defs_1.EffectTag.Chain, inner, bind);\n}\nfunction chainOption(onEmpty) {\n    return function (bind) { return function (inner) { return chain_(inner, function (a) { return encaseOption(bind(a), onEmpty); }); }; };\n}\nexports.chainOption = chainOption;\nfunction chainEither(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseEither(bind(a)); }); };\n}\nexports.chainEither = chainEither;\nfunction chainTask(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseTask(bind(a)); }); };\n}\nexports.chainTask = chainTask;\nfunction chainTaskEither(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseTaskEither(bind(a)); }); };\n}\nexports.chainTaskEither = chainTaskEither;\n/**\n * Lift an Either into an IO\n * @param e\n */\nfunction encaseEither(e) {\n    return new Implementation(defs_1.EffectTag.PureEither, e);\n}\nexports.encaseEither = encaseEither;\n/**\n * Lift an Option into an IO\n * @param o\n * @param onError\n */\nfunction encaseOption(o, onError) {\n    return new Implementation(defs_1.EffectTag.PureOption, o, onError);\n}\nexports.encaseOption = encaseOption;\n/**\n * Curried form of foldExit\n * @param failure\n * @param success\n */\nfunction foldExit(failure, success) {\n    return function (io) { return foldExit_(io, failure, success); };\n}\nexports.foldExit = foldExit;\n/**\n * Get the interruptible state of the current fiber\n */\nexports.accessInterruptible = new Implementation(defs_1.EffectTag.AccessInterruptible, fp_ts_1[\"function\"].identity);\n/**\n * Get the runtime of the current fiber\n */\nexports.accessRuntime = new Implementation(defs_1.EffectTag.AccessRuntime, fp_ts_1[\"function\"].identity);\n/**\n * Access the runtime then provide it to the provided function\n * @param f\n */\nfunction withRuntime(f) {\n    return chain_(exports.accessRuntime, f);\n}\nexports.withRuntime = withRuntime;\nfunction accessEnvironment() {\n    return new Implementation(defs_1.EffectTag.AccessEnv);\n}\nexports.accessEnvironment = accessEnvironment;\nfunction accessM(f) {\n    return chain_(accessEnvironment(), f);\n}\nexports.accessM = accessM;\nfunction access(f) {\n    return map_(accessEnvironment(), f);\n}\nexports.access = access;\n/**\n * Provides partial environment via the spread operator, providing several environment is possible via:\n * pipe(eff, provide(env1), provide(env2)) or pipe(eff, provide<Env1 & Env2>({...env1, ...env2}))\n *\n * the second parameter is used to invert the priority of newly provided environment\n * and should be used when you want subsequent providers to take precedence (i.e. having currently provided env as default)\n */\nfunction provide(r, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (eff) {\n        return provideR(function (r2) { return (inverted === \"inverted\" ? __assign(__assign({}, r), r2) : __assign(__assign({}, r2), r)); })(eff);\n    };\n}\nexports.provide = provide;\n/**\n * Like provide where environment is resolved monadically\n */\nfunction provideM(rm, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (eff) {\n        return chain_(rm, function (r) {\n            return provideR(function (r2) { return (inverted === \"inverted\" ? __assign(__assign({}, r), r2) : __assign(__assign({}, r2), r)); })(eff);\n        });\n    };\n}\nexports.provideM = provideM;\nvar provideR = function (f) { return function (ma) {\n    return accessM(function (r2) { return new Implementation(defs_1.EffectTag.ProvideEnv, ma, f(r2)); });\n}; };\n/**\n * Map the value produced by an IO\n * @param io\n * @param f\n */\nfunction map_(base, f) {\n    return base._tag === defs_1.EffectTag.Pure\n        ? new Implementation(defs_1.EffectTag.Pure, f(base.f0))\n        : new Implementation(defs_1.EffectTag.Map, base, f);\n}\n/**\n * Lift a function on values to a function on IOs\n * @param f\n */\nfunction lift(f) {\n    return function (io) { return map_(io, f); };\n}\nexports.lift = lift;\nfunction liftEither(f) {\n    return function (a) { return suspended(function () { return fromEither(f(a)); }); };\n}\nexports.liftEither = liftEither;\n/**\n * Map the value produced by an IO to the constant b\n * @param io\n * @param b\n */\nfunction as(io, b) {\n    return map_(io, fp_ts_1[\"function\"].constant(b));\n}\nexports.as = as;\n/**\n * Curried form of as\n * @param b\n */\nfunction to(b) {\n    return function (io) { return as(io, b); };\n}\nexports.to = to;\nfunction chainTap(bind) {\n    return function (inner) { return chainTap_(inner, bind); };\n}\nexports.chainTap = chainTap;\nvar chainTap_ = function (inner, bind) { return chain_(inner, function (a) { return as(bind(a), a); }); };\n/**\n * Map the value produced by an IO to void\n * @param io\n */\nfunction asUnit(io) {\n    return as(io, undefined);\n}\nexports.asUnit = asUnit;\n/**\n * An IO that succeeds immediately with void\n */\nexports.unit = pure(undefined);\n/**\n * Curriend form of chainError\n * @param f\n */\nfunction chainError(f) {\n    return function (io) { return chainError_(io, f); };\n}\nexports.chainError = chainError;\n/**\n * Map the error produced by an IO\n * @param f\n */\nfunction mapError(f) {\n    return function (io) { return mapLeft_(io, f); };\n}\nexports.mapError = mapError;\nfunction bimap_(io, leftMap, rightMap) {\n    return foldExit_(io, function (cause) { return (cause._tag === \"Raise\" ? raiseError(leftMap(cause.error)) : completed(cause)); }, fp_ts_1[\"function\"].flow(rightMap, pure));\n}\n/**\n * Zip the result of two IOs together using the provided function\n * @param first\n * @param second\n * @param f\n */\nfunction zipWith_(first, second, f) {\n    return chain_(first, function (a) { return map_(second, function (b) { return f(a, b); }); });\n}\nfunction zipWith(second, f) {\n    return function (first) { return zipWith_(first, second, f); };\n}\nexports.zipWith = zipWith;\n/**\n * Zip the result of two IOs together into a tuple type\n * @param first\n * @param second\n */\nfunction zip_(first, second) {\n    return zipWith_(first, second, util_1.tuple2);\n}\nfunction zip(second) {\n    return function (first) { return zip_(first, second); };\n}\nexports.zip = zip;\n/**\n * Evaluate two IOs in sequence and produce the value produced by the first\n * @param first\n * @param second\n */\nfunction applyFirst(first, second) {\n    return zipWith_(first, second, util_1.fst);\n}\nexports.applyFirst = applyFirst;\n/**\n * Evaluate two IOs in sequence and produce the value produced by the second\n * @param first\n * @param second\n */\nfunction applySecond(first, second) {\n    return zipWith_(first, second, util_1.snd);\n}\nexports.applySecond = applySecond;\n/**\n * Evaluate two IOs in sequence and produce the value of the second.\n * This is suitable for cases where second is recursively defined\n * @param first\n * @param second\n */\nfunction applySecondL(first, second) {\n    return chain_(first, second);\n}\nexports.applySecondL = applySecondL;\n/**\n * Flipped argument form of ap\n * @param ioa\n * @param iof\n */\nfunction ap__(ioa, iof) {\n    // Find the apply/thrush operator I'm sure exists in fp-ts somewhere\n    return zipWith_(ioa, iof, function (a, f) { return f(a); });\n}\nexports.ap__ = ap__;\n/**\n * Applicative ap\n * @param iof\n * @param ioa\n */\nfunction ap_(iof, ioa) {\n    return zipWith_(iof, ioa, function (f, a) { return f(a); });\n}\n/**\n * Flip the error and success channels in an IO\n * @param io\n */\nfunction flip(io) {\n    return foldExit_(io, function (error) { return (error._tag === \"Raise\" ? pure(error.error) : completed(error)); }, raiseError);\n}\nexports.flip = flip;\n/**\n * Execute the provided IO forever (or until it errors)\n * @param io\n */\nfunction forever(io) {\n    return chain_(io, function () { return forever(io); });\n}\nexports.forever = forever;\n/**\n * Create an IO that traps all exit states of io.\n *\n * Note that interruption will not be caught unless in an uninterruptible region\n * @param io\n */\nfunction result(io) {\n    return foldExit_(io, pure, function (d) { return pure(ex.done(d)); });\n}\nexports.result = result;\n/**\n * Create an interruptible region around the evalution of io\n * @param io\n */\nfunction interruptible(io) {\n    return interruptibleRegion(io, true);\n}\nexports.interruptible = interruptible;\n/**\n * Create an uninterruptible region around the evaluation of io\n * @param io\n */\nfunction uninterruptible(io) {\n    return interruptibleRegion(io, false);\n}\nexports.uninterruptible = uninterruptible;\n/**\n * Create an IO that produces void after ms milliseconds\n * @param ms\n */\nfunction after(ms) {\n    return chain_(exports.accessRuntime, function (runtime) {\n        return asyncTotal(function (callback) { return runtime.dispatchLater(callback, undefined, ms); });\n    });\n}\nexports.after = after;\nfunction makeInterruptMaskCutout(state) {\n    return function (inner) { return interruptibleRegion(inner, state); };\n}\n/**\n * Create an uninterruptible masked region\n *\n * When the returned IO is evaluated an uninterruptible region will be created and , f will receive an InterruptMaskCutout that can be used to restore the\n * interruptible status of the region above the one currently executing (which is uninterruptible)\n * @param f\n */\nfunction uninterruptibleMask(f) {\n    return chain_(exports.accessInterruptible, function (flag) {\n        var cutout = makeInterruptMaskCutout(flag);\n        return uninterruptible(f(cutout));\n    });\n}\nexports.uninterruptibleMask = uninterruptibleMask;\n/**\n * Create an interruptible masked region\n *\n * Similar to uninterruptibleMask\n * @param f\n */\nfunction interruptibleMask(f) {\n    return chain_(exports.accessInterruptible, function (flag) { return interruptible(f(makeInterruptMaskCutout(flag))); });\n}\nexports.interruptibleMask = interruptibleMask;\nfunction combineFinalizerExit(fiberExit, releaseExit) {\n    if (fiberExit._tag === \"Done\" && releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else if (fiberExit._tag === \"Done\") {\n        return releaseExit;\n    }\n    else if (releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else {\n        // TODO: Figure out how to sanely report both of these, we swallow them currently\n        // This would affect chainError (i.e. assume multiples are actually an abort condition that happens to be typed)\n        return fiberExit;\n    }\n}\n/**\n * Resource acquisition and release construct.\n *\n * Once acquire completes successfully, release is guaranteed to execute following the evaluation of the IO produced by use.\n * Release receives the exit state of use along with the resource.\n * @param acquire\n * @param release\n * @param use\n */\nfunction bracketExit(acquire, release, use) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(acquire, function (a) {\n            return chain_(result(cutout(use(a))), function (exit) {\n                return chain_(result(release(a, exit)), function (finalize) {\n                    return completed(combineFinalizerExit(exit, finalize));\n                });\n            });\n        });\n    });\n}\nexports.bracketExit = bracketExit;\n/**\n * Weaker form of bracketExit where release does not receive the exit status of use\n * @param acquire\n * @param release\n * @param use\n */\nfunction bracket(acquire, release, use) {\n    // tslint:disable-next-line: no-unnecessary-callback-wrapper\n    return bracketExit(acquire, function (e) { return release(e); }, use);\n}\nexports.bracket = bracket;\n/**\n * Guarantee that once ioa begins executing the finalizer will execute.\n * @param ioa\n * @param finalizer\n */\nfunction onComplete_(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return chain_(result(finalizer), function (finalize) { return completed(combineFinalizerExit(exit, finalize)); });\n        });\n    });\n}\nfunction onComplete(finalizer) {\n    return function (ioa) { return onComplete_(ioa, finalizer); };\n}\nexports.onComplete = onComplete;\n/**\n * Guarantee that once ioa begins executing if it is interrupted finalizer will execute\n * @param ioa\n * @param finalizer\n */\nfunction onInterrupted_(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return exit._tag === \"Interrupt\"\n                ? chain_(result(finalizer), function (finalize) { return completed(combineFinalizerExit(exit, finalize)); })\n                : completed(exit);\n        });\n    });\n}\nfunction onInterrupted(finalizer) {\n    return function (ioa) { return onInterrupted_(ioa, finalizer); };\n}\nexports.onInterrupted = onInterrupted;\nfunction combineInterruptExit(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return exit._tag === \"Interrupt\"\n                ? chain_(result(finalizer), function (finalize) {\n                    /* istanbul ignore else */\n                    if (finalize._tag === \"Done\") {\n                        var errors = pipeable_1.pipe(__spreadArrays([exit.error], finalize.value.map(function (x) { return x.error; })), fp_ts_1.array.filter(function (x) { return x !== undefined; }));\n                        return errors.length > 0\n                            ? completed(ex.interruptWithErrorAndOthers(errors[0], fp_ts_1.array.dropLeft(1)(errors)))\n                            : completed(exit);\n                    }\n                    else {\n                        console.warn(\"BUG: interrupt finalizer should not fail\");\n                        return completed(exit);\n                    }\n                })\n                : completed(exit);\n        });\n    });\n}\nexports.combineInterruptExit = combineInterruptExit;\n/**\n * Introduce a gap in executing to allow other fibers to execute (if any are pending)\n */\nexports.shifted = uninterruptible(chain_(exports.accessRuntime, function (runtime) {\n    return asyncTotal(function (callback) {\n        runtime.dispatch(callback, undefined);\n        return function (cb) {\n            cb();\n        };\n    });\n}));\n/**\n * Introduce asynchronous gap before io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nfunction shiftBefore(io) {\n    return applySecond(exports.shifted, io);\n}\nexports.shiftBefore = shiftBefore;\n/**\n * Introduce asynchronous gap after an io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nfunction shiftAfter(io) {\n    return applyFirst(io, exports.shifted);\n}\nexports.shiftAfter = shiftAfter;\n/**\n * Introduce an asynchronous gap that will suspend the runloop and return control to the javascript vm\n */\nexports.shiftedAsync = uninterruptible(chain_(exports.accessRuntime, function (runtime) {\n    return asyncTotal(function (callback) { return runtime.dispatchLater(callback, undefined, 0); });\n}));\n/**\n * Introduce an asynchronous gap before IO\n * @param io\n */\nfunction shiftAsyncBefore(io) {\n    return applySecond(exports.shiftedAsync, io);\n}\nexports.shiftAsyncBefore = shiftAsyncBefore;\n/**\n * Introduce asynchronous gap after an IO\n * @param io\n */\nfunction shiftAsyncAfter(io) {\n    return applyFirst(io, exports.shiftedAsync);\n}\nexports.shiftAsyncAfter = shiftAsyncAfter;\n/**\n * An IO that never produces a value or an error.\n *\n * This IO will however prevent a javascript runtime such as node from exiting by scheduling an interval for 60s\n */\nexports.never = asyncTotal(function () {\n    var handle = setInterval(function () {\n        //\n    }, 60000);\n    /* istanbul ignore next */\n    return function (cb) {\n        clearInterval(handle);\n        cb();\n    };\n});\n/**\n * Delay evaluation of inner by some amount of time\n * @param inner\n * @param ms\n */\nfunction delay(inner, ms) {\n    return applySecond(after(ms), inner);\n}\nexports.delay = delay;\n/**\n * Curried form of delay\n */\nfunction liftDelay(ms) {\n    return function (io) { return delay(io, ms); };\n}\nexports.liftDelay = liftDelay;\nvar FiberImpl = /** @class */ (function () {\n    function FiberImpl(driver, n) {\n        var _this = this;\n        this.driver = driver;\n        this.n = n;\n        this.name = fp_ts_1.option.fromNullable(this.n);\n        this.sendInterrupt = sync(function () {\n            _this.driver.interrupt();\n        });\n        this.wait = asyncTotal(function (f) { return _this.driver.onExit(f); });\n        this.interrupt = applySecond(this.sendInterrupt, this.wait);\n        this.join = chain_(this.wait, completed);\n        this.result = chain_(sync(function () { return _this.driver.completed; }), function (opt) { return (opt === null ? pureNone : map_(completed(opt), fp_ts_1.option.some)); });\n        this.isComplete = sync(function () { return _this.driver.completed !== null; });\n    }\n    return FiberImpl;\n}());\nexports.FiberImpl = FiberImpl;\nvar pureNone = pure(fp_ts_1.option.none);\n/**\n * Implementation of Stack/waver fork. Creates an IO that will fork a fiber in the background\n * @param init\n * @param name\n */\nfunction makeFiber(init, name) {\n    return accessM(function (r) {\n        return chain_(exports.accessRuntime, function (runtime) {\n            return sync(function () {\n                var driver = new driver_1.DriverImpl(runtime);\n                var fiber = new FiberImpl(driver, name);\n                driver.start(provide(r)(init));\n                return fiber;\n            });\n        });\n    });\n}\nexports.makeFiber = makeFiber;\n/**\n * Fork the program described by IO in a separate fiber.\n *\n * This fiber will begin executing once the current fiber releases control of the runloop.\n * If you need to begin the fiber immediately you should use applyFirst(forkIO, shifted)\n * @param io\n * @param name\n */\nfunction fork(io, name) {\n    return makeFiber(io, name);\n}\nexports.fork = fork;\nfunction completeLatched(latch, channel, combine, other) {\n    return function (exit) {\n        var act = latch.modify(function (flag) {\n            return !flag ? [channel.from(combine(exit, other)), true] : [exports.unit, flag];\n        });\n        return flatten(act);\n    };\n}\n/**\n * Race two fibers together and combine their results.\n *\n * This is the primitive from which all other racing and timeout operators are built and you should favor those unless you have very specific needs.\n * @param first\n * @param second\n * @param onFirstWon\n * @param onSecondWon\n */\nfunction raceFold(first, second, onFirstWon, onSecondWon) {\n    return accessM(function (r) {\n        return uninterruptibleMask(function (cutout) {\n            return chain_(ref_1.makeRef(false), function (latch) {\n                return chain_(deferred_1.makeDeferred(), function (channel) {\n                    return chain_(fork(provide(r)(first)), function (fiber1) {\n                        return chain_(fork(provide(r)(second)), function (fiber2) {\n                            return chain_(fork(chain_(fiber1.wait, completeLatched(latch, channel, onFirstWon, fiber2))), function () {\n                                return chain_(fork(chain_(fiber2.wait, completeLatched(latch, channel, onSecondWon, fiber1))), function () {\n                                    return combineInterruptExit(cutout(channel.wait), chain_(fiber1.interrupt, function (i1) { return map_(fiber2.interrupt, function (i2) { return [i1, i2]; }); }));\n                                });\n                            });\n                        });\n                    });\n                });\n            });\n        });\n    });\n}\nexports.raceFold = raceFold;\n/**\n * Execute an IO and produce the next IO to run based on whether it completed successfully in the alotted time or not\n * @param source\n * @param ms\n * @param onTimeout\n * @param onCompleted\n */\nfunction timeoutFold(source, ms, onTimeout, onCompleted) {\n    return raceFold(source, after(ms), \n    /* istanbul ignore next */\n    function (exit, delayFiber) { return applySecond(delayFiber.interrupt, onCompleted(exit)); }, function (_, fiber) { return onTimeout(fiber); });\n}\nexports.timeoutFold = timeoutFold;\nfunction interruptLoser(exit, loser) {\n    return applySecond(loser.interrupt, completed(exit));\n}\n/**\n * Return the reuslt of the first IO to complete or error successfully\n * @param io1\n * @param io2\n */\nfunction raceFirst(io1, io2) {\n    return raceFold(io1, io2, interruptLoser, interruptLoser);\n}\nexports.raceFirst = raceFirst;\nfunction fallbackToLoser(exit, loser) {\n    return exit._tag === \"Done\" ? applySecond(loser.interrupt, completed(exit)) : loser.join;\n}\n/**\n * Return the result of the first IO to complete successfully.\n *\n * If an error occurs, fall back to the other IO.\n * If both error, then fail with the second errors\n * @param io1\n * @param io2\n */\nfunction race(io1, io2) {\n    return raceFold(io1, io2, fallbackToLoser, fallbackToLoser);\n}\nexports.race = race;\n/**\n * Zip the result of 2 ios executed in parallel together with the provided function.\n * @param ioa\n * @param iob\n * @param f\n */\nfunction parZipWith(ioa, iob, f) {\n    return raceFold(ioa, iob, function (aExit, bFiber) { return zipWith_(completed(aExit), bFiber.join, f); }, function (bExit, aFiber) { return zipWith_(aFiber.join, completed(bExit), f); });\n}\nexports.parZipWith = parZipWith;\n/**\n * Tuple the result of 2 ios executed in parallel\n * @param ioa\n * @param iob\n */\nfunction parZip(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.tuple2);\n}\nexports.parZip = parZip;\n/**\n * Execute two ios in parallel and take the result of the first.\n * @param ioa\n * @param iob\n */\nfunction parApplyFirst(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.fst);\n}\nexports.parApplyFirst = parApplyFirst;\n/**\n * Exeute two IOs in parallel and take the result of the second\n * @param ioa\n * @param iob\n */\nfunction parApplySecond(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.snd);\n}\nexports.parApplySecond = parApplySecond;\n/**\n * Parallel form of ap\n * @param ioa\n * @param iof\n */\nfunction parAp(ioa, iof) {\n    return parZipWith(ioa, iof, function (a, f) { return f(a); });\n}\nexports.parAp = parAp;\n/**\n * Parallel form of ap_\n * @param iof\n * @param ioa\n */\nfunction parAp_(iof, ioa) {\n    return parZipWith(iof, ioa, function (f, a) { return f(a); });\n}\nexports.parAp_ = parAp_;\n/**\n * Convert an error into an unchecked error.\n * @param io\n */\nfunction orAbort(io) {\n    return chainError_(io, raiseAbort);\n}\nexports.orAbort = orAbort;\n/**\n * Run source for a maximum amount of ms.\n *\n * If it completes succesfully produce a some, if not interrupt it and produce none\n * @param source\n * @param ms\n */\nfunction timeoutOption(source, ms) {\n    return timeoutFold(source, ms, function (actionFiber) { return applySecond(actionFiber.interrupt, pureNone); }, function (exit) { return map_(completed(exit), fp_ts_1.option.some); });\n}\nexports.timeoutOption = timeoutOption;\n/**\n * Create an IO from a Promise factory.\n * @param thunk\n */\nfunction fromPromise(thunk) {\n    return uninterruptible(async(function (callback) {\n        thunk()\n            .then(function (v) { return callback(fp_ts_1.either.right(v)); })[\"catch\"](function (e) { return callback(fp_ts_1.either.left(e)); });\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    }));\n}\nexports.fromPromise = fromPromise;\nfunction encaseTask(task) {\n    return orAbort(fromPromise(task));\n}\nexports.encaseTask = encaseTask;\nfunction encaseTaskEither(taskEither) {\n    return async(function (callback) {\n        taskEither().then(callback);\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    });\n}\nexports.encaseTaskEither = encaseTaskEither;\nfunction fromPromiseMap(onError) {\n    return function (thunk) {\n        return async(function (callback) {\n            thunk()\n                .then(function (v) { return callback(fp_ts_1.either.right(v)); })[\"catch\"](function (e) { return callback(fp_ts_1.either.left(onError(e))); });\n            /* istanbul ignore next */\n            return function (cb) {\n                cb();\n            };\n        });\n    };\n}\nexports.fromPromiseMap = fromPromiseMap;\n/**\n * Run the given IO with the provided environment.\n * @param io\n * @param r\n * @param callback\n */\nfunction run(io, callback) {\n    var driver = new driver_1.DriverImpl();\n    if (callback) {\n        driver.onExit(callback);\n    }\n    driver.start(io);\n    return function () { return driver.interrupt(); };\n}\nexports.run = run;\n/**\n * Run the given IO syncroniously\n * returns left if any async operation\n * is found\n * @param io\n */\nfunction runSync(io) {\n    return pipeable_1.pipe(new driverSync_1.DriverSyncImpl().start(io), fp_ts_1.either.fold(function (e) {\n        throw e;\n    }, function (e) { return e; }));\n}\nexports.runSync = runSync;\n/* istanbul skip next */\nfunction runUnsafeSync(io) {\n    var result = runSync(io);\n    if (result._tag !== \"Done\") {\n        throw result._tag === \"Raise\"\n            ? result.error\n            : result._tag === \"Abort\"\n                ? result.abortedWith\n                : result;\n    }\n    return result.value;\n}\nexports.runUnsafeSync = runUnsafeSync;\n/**\n * Run an IO and return a Promise of its result\n *\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nfunction runToPromise(io) {\n    return new Promise(function (resolve, reject) {\n        return run(io, function (exit) {\n            switch (exit._tag) {\n                case \"Done\":\n                    resolve(exit.value);\n                    return;\n                case \"Abort\":\n                    reject(exit.abortedWith);\n                    return;\n                case \"Raise\":\n                    reject(exit.error);\n                    return;\n                case \"Interrupt\":\n                    reject();\n                    return;\n            }\n        });\n    });\n}\nexports.runToPromise = runToPromise;\n/**\n * Run an IO returning a promise of an Exit.\n *\n * The Promise will not reject.\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nfunction runToPromiseExit(io) {\n    return new Promise(function (result) { return run(io, result); });\n}\nexports.runToPromiseExit = runToPromiseExit;\nfunction chainError_(io, f) {\n    return foldExit_(io, function (cause) { return (cause._tag === \"Raise\" ? f(cause.error) : completed(cause)); }, pure);\n}\nvar foldExit_ = function (inner, failure, success) {\n    return new Implementation(defs_1.EffectTag.Collapse, inner, failure, success);\n};\nvar mapLeft_ = function (io, f) { return chainError_(io, fp_ts_1[\"function\"].flow(f, raiseError)); };\nvar alt_ = chainError_;\nfunction alt(fy) {\n    return function (fx) { return alt_(fx, fy); };\n}\nexports.alt = alt;\nexports.effect = {\n    URI: exports.URI,\n    map: map_,\n    of: pure,\n    ap: ap_,\n    chain: chain_,\n    bimap: bimap_,\n    mapLeft: mapLeft_,\n    mapError: mapLeft_,\n    throwError: raiseError,\n    chainError: chainError_,\n    foldExit: foldExit_,\n    chainTap: chainTap_,\n    alt: alt_,\n    onInterrupted: onInterrupted_,\n    onComplete: onComplete_,\n    zip: zip_,\n    zipWith: zipWith_\n};\nexports.Do = function () { return Do_1.Do(exports.effect); };\nexports.sequenceS = Apply_1.sequenceS(exports.effect);\nexports.sequenceT = Apply_1.sequenceT(exports.effect);\nexports.parEffect = {\n    URI: exports.URI,\n    _CTX: \"async\",\n    of: pure,\n    map: map_,\n    ap: parAp_,\n    chain: chain_,\n    throwError: raiseError\n};\nexports.parDo = function () { return Do_1.Do(exports.parEffect); };\nexports.parSequenceS = Apply_1.sequenceS(exports.parEffect);\nexports.parSequenceT = Apply_1.sequenceT(exports.parEffect);\nvar _a = pipeable_1.pipeable(exports.effect), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, \n// toto\nbimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, filterOrElse = _a.filterOrElse, flatten = _a.flatten, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, map = _a.map, mapLeft = _a.mapLeft;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.bimap = bimap;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.filterOrElse = filterOrElse;\nexports.flatten = flatten;\nexports.fromEither = fromEither;\nexports.fromOption = fromOption;\nexports.fromPredicate = fromPredicate;\nexports.map = map;\nexports.mapLeft = mapLeft;\nfunction getSemigroup(s) {\n    return {\n        concat: function (x, y) {\n            return zipWith_(x, y, s.concat);\n        }\n    };\n}\nexports.getSemigroup = getSemigroup;\nfunction getMonoid(m) {\n    return __assign(__assign({}, getSemigroup(m)), { empty: pure(m.empty) });\n}\nexports.getMonoid = getMonoid;\n/* conditionals */\nfunction when(predicate) {\n    return function (ma) { return (predicate ? map_(ma, fp_ts_1.option.some) : pure(fp_ts_1.option.none)); };\n}\nexports.when = when;\nfunction or_(predicate) {\n    return function (ma) { return function (mb) { return (predicate ? map_(ma, fp_ts_1.either.left) : map_(mb, fp_ts_1.either.right)); }; };\n}\nexports.or_ = or_;\nfunction or(ma) {\n    return function (mb) { return function (predicate) { return (predicate ? map_(ma, fp_ts_1.either.left) : map_(mb, fp_ts_1.either.right)); }; };\n}\nexports.or = or;\nfunction condWith(predicate) {\n    return function (ma) { return function (mb) { return (predicate ? ma : mb); }; };\n}\nexports.condWith = condWith;\nfunction cond(ma) {\n    return function (mb) { return function (predicate) { return (predicate ? ma : mb); }; };\n}\nexports.cond = cond;\nfunction fromNullableM(ma) {\n    return map_(ma, fp_ts_1.option.fromNullable);\n}\nexports.fromNullableM = fromNullableM;\nfunction getCauseSemigroup(S) {\n    return {\n        concat: function (ca, cb) {\n            if (ca._tag === \"Interrupt\" || cb._tag === \"Interrupt\") {\n                return ca;\n            }\n            if (ca._tag === \"Abort\") {\n                return ca;\n            }\n            if (cb._tag === \"Abort\") {\n                return cb;\n            }\n            return ex.raise(S.concat(ca.error, cb.error));\n        }\n    };\n}\nexports.getCauseSemigroup = getCauseSemigroup;\nfunction getValidationM(S) {\n    return getCauseValidationM(getCauseSemigroup(S));\n}\nexports.getValidationM = getValidationM;\nfunction getCauseValidationM(S) {\n    return {\n        URI: exports.URI,\n        _E: undefined,\n        of: pure,\n        map: map_,\n        chain: chain_,\n        ap: function (fab, fa) {\n            return foldExit_(fab, function (fabe) {\n                return foldExit_(fa, function (fae) { return raised(S.concat(fabe, fae)); }, function (_) { return raised(fabe); });\n            }, function (f) { return map_(fa, f); });\n        },\n        throwError: raiseError,\n        alt: function (fa, fb) {\n            return foldExit_(fa, function (e) { return foldExit_(fb(), function (fbe) { return raised(S.concat(e, fbe)); }, pure); }, pure);\n        }\n    };\n}\nexports.getCauseValidationM = getCauseValidationM;\nfunction effectify(f) {\n    return function () {\n        var args = Array.prototype.slice.call(arguments);\n        return async(function (cb) {\n            var cbResolver = function (e, r) {\n                // tslint:disable-next-line: triple-equals\n                return e != null ? cb(fp_ts_1.either.left(e)) : cb(fp_ts_1.either.right(r));\n            };\n            f.apply(null, args.concat(cbResolver));\n            /* istanbul ignore next */\n            return function (cb) {\n                cb();\n            };\n        });\n    };\n}\nexports.effectify = effectify;\nexports.sequenceOption = fp_ts_1.option.option.sequence(exports.effect);\nexports.traverseOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.traverse(exports.effect)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return fp_ts_1.option.option.wilt(exports.effect)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.wither(exports.effect)(ta, f);\n}; };\nexports.sequenceEither = fp_ts_1.either.either.sequence(exports.effect);\nexports.traverseEither = function (f) { return function (ta) {\n    return fp_ts_1.either.either.traverse(exports.effect)(ta, f);\n}; };\nexports.sequenceTree = fp_ts_1.tree.tree.sequence(exports.effect);\nexports.traverseTree = function (f) { return function (ta) {\n    return fp_ts_1.tree.tree.traverse(exports.effect)(ta, f);\n}; };\nexports.sequenceTreePar = fp_ts_1.tree.tree.sequence(exports.parEffect);\nexports.traverseTreePar = function (f) { return function (ta) {\n    return fp_ts_1.tree.tree.traverse(exports.parEffect)(ta, f);\n}; };\nexports.sequenceArray = fp_ts_1.array.array.sequence(exports.effect);\nexports.traverseArray = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.effect)(ta, f); }; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.effect)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.effect)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.effect)(ta, f); }; };\nexports.sequenceArrayPar = fp_ts_1.array.array.sequence(exports.parEffect);\nexports.traverseArrayPar = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.parEffect)(ta, f); }; };\nexports.traverseArrayWithIndexPar = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.parEffect)(ta, f);\n}; };\nexports.wiltArrayPar = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.parEffect)(wa, f);\n}; };\nexports.witherArrayPar = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.parEffect)(ta, f); }; };\nexports.sequenceRecord = fp_ts_1.record.record.sequence(exports.effect);\nexports.traverseRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.effect)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.effect)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.effect)(wa, f); }; };\nexports.witherRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.effect)(ta, f);\n}; };\nexports.sequenceRecordPar = fp_ts_1.record.record.sequence(exports.parEffect);\nexports.traverseRecordPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.parEffect)(ta, f);\n}; };\nexports.traverseRecordWithIndexPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.parEffect)(ta, f);\n}; };\nexports.wiltRecordPar = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.parEffect)(wa, f); }; };\nexports.witherRecordPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.parEffect)(ta, f);\n}; };\n","import { tuple } from './function';\nfunction curried(f, n, acc) {\n    return function (x) {\n        var combined = acc.concat([x]);\n        return n === 0 ? f.apply(null, combined) : curried(f, n - 1, combined);\n    };\n}\nvar tupleConstructors = {};\nfunction getTupleConstructor(len) {\n    if (!tupleConstructors.hasOwnProperty(len)) {\n        tupleConstructors[len] = curried(tuple, len - 1, []);\n    }\n    return tupleConstructors[len];\n}\nexport function sequenceT(F) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var len = args.length;\n        var f = getTupleConstructor(len);\n        var fas = F.map(args[0], f);\n        for (var i = 1; i < len; i++) {\n            fas = F.ap(fas, args[i]);\n        }\n        return fas;\n    };\n}\nfunction getRecordConstructor(keys) {\n    var len = keys.length;\n    return curried(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var r = {};\n        for (var i = 0; i < len; i++) {\n            r[keys[i]] = args[i];\n        }\n        return r;\n    }, len - 1, []);\n}\nexport function sequenceS(F) {\n    return function (r) {\n        var keys = Object.keys(r);\n        var len = keys.length;\n        var f = getRecordConstructor(keys);\n        var fr = F.map(r[keys[0]], f);\n        for (var i = 1; i < len; i++) {\n            fr = F.ap(fr, r[keys[i]]);\n        }\n        return fr;\n    };\n}\n/* tslint:enable:readonly-array */\n","import { pipeable } from './pipeable';\nimport * as RA from './ReadonlyArray';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Array';\n/**\n * @since 2.0.0\n */\nexport var getShow = RA.getShow;\n/**\n * Returns a `Monoid` for `Array<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/Array'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var getMonoid = RA.getMonoid;\n/**\n * Derives an `Eq` over the `Array` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/Array'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.0.0\n */\nexport var getEq = RA.getEq;\n/**\n * Derives an `Ord` over the `Array` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/Array'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.0.0\n */\nexport var getOrd = RA.getOrd;\n/**\n * An empty array\n *\n * @since 2.0.0\n */\nexport var empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/Array'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.0.0\n */\nexport var makeBy = RA.makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.0.0\n */\nexport var range = RA.range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.0.0\n */\nexport var replicate = RA.replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var flatten = RA.flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/Array'\n *\n * const len: <A>(as: Array<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.0.0\n */\nexport var foldLeft = RA.foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.0.0\n */\nexport var foldRight = RA.foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.0.0\n */\nexport var scanLeft = RA.scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.0.0\n */\nexport var scanRight = RA.scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/Array'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.0.0\n */\nexport var isEmpty = RA.isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyArray<A>`\n *\n * @since 2.0.0\n */\nexport var isNonEmpty = RA.isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.0.0\n */\nexport var isOutOfBound = RA.isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.0.0\n */\nexport var lookup = RA.lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var snoc = RA.snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.0.0\n */\nexport var head = RA.head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.0.0\n */\nexport var last = RA.last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.0.0\n */\nexport var tail = RA.tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.0.0\n */\nexport var init = RA.init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var takeLeft = RA.takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.0.0\n */\nexport var takeRight = RA.takeRight;\nexport function takeLeftWhile(predicate) {\n    return RA.takeLeftWhile(predicate);\n}\nexport function spanLeft(predicate) {\n    return RA.spanLeft(predicate);\n}\n/* tslint:enable:readonly-keyword */\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.0.0\n */\nexport var dropLeft = RA.dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var dropRight = RA.dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.0.0\n */\nexport var dropLeftWhile = RA.dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.0.0\n */\nexport var findIndex = RA.findIndex;\nexport function findFirst(predicate) {\n    return RA.findFirst(predicate);\n}\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.0.0\n */\nexport var findFirstMap = RA.findFirstMap;\nexport function findLast(predicate) {\n    return RA.findLast(predicate);\n}\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.0.0\n */\nexport var findLastMap = RA.findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: Array<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.0.0\n */\nexport var findLastIndex = RA.findLastIndex;\n/**\n * @since 2.0.0\n */\nexport var copy = RA.toArray;\n/**\n * @since 2.0.0\n */\nexport var unsafeInsertAt = RA.unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/Array'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.0.0\n */\nexport var insertAt = RA.insertAt;\n/**\n * @since 2.0.0\n */\nexport var unsafeUpdateAt = RA.unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.0.0\n */\nexport var updateAt = RA.updateAt;\n/**\n * @since 2.0.0\n */\nexport var unsafeDeleteAt = RA.unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.0.0\n */\nexport var deleteAt = RA.deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.0.0\n */\nexport var modifyAt = RA.modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.0.0\n */\nexport var reverse = RA.reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/Array'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var rights = RA.rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/Array'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.0.0\n */\nexport var lefts = RA.lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var sort = RA.sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.0.0\n */\nexport var zipWith = RA.zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.0.0\n */\nexport var zip = RA.zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.0.0\n */\nexport var unzip = RA.unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var rotate = RA.rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `Array<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.0.0\n */\nexport var elem = RA.elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var uniq = RA.uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/Array'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.0.0\n */\nexport var sortBy = RA.sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/Array'\n *\n * const group = <A>(S: Eq<A>): ((as: Array<A>) => Array<Array<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.0.0\n */\nexport var chop = RA.chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.0.0\n */\nexport var splitAt = RA.splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.0.0\n */\nexport var chunksOf = RA.chunksOf;\nexport function comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    return RA.comprehension(input, f, g);\n}\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var union = RA.union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.0.0\n */\nexport var intersection = RA.intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.0.0\n */\nexport var difference = RA.difference;\n/**\n * @since 2.0.0\n */\nexport var of = RA.of;\n/**\n * @since 2.0.0\n */\nexport var array = {\n    URI: URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    compact: RA.readonlyArray.compact,\n    separate: RA.readonlyArray.separate,\n    filter: RA.readonlyArray.filter,\n    filterMap: RA.readonlyArray.filterMap,\n    partition: RA.readonlyArray.partition,\n    partitionMap: RA.readonlyArray.partitionMap,\n    of: of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    unfold: RA.readonlyArray.unfold,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    zero: RA.readonlyArray.zero,\n    alt: RA.readonlyArray.alt,\n    extend: RA.readonlyArray.extend,\n    wither: RA.readonlyArray.wither,\n    wilt: RA.readonlyArray.wilt,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    partitionMapWithIndex: RA.readonlyArray.partitionMapWithIndex,\n    partitionWithIndex: RA.readonlyArray.partitionWithIndex,\n    filterMapWithIndex: RA.readonlyArray.filterMapWithIndex,\n    filterWithIndex: RA.readonlyArray.filterWithIndex\n};\nvar _a = pipeable(array), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nfilterMapWithIndex, \n/**\n * @since 2.0.0\n */\nfilterWithIndex, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapWithIndex, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\npartitionMapWithIndex, \n/**\n * @since 2.0.0\n */\npartitionWithIndex, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.0.0\n */\nreduceWithIndex, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * The `Ord` type class represents types which support comparisons with a _total order_.\n *\n * Instances should satisfy the laws of total orderings:\n *\n * 1. Reflexivity: `S.compare(a, a) <= 0`\n * 2. Antisymmetry: if `S.compare(a, b) <= 0` and `S.compare(b, a) <= 0` then `a <-> b`\n * 3. Transitivity: if `S.compare(a, b) <= 0` and `S.compare(b, c) <= 0` then `S.compare(a, c) <= 0`\n *\n * @since 2.0.0\n */\nimport { monoidOrdering } from './Ordering';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Ord';\n// default compare for primitive types\nvar compare = function (x, y) {\n    return x < y ? -1 : x > y ? 1 : 0;\n};\nfunction strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexport var ordString = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexport var ordNumber = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexport var ordBoolean = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * Test whether one value is _strictly less than_ another\n *\n * @since 2.0.0\n */\nexport function lt(O) {\n    return function (x, y) { return O.compare(x, y) === -1; };\n}\n/**\n * Test whether one value is _strictly greater than_ another\n *\n * @since 2.0.0\n */\nexport function gt(O) {\n    return function (x, y) { return O.compare(x, y) === 1; };\n}\n/**\n * Test whether one value is _non-strictly less than_ another\n *\n * @since 2.0.0\n */\nexport function leq(O) {\n    return function (x, y) { return O.compare(x, y) !== 1; };\n}\n/**\n * Test whether one value is _non-strictly greater than_ another\n *\n * @since 2.0.0\n */\nexport function geq(O) {\n    return function (x, y) { return O.compare(x, y) !== -1; };\n}\n/**\n * Take the minimum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nexport function min(O) {\n    return function (x, y) { return (O.compare(x, y) === 1 ? y : x); };\n}\n/**\n * Take the maximum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nexport function max(O) {\n    return function (x, y) { return (O.compare(x, y) === -1 ? y : x); };\n}\n/**\n * Clamp a value between a minimum and a maximum\n *\n * @since 2.0.0\n */\nexport function clamp(O) {\n    var minO = min(O);\n    var maxO = max(O);\n    return function (low, hi) { return function (x) { return maxO(minO(x, hi), low); }; };\n}\n/**\n * Test whether a value is between a minimum and a maximum (inclusive)\n *\n * @since 2.0.0\n */\nexport function between(O) {\n    var lessThanO = lt(O);\n    var greaterThanO = gt(O);\n    return function (low, hi) { return function (x) { return (lessThanO(x, low) || greaterThanO(x, hi) ? false : true); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function fromCompare(compare) {\n    var optimizedCompare = function (x, y) { return (x === y ? 0 : compare(x, y)); };\n    return {\n        equals: function (x, y) { return optimizedCompare(x, y) === 0; },\n        compare: optimizedCompare\n    };\n}\nvar S = {\n    concat: function (x, y) { return fromCompare(function (a, b) { return monoidOrdering.concat(x.compare(a, b), y.compare(a, b)); }); }\n};\n/**\n * Use `getMonoid` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nexport function getSemigroup() {\n    return S;\n}\nvar M = {\n    // tslint:disable-next-line: deprecation\n    concat: getSemigroup().concat,\n    empty: fromCompare(function () { return 0; })\n};\n/**\n * Returns a `Monoid` such that:\n *\n * - its `concat(ord1, ord2)` operation will order first by `ord1`, and then by `ord2`\n * - its `empty` value is an `Ord` that always considers compared elements equal\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { contramap, getDualOrd, getMonoid, ordBoolean, ordNumber, ordString } from 'fp-ts/lib/Ord'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/Monoid'\n *\n * interface User {\n *   id: number\n *   name: string\n *   age: number\n *   rememberMe: boolean\n * }\n *\n * const byName = pipe(\n *   ordString,\n *   contramap((p: User) => p.name)\n * )\n *\n * const byAge = pipe(\n *   ordNumber,\n *   contramap((p: User) => p.age)\n * )\n *\n * const byRememberMe = pipe(\n *   ordBoolean,\n *   contramap((p: User) => p.rememberMe)\n * )\n *\n * const M = getMonoid<User>()\n *\n * const users: Array<User> = [\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true }\n * ]\n *\n * // sort by name, then by age, then by `rememberMe`\n * const O1 = fold(M)([byName, byAge, byRememberMe])\n * assert.deepStrictEqual(sort(O1)(users), [\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * // now `rememberMe = true` first, then by name, then by age\n * const O2 = fold(M)([getDualOrd(byRememberMe), byName, byAge])\n * assert.deepStrictEqual(sort(O2)(users), [\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * @since 2.4.0\n */\nexport function getMonoid() {\n    return M;\n}\n/**\n * Given a tuple of `Ord`s returns an `Ord` for the tuple\n *\n * @example\n * import { getTupleOrd, ordString, ordNumber, ordBoolean } from 'fp-ts/lib/Ord'\n *\n * const O = getTupleOrd(ordString, ordNumber, ordBoolean)\n * assert.strictEqual(O.compare(['a', 1, true], ['b', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 1, false]), 1)\n *\n * @since 2.0.0\n */\nexport function getTupleOrd() {\n    var ords = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        ords[_i] = arguments[_i];\n    }\n    var len = ords.length;\n    return fromCompare(function (x, y) {\n        var i = 0;\n        for (; i < len - 1; i++) {\n            var r = ords[i].compare(x[i], y[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return ords[i].compare(x[i], y[i]);\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getDualOrd(O) {\n    return fromCompare(function (x, y) { return O.compare(y, x); });\n}\n/**\n * @since 2.0.0\n */\nexport var ord = {\n    URI: URI,\n    contramap: function (fa, f) { return fromCompare(function (x, y) { return fa.compare(f(x), f(y)); }); }\n};\nvar contramap = pipeable(ord).contramap;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap };\n/**\n * @since 2.0.0\n */\nexport var ordDate = ord.contramap(ordNumber, function (date) { return date.valueOf(); });\n","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Eq';\n/**\n * @since 2.0.0\n */\nexport function fromEquals(equals) {\n    return {\n        equals: function (x, y) { return x === y || equals(x, y); }\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var eqStrict = {\n    // tslint:disable-next-line: deprecation\n    equals: strictEqual\n};\n/**\n * Use `eqStrict` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nexport function strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexport var eqString = eqStrict;\n/**\n * @since 2.0.0\n */\nexport var eqNumber = eqStrict;\n/**\n * @since 2.0.0\n */\nexport var eqBoolean = eqStrict;\n/**\n * @since 2.0.0\n */\nexport function getStructEq(eqs) {\n    return fromEquals(function (x, y) {\n        for (var k in eqs) {\n            if (!eqs[k].equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\n/**\n * Given a tuple of `Eq`s returns a `Eq` for the tuple\n *\n * @example\n * import { getTupleEq, eqString, eqNumber, eqBoolean } from 'fp-ts/lib/Eq'\n *\n * const E = getTupleEq(eqString, eqNumber, eqBoolean)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, true]), true)\n * assert.strictEqual(E.equals(['a', 1, true], ['b', 1, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 2, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, false]), false)\n *\n * @since 2.0.0\n */\nexport function getTupleEq() {\n    var eqs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        eqs[_i] = arguments[_i];\n    }\n    return fromEquals(function (x, y) { return eqs.every(function (E, i) { return E.equals(x[i], y[i]); }); });\n}\n/**\n * @since 2.0.0\n */\nexport var eq = {\n    URI: URI,\n    contramap: function (fa, f) { return fromEquals(function (x, y) { return fa.equals(f(x), f(y)); }); }\n};\nvar contramap = pipeable(eq).contramap;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap };\n/**\n * @since 2.0.0\n */\nexport var eqDate = eq.contramap(eqNumber, function (date) { return date.valueOf(); });\n","import { pipeable } from './pipeable';\nimport * as RR from './ReadonlyRecord';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Record';\n/**\n * @since 2.0.0\n */\nexport var getShow = RR.getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.0.0\n */\nexport var size = RR.size;\n/**\n * Test whether a record is empty\n *\n * @since 2.0.0\n */\nexport var isEmpty = RR.isEmpty;\n/**\n * @since 2.0.0\n */\nexport var keys = RR.keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/Record'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.0.0\n */\nexport var collect = RR.collect;\n/**\n * @since 2.0.0\n */\nexport var toArray = RR.toReadonlyArray;\nexport function toUnfoldable(U) {\n    return RR.toUnfoldable(U);\n}\nexport function insertAt(k, a) {\n    return RR.insertAt(k, a);\n}\n/**\n * @since 2.0.0\n */\nexport var hasOwnProperty = RR.hasOwnProperty;\nexport function deleteAt(k) {\n    return RR.deleteAt(k);\n}\n/**\n * @since 2.0.0\n */\nexport var updateAt = RR.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RR.modifyAt;\nexport function pop(k) {\n    return RR.pop(k);\n}\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.0.0\n */\nexport var isSubrecord = RR.isSubrecord;\nexport function getEq(E) {\n    return RR.getEq(E);\n}\nexport function getMonoid(S) {\n    return RR.getMonoid(S);\n}\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.0.0\n */\nexport var lookup = RR.lookup;\n/**\n * @since 2.0.0\n */\nexport var empty = {};\nexport function mapWithIndex(f) {\n    return RR.mapWithIndex(f);\n}\nexport function map(f) {\n    return RR.map(f);\n}\nexport function reduceWithIndex(b, f) {\n    return RR.reduceWithIndex(b, f);\n}\nexport function foldMapWithIndex(M) {\n    return RR.foldMapWithIndex(M);\n}\nexport function reduceRightWithIndex(b, f) {\n    return RR.reduceRightWithIndex(b, f);\n}\n/**\n * Create a record with one key/value pair\n *\n * @since 2.0.0\n */\nexport var singleton = RR.singleton;\nexport function traverseWithIndex(F) {\n    return RR.traverseWithIndex(F);\n}\nexport function traverse(F) {\n    return RR.traverse(F);\n}\nexport function sequence(F) {\n    return RR.sequence(F);\n}\nexport function partitionMapWithIndex(f) {\n    return RR.partitionMapWithIndex(f);\n}\nexport function partitionWithIndex(predicateWithIndex) {\n    return RR.partitionWithIndex(predicateWithIndex);\n}\nexport function filterMapWithIndex(f) {\n    return RR.filterMapWithIndex(f);\n}\nexport function filterWithIndex(predicateWithIndex) {\n    return RR.filterWithIndex(predicateWithIndex);\n}\nexport function fromFoldable(M, F) {\n    return RR.fromFoldable(M, F);\n}\nexport function fromFoldableMap(M, F) {\n    return RR.fromFoldableMap(M, F);\n}\n/**\n * @since 2.0.0\n */\nexport var every = RR.every;\n/**\n * @since 2.0.0\n */\nexport var some = RR.some;\n/**\n * @since 2.0.0\n */\nexport var elem = RR.elem;\n/**\n * @since 2.0.0\n */\nexport var record = {\n    URI: URI,\n    map: RR.readonlyRecord.map,\n    reduce: RR.readonlyRecord.reduce,\n    foldMap: RR.readonlyRecord.foldMap,\n    reduceRight: RR.readonlyRecord.reduceRight,\n    traverse: RR.readonlyRecord.traverse,\n    sequence: sequence,\n    compact: RR.readonlyRecord.compact,\n    separate: RR.readonlyRecord.separate,\n    filter: RR.readonlyRecord.filter,\n    filterMap: RR.readonlyRecord.filterMap,\n    partition: RR.readonlyRecord.partition,\n    partitionMap: RR.readonlyRecord.partitionMap,\n    wither: RR.readonlyRecord.wither,\n    wilt: RR.readonlyRecord.wilt,\n    mapWithIndex: RR.readonlyRecord.mapWithIndex,\n    reduceWithIndex: RR.readonlyRecord.reduceWithIndex,\n    foldMapWithIndex: RR.readonlyRecord.foldMapWithIndex,\n    reduceRightWithIndex: RR.readonlyRecord.reduceRightWithIndex,\n    traverseWithIndex: RR.readonlyRecord.traverseWithIndex,\n    partitionMapWithIndex: RR.readonlyRecord.partitionMapWithIndex,\n    partitionWithIndex: RR.readonlyRecord.partitionWithIndex,\n    filterMapWithIndex: RR.readonlyRecord.filterMapWithIndex,\n    filterWithIndex: RR.readonlyRecord.filterWithIndex\n};\nvar _a = pipeable(record), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/**\n * @since 1.0.0\n */\nimport { either, isLeft, left, right } from 'fp-ts/es6/Either';\nvar map = either.map;\nvar chain = either.chain;\n/**\n * @since 1.0.0\n */\nvar Type = /** @class */ (function () {\n    function Type(\n    /** a unique name for this codec */\n    name, \n    /** a custom type guard */\n    is, \n    /** succeeds if a value of type I can be decoded to a value of type A */\n    validate, \n    /** converts a value of type A to a value of type O */\n    encode) {\n        this.name = name;\n        this.is = is;\n        this.validate = validate;\n        this.encode = encode;\n        this.decode = this.decode.bind(this);\n    }\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.pipe = function (ab, name) {\n        var _this = this;\n        if (name === void 0) { name = \"pipe(\" + this.name + \", \" + ab.name + \")\"; }\n        return new Type(name, ab.is, function (i, c) { return chain(_this.validate(i, c), function (a) { return ab.validate(a, c); }); }, this.encode === identity && ab.encode === identity ? identity : function (b) { return _this.encode(ab.encode(b)); });\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asDecoder = function () {\n        return this;\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asEncoder = function () {\n        return this;\n    };\n    /**\n     * a version of `validate` with a default context\n     * @since 1.0.0\n     */\n    Type.prototype.decode = function (i) {\n        return this.validate(i, [{ key: '', type: this, actual: i }]);\n    };\n    return Type;\n}());\nexport { Type };\n/**\n * @since 1.0.0\n */\nexport var identity = function (a) { return a; };\n/**\n * @since 1.0.0\n */\nexport var getFunctionName = function (f) {\n    return f.displayName || f.name || \"<function\" + f.length + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var getContextEntry = function (key, decoder) { return ({ key: key, type: decoder }); };\n/**\n * @since 1.0.0\n */\nexport var appendContext = function (c, key, decoder, actual) {\n    var len = c.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = c[i];\n    }\n    r[len] = { key: key, type: decoder, actual: actual };\n    return r;\n};\n/**\n * @since 1.0.0\n */\nexport var failures = left;\n/**\n * @since 1.0.0\n */\nexport var failure = function (value, context, message) {\n    return failures([{ value: value, context: context, message: message }]);\n};\n/**\n * @since 1.0.0\n */\nexport var success = right;\nvar pushAll = function (xs, ys) {\n    var l = ys.length;\n    for (var i = 0; i < l; i++) {\n        xs.push(ys[i]);\n    }\n};\n//\n// basic types\n//\n/**\n * @since 1.0.0\n */\nvar NullType = /** @class */ (function (_super) {\n    __extends(NullType, _super);\n    function NullType() {\n        var _this = _super.call(this, 'null', function (u) { return u === null; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NullType';\n        return _this;\n    }\n    return NullType;\n}(Type));\nexport { NullType };\n/**\n * @since 1.0.0\n */\nexport var nullType = new NullType();\n/**\n * @since 1.0.0\n */\nvar UndefinedType = /** @class */ (function (_super) {\n    __extends(UndefinedType, _super);\n    function UndefinedType() {\n        var _this = _super.call(this, 'undefined', function (u) { return u === void 0; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UndefinedType';\n        return _this;\n    }\n    return UndefinedType;\n}(Type));\nexport { UndefinedType };\nvar undefinedType = new UndefinedType();\n/**\n * @since 1.2.0\n */\nvar VoidType = /** @class */ (function (_super) {\n    __extends(VoidType, _super);\n    function VoidType() {\n        var _this = _super.call(this, 'void', undefinedType.is, undefinedType.validate, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'VoidType';\n        return _this;\n    }\n    return VoidType;\n}(Type));\nexport { VoidType };\n/**\n * @since 1.2.0\n */\nexport var voidType = new VoidType();\n/**\n * @since 1.5.0\n */\nvar UnknownType = /** @class */ (function (_super) {\n    __extends(UnknownType, _super);\n    function UnknownType() {\n        var _this = _super.call(this, 'unknown', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnknownType';\n        return _this;\n    }\n    return UnknownType;\n}(Type));\nexport { UnknownType };\n/**\n * @since 1.5.0\n */\nexport var unknown = new UnknownType();\n/**\n * @since 1.0.0\n */\nvar StringType = /** @class */ (function (_super) {\n    __extends(StringType, _super);\n    function StringType() {\n        var _this = _super.call(this, 'string', function (u) { return typeof u === 'string'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StringType';\n        return _this;\n    }\n    return StringType;\n}(Type));\nexport { StringType };\n/**\n * @since 1.0.0\n */\nexport var string = new StringType();\n/**\n * @since 1.0.0\n */\nvar NumberType = /** @class */ (function (_super) {\n    __extends(NumberType, _super);\n    function NumberType() {\n        var _this = _super.call(this, 'number', function (u) { return typeof u === 'number'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NumberType';\n        return _this;\n    }\n    return NumberType;\n}(Type));\nexport { NumberType };\n/**\n * @since 1.0.0\n */\nexport var number = new NumberType();\n/**\n * @since 2.1.0\n */\nvar BigIntType = /** @class */ (function (_super) {\n    __extends(BigIntType, _super);\n    function BigIntType() {\n        var _this = _super.call(this, 'bigint', \n        // tslint:disable-next-line: valid-typeof\n        function (u) { return typeof u === 'bigint'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BigIntType';\n        return _this;\n    }\n    return BigIntType;\n}(Type));\nexport { BigIntType };\n/**\n * @since 2.1.0\n */\nexport var bigint = new BigIntType();\n/**\n * @since 1.0.0\n */\nvar BooleanType = /** @class */ (function (_super) {\n    __extends(BooleanType, _super);\n    function BooleanType() {\n        var _this = _super.call(this, 'boolean', function (u) { return typeof u === 'boolean'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BooleanType';\n        return _this;\n    }\n    return BooleanType;\n}(Type));\nexport { BooleanType };\n/**\n * @since 1.0.0\n */\nexport var boolean = new BooleanType();\n/**\n * @since 1.0.0\n */\nvar AnyArrayType = /** @class */ (function (_super) {\n    __extends(AnyArrayType, _super);\n    function AnyArrayType() {\n        var _this = _super.call(this, 'UnknownArray', Array.isArray, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyArrayType';\n        return _this;\n    }\n    return AnyArrayType;\n}(Type));\nexport { AnyArrayType };\n/**\n * @since 1.7.1\n */\nexport var UnknownArray = new AnyArrayType();\n/**\n * @since 1.0.0\n */\nvar AnyDictionaryType = /** @class */ (function (_super) {\n    __extends(AnyDictionaryType, _super);\n    function AnyDictionaryType() {\n        var _this = _super.call(this, 'UnknownRecord', function (u) {\n            var s = Object.prototype.toString.call(u);\n            return s === '[object Object]' || s === '[object Window]';\n        }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyDictionaryType';\n        return _this;\n    }\n    return AnyDictionaryType;\n}(Type));\nexport { AnyDictionaryType };\n/**\n * @since 1.7.1\n */\nexport var UnknownRecord = new AnyDictionaryType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar FunctionType = /** @class */ (function (_super) {\n    __extends(FunctionType, _super);\n    function FunctionType() {\n        var _this = _super.call(this, 'Function', \n        // tslint:disable-next-line:strict-type-predicates\n        function (u) { return typeof u === 'function'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'FunctionType';\n        return _this;\n    }\n    return FunctionType;\n}(Type));\nexport { FunctionType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Function = new FunctionType();\n/**\n * @since 1.0.0\n */\nvar RefinementType = /** @class */ (function (_super) {\n    __extends(RefinementType, _super);\n    function RefinementType(name, is, validate, encode, type, predicate) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this.predicate = predicate;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RefinementType';\n        return _this;\n    }\n    return RefinementType;\n}(Type));\nexport { RefinementType };\n/**\n * @since 1.8.1\n */\nexport var brand = function (codec, predicate, name) {\n    // tslint:disable-next-line: deprecation\n    return refinement(codec, predicate, name);\n};\n/**\n * A branded codec representing an integer\n * @since 1.8.1\n */\nexport var Int = brand(number, function (n) { return Number.isInteger(n); }, 'Int');\n/**\n * @since 1.0.0\n */\nvar LiteralType = /** @class */ (function (_super) {\n    __extends(LiteralType, _super);\n    function LiteralType(name, is, validate, encode, value) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.value = value;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'LiteralType';\n        return _this;\n    }\n    return LiteralType;\n}(Type));\nexport { LiteralType };\n/**\n * @since 1.0.0\n */\nexport var literal = function (value, name) {\n    if (name === void 0) { name = JSON.stringify(value); }\n    var is = function (u) { return u === value; };\n    return new LiteralType(name, is, function (u, c) { return (is(u) ? success(value) : failure(u, c)); }, identity, value);\n};\n/**\n * @since 1.0.0\n */\nvar KeyofType = /** @class */ (function (_super) {\n    __extends(KeyofType, _super);\n    function KeyofType(name, is, validate, encode, keys) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.keys = keys;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'KeyofType';\n        return _this;\n    }\n    return KeyofType;\n}(Type));\nexport { KeyofType };\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 1.0.0\n */\nexport var keyof = function (keys, name) {\n    if (name === void 0) { name = Object.keys(keys)\n        .map(function (k) { return JSON.stringify(k); })\n        .join(' | '); }\n    var is = function (u) { return string.is(u) && hasOwnProperty.call(keys, u); };\n    return new KeyofType(name, is, function (u, c) { return (is(u) ? success(u) : failure(u, c)); }, identity, keys);\n};\n/**\n * @since 1.0.0\n */\nvar RecursiveType = /** @class */ (function (_super) {\n    __extends(RecursiveType, _super);\n    function RecursiveType(name, is, validate, encode, runDefinition) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.runDefinition = runDefinition;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RecursiveType';\n        return _this;\n    }\n    return RecursiveType;\n}(Type));\nexport { RecursiveType };\nObject.defineProperty(RecursiveType.prototype, 'type', {\n    get: function () {\n        return this.runDefinition();\n    },\n    enumerable: true,\n    configurable: true\n});\n/**\n * @since 1.0.0\n */\nexport var recursion = function (name, definition) {\n    var cache;\n    var runDefinition = function () {\n        if (!cache) {\n            cache = definition(Self);\n            cache.name = name;\n        }\n        return cache;\n    };\n    var Self = new RecursiveType(name, function (u) { return runDefinition().is(u); }, function (u, c) { return runDefinition().validate(u, c); }, function (a) { return runDefinition().encode(a); }, runDefinition);\n    return Self;\n};\n/**\n * @since 1.0.0\n */\nvar ArrayType = /** @class */ (function (_super) {\n    __extends(ArrayType, _super);\n    function ArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ArrayType';\n        return _this;\n    }\n    return ArrayType;\n}(Type));\nexport { ArrayType };\n/**\n * @since 1.0.0\n */\nexport var array = function (codec, name) {\n    if (name === void 0) { name = \"Array<\" + codec.name + \">\"; }\n    return new ArrayType(name, function (u) { return UnknownArray.is(u) && u.every(codec.is); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var len = us.length;\n            var as = us;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var ui = us[i];\n                var result = codec.validate(ui, appendContext(c, String(i), codec, ui));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var ai = result.right;\n                    if (ai !== ui) {\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = ai;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, codec.encode === identity ? identity : function (a) { return a.map(codec.encode); }, codec);\n};\n/**\n * @since 1.0.0\n */\nvar InterfaceType = /** @class */ (function (_super) {\n    __extends(InterfaceType, _super);\n    function InterfaceType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'InterfaceType';\n        return _this;\n    }\n    return InterfaceType;\n}(Type));\nexport { InterfaceType };\nvar getNameFromProps = function (props) {\n    return Object.keys(props)\n        .map(function (k) { return k + \": \" + props[k].name; })\n        .join(', ');\n};\nvar useIdentity = function (codecs) {\n    for (var i = 0; i < codecs.length; i++) {\n        if (codecs[i].encode !== identity) {\n            return false;\n        }\n    }\n    return true;\n};\nvar getInterfaceTypeName = function (props) {\n    return \"{ \" + getNameFromProps(props) + \" }\";\n};\n/**\n * @since 1.0.0\n */\nexport var type = function (props, name) {\n    if (name === void 0) { name = getInterfaceTypeName(props); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new InterfaceType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if ((uk === undefined && !hasOwnProperty.call(u, k)) || !types[i].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                var type_1 = types[i];\n                var result = type_1.validate(ak, appendContext(c, k, type_1, ak));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak || (vak === undefined && !hasOwnProperty.call(a, k))) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var encode = types[i].encode;\n                if (encode !== identity) {\n                    s[k] = encode(a[k]);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar PartialType = /** @class */ (function (_super) {\n    __extends(PartialType, _super);\n    function PartialType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'PartialType';\n        return _this;\n    }\n    return PartialType;\n}(Type));\nexport { PartialType };\nvar getPartialTypeName = function (inner) {\n    return \"Partial<\" + inner + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var partial = function (props, name) {\n    if (name === void 0) { name = getPartialTypeName(getInterfaceTypeName(props)); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new PartialType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if (uk !== undefined && !props[k].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                var type_2 = props[k];\n                var result = type_2.validate(ak, appendContext(c, k, type_2, ak));\n                if (isLeft(result)) {\n                    if (ak !== undefined) {\n                        pushAll(errors, result.left);\n                    }\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                if (ak !== undefined) {\n                    s[k] = types[i].encode(ak);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar DictionaryType = /** @class */ (function (_super) {\n    __extends(DictionaryType, _super);\n    function DictionaryType(name, is, validate, encode, domain, codomain) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.domain = domain;\n        _this.codomain = codomain;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'DictionaryType';\n        return _this;\n    }\n    return DictionaryType;\n}(Type));\nexport { DictionaryType };\nfunction enumerableRecord(keys, domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    var len = keys.length;\n    return new DictionaryType(name, function (u) { return UnknownRecord.is(u) && keys.every(function (k) { return codomain.is(u[k]); }); }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = {};\n            var errors = [];\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = o[k];\n                var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                if (isLeft(codomainResult)) {\n                    pushAll(errors, codomainResult.left);\n                }\n                else {\n                    var vok = codomainResult.right;\n                    changed = changed || vok !== ok;\n                    a[k] = vok;\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed || Object.keys(o).length !== len ? a : o));\n        });\n    }, codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[k] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\n/**\n * @internal\n */\nexport function getDomainKeys(domain) {\n    var _a;\n    if (isLiteralC(domain)) {\n        var literal_1 = domain.value;\n        if (string.is(literal_1)) {\n            return _a = {}, _a[literal_1] = null, _a;\n        }\n    }\n    else if (isKeyofC(domain)) {\n        return domain.keys;\n    }\n    else if (isUnionC(domain)) {\n        var keys = domain.types.map(function (type) { return getDomainKeys(type); });\n        return keys.some(undefinedType.is) ? undefined : Object.assign.apply(Object, __spreadArrays([{}], keys));\n    }\n    return undefined;\n}\nfunction nonEnumerableRecord(domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    return new DictionaryType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            return Object.keys(u).every(function (k) { return domain.is(k) && codomain.is(u[k]); });\n        }\n        return isAnyC(codomain) && Array.isArray(u);\n    }, function (u, c) {\n        if (UnknownRecord.is(u)) {\n            var a = {};\n            var errors = [];\n            var keys = Object.keys(u);\n            var len = keys.length;\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = u[k];\n                var domainResult = domain.validate(k, appendContext(c, k, domain, k));\n                if (isLeft(domainResult)) {\n                    pushAll(errors, domainResult.left);\n                }\n                else {\n                    var vk = domainResult.right;\n                    changed = changed || vk !== k;\n                    k = vk;\n                    var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                    if (isLeft(codomainResult)) {\n                        pushAll(errors, codomainResult.left);\n                    }\n                    else {\n                        var vok = codomainResult.right;\n                        changed = changed || vok !== ok;\n                        a[k] = vok;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed ? a : u));\n        }\n        if (isAnyC(codomain) && Array.isArray(u)) {\n            return success(u);\n        }\n        return failure(u, c);\n    }, domain.encode === identity && codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            var keys = Object.keys(a);\n            var len = keys.length;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[String(domain.encode(k))] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\n/**\n * @since 1.7.1\n */\nexport function record(domain, codomain, name) {\n    var keys = getDomainKeys(domain);\n    return keys\n        ? enumerableRecord(Object.keys(keys), domain, codomain, name)\n        : nonEnumerableRecord(domain, codomain, name);\n}\n/**\n * @since 1.0.0\n */\nvar UnionType = /** @class */ (function (_super) {\n    __extends(UnionType, _super);\n    function UnionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnionType';\n        return _this;\n    }\n    return UnionType;\n}(Type));\nexport { UnionType };\nvar getUnionName = function (codecs) {\n    return '(' + codecs.map(function (type) { return type.name; }).join(' | ') + ')';\n};\n/**\n * @since 1.0.0\n */\nexport var union = function (codecs, name) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var index = getIndex(codecs);\n    if (index !== undefined && codecs.length > 0) {\n        var tag_1 = index[0], groups_1 = index[1];\n        var len_1 = groups_1.length;\n        var find_1 = function (value) {\n            for (var i = 0; i < len_1; i++) {\n                if (groups_1[i].indexOf(value) !== -1) {\n                    return i;\n                }\n            }\n            return undefined;\n        };\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, function (u) {\n            if (UnknownRecord.is(u)) {\n                var i = find_1(u[tag_1]);\n                return i !== undefined ? codecs[i].is(u) : false;\n            }\n            return false;\n        }, function (u, c) {\n            return chain(UnknownRecord.validate(u, c), function (r) {\n                var i = find_1(r[tag_1]);\n                if (i === undefined) {\n                    return failure(u, c);\n                }\n                var codec = codecs[i];\n                return codec.validate(r, appendContext(c, String(i), codec, r));\n            });\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                var i = find_1(a[tag_1]);\n                if (i === undefined) {\n                    // https://github.com/gcanti/io-ts/pull/305\n                    throw new Error(\"no codec found to encode value in union codec \" + name);\n                }\n                else {\n                    return codecs[i].encode(a);\n                }\n            }, codecs, tag_1);\n    }\n    else {\n        return new UnionType(name, function (u) { return codecs.some(function (type) { return type.is(u); }); }, function (u, c) {\n            var errors = [];\n            for (var i = 0; i < codecs.length; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    return success(result.right);\n                }\n            }\n            return failures(errors);\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                for (var _i = 0, codecs_1 = codecs; _i < codecs_1.length; _i++) {\n                    var codec = codecs_1[_i];\n                    if (codec.is(a)) {\n                        return codec.encode(a);\n                    }\n                }\n                // https://github.com/gcanti/io-ts/pull/305\n                throw new Error(\"no codec found to encode value in union type \" + name);\n            }, codecs);\n    }\n};\n/**\n * @since 1.0.0\n */\nvar IntersectionType = /** @class */ (function (_super) {\n    __extends(IntersectionType, _super);\n    function IntersectionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'IntersectionType';\n        return _this;\n    }\n    return IntersectionType;\n}(Type));\nexport { IntersectionType };\nvar mergeAll = function (base, us) {\n    var equal = true;\n    var primitive = true;\n    for (var _i = 0, us_1 = us; _i < us_1.length; _i++) {\n        var u = us_1[_i];\n        if (u !== base) {\n            equal = false;\n        }\n        if (UnknownRecord.is(u)) {\n            primitive = false;\n        }\n    }\n    if (equal) {\n        return base;\n    }\n    else if (primitive) {\n        return us[us.length - 1];\n    }\n    var r = {};\n    for (var _a = 0, us_2 = us; _a < us_2.length; _a++) {\n        var u = us_2[_a];\n        for (var k in u) {\n            if (u[k] !== base[k] || !r.hasOwnProperty(k)) {\n                r[k] = u[k];\n            }\n        }\n    }\n    return r;\n};\nexport function intersection(codecs, name) {\n    if (name === void 0) { name = \"(\" + codecs.map(function (type) { return type.name; }).join(' & ') + \")\"; }\n    var len = codecs.length;\n    return new IntersectionType(name, function (u) { return codecs.every(function (type) { return type.is(u); }); }, codecs.length === 0\n        ? success\n        : function (u, c) {\n            var us = [];\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    us.push(result.right);\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(mergeAll(u, us));\n        }, codecs.length === 0\n        ? identity\n        : function (a) {\n            return mergeAll(a, codecs.map(function (codec) { return codec.encode(a); }));\n        }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar TupleType = /** @class */ (function (_super) {\n    __extends(TupleType, _super);\n    function TupleType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'TupleType';\n        return _this;\n    }\n    return TupleType;\n}(Type));\nexport { TupleType };\nexport function tuple(codecs, name) {\n    if (name === void 0) { name = \"[\" + codecs.map(function (type) { return type.name; }).join(', ') + \"]\"; }\n    var len = codecs.length;\n    return new TupleType(name, function (u) { return UnknownArray.is(u) && u.length === len && codecs.every(function (type, i) { return type.is(u[i]); }); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var as = us.length > len ? us.slice(0, len) : us; // strip additional components\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var a = us[i];\n                var type_3 = codecs[i];\n                var result = type_3.validate(a, appendContext(c, String(i), type_3, a));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var va = result.right;\n                    if (va !== a) {\n                        /* istanbul ignore next */\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = va;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, useIdentity(codecs) ? identity : function (a) { return codecs.map(function (type, i) { return type.encode(a[i]); }); }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar ReadonlyType = /** @class */ (function (_super) {\n    __extends(ReadonlyType, _super);\n    function ReadonlyType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyType';\n        return _this;\n    }\n    return ReadonlyType;\n}(Type));\nexport { ReadonlyType };\n/**\n * @since 1.0.0\n */\nexport var readonly = function (codec, name) {\n    if (name === void 0) { name = \"Readonly<\" + codec.name + \">\"; }\n    return new ReadonlyType(name, codec.is, function (u, c) {\n        return map(codec.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, codec.encode === identity ? identity : codec.encode, codec);\n};\n/**\n * @since 1.0.0\n */\nvar ReadonlyArrayType = /** @class */ (function (_super) {\n    __extends(ReadonlyArrayType, _super);\n    function ReadonlyArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyArrayType';\n        return _this;\n    }\n    return ReadonlyArrayType;\n}(Type));\nexport { ReadonlyArrayType };\n/**\n * @since 1.0.0\n */\nexport var readonlyArray = function (codec, name) {\n    if (name === void 0) { name = \"ReadonlyArray<\" + codec.name + \">\"; }\n    var arrayType = array(codec);\n    return new ReadonlyArrayType(name, arrayType.is, function (u, c) {\n        return map(arrayType.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, arrayType.encode, codec);\n};\n/**\n * Strips additional properties\n * @since 1.0.0\n */\nexport var strict = function (props, name) {\n    return exact(type(props), name);\n};\n/**\n * @since 1.3.0\n * @deprecated\n */\nvar TaggedUnionType = /** @class */ (function (_super) {\n    __extends(TaggedUnionType, _super);\n    function TaggedUnionType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, codecs, tag) {\n        var _this = _super.call(this, name, is, validate, encode, codecs) /* istanbul ignore next */ // <= workaround for https://github.com/Microsoft/TypeScript/issues/13455\n         || this;\n        _this.tag = tag;\n        return _this;\n    }\n    return TaggedUnionType;\n}(UnionType));\nexport { TaggedUnionType };\n/**\n * Use `union` instead\n *\n * @since 1.3.0\n * @deprecated\n */\nexport var taggedUnion = function (tag, codecs, name\n// tslint:disable-next-line: deprecation\n) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var U = union(codecs, name);\n    // tslint:disable-next-line: deprecation\n    if (U instanceof TaggedUnionType) {\n        return U;\n    }\n    else {\n        console.warn(\"[io-ts] Cannot build a tagged union for \" + name + \", returning a de-optimized union\");\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, U.is, U.validate, U.encode, codecs, tag);\n    }\n};\n/**\n * @since 1.1.0\n */\nvar ExactType = /** @class */ (function (_super) {\n    __extends(ExactType, _super);\n    function ExactType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ExactType';\n        return _this;\n    }\n    return ExactType;\n}(Type));\nexport { ExactType };\nvar getProps = function (codec) {\n    switch (codec._tag) {\n        case 'RefinementType':\n        case 'ReadonlyType':\n            return getProps(codec.type);\n        case 'InterfaceType':\n        case 'StrictType':\n        case 'PartialType':\n            return codec.props;\n        case 'IntersectionType':\n            return codec.types.reduce(function (props, type) { return Object.assign(props, getProps(type)); }, {});\n    }\n};\nvar stripKeys = function (o, props) {\n    var keys = Object.getOwnPropertyNames(o);\n    var shouldStrip = false;\n    var r = {};\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!hasOwnProperty.call(props, key)) {\n            shouldStrip = true;\n        }\n        else {\n            r[key] = o[key];\n        }\n    }\n    return shouldStrip ? r : o;\n};\nvar getExactTypeName = function (codec) {\n    if (isTypeC(codec)) {\n        return \"{| \" + getNameFromProps(codec.props) + \" |}\";\n    }\n    else if (isPartialC(codec)) {\n        return getPartialTypeName(\"{| \" + getNameFromProps(codec.props) + \" |}\");\n    }\n    return \"Exact<\" + codec.name + \">\";\n};\n/**\n * Strips additional properties\n * @since 1.1.0\n */\nexport var exact = function (codec, name) {\n    if (name === void 0) { name = getExactTypeName(codec); }\n    var props = getProps(codec);\n    return new ExactType(name, codec.is, function (u, c) { return chain(UnknownRecord.validate(u, c), function () { return map(codec.validate(u, c), function (a) { return stripKeys(a, props); }); }); }, function (a) { return codec.encode(stripKeys(a, props)); }, codec);\n};\nexport { \n/**\n * @since 1.0.0\n */\nnullType as null };\nexport { \n/**\n * @since 1.0.0\n */\nundefinedType as undefined };\nexport { \n/**\n * Use `UnknownArray` instead\n * @deprecated\n * @since 1.0.0\n */\nUnknownArray as Array };\nexport { \n/**\n * Use `type` instead\n * @deprecated\n * @since 1.0.0\n */\ntype as interface };\nexport { \n/**\n * @since 1.0.0\n */\nvoidType as void };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getValidationError /* istanbul ignore next */ = function (value, context) { return ({\n    value: value,\n    context: context\n}); };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getDefaultContext /* istanbul ignore next */ = function (decoder) { return [\n    { key: '', type: decoder }\n]; };\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar NeverType = /** @class */ (function (_super) {\n    __extends(NeverType, _super);\n    function NeverType() {\n        var _this = _super.call(this, 'never', function (_) { return false; }, function (u, c) { return failure(u, c); }, \n        /* istanbul ignore next */\n        function () {\n            throw new Error('cannot encode never');\n        }) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NeverType';\n        return _this;\n    }\n    return NeverType;\n}(Type));\nexport { NeverType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var never = new NeverType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar AnyType = /** @class */ (function (_super) {\n    __extends(AnyType, _super);\n    function AnyType() {\n        var _this = _super.call(this, 'any', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyType';\n        return _this;\n    }\n    return AnyType;\n}(Type));\nexport { AnyType };\n/**\n * Use `unknown` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var any = new AnyType();\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var Dictionary = UnknownRecord;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar ObjectType = /** @class */ (function (_super) {\n    __extends(ObjectType, _super);\n    function ObjectType() {\n        var _this = _super.call(this, 'object', function (u) { return u !== null && typeof u === 'object'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ObjectType';\n        return _this;\n    }\n    return ObjectType;\n}(Type));\nexport { ObjectType };\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var object = new ObjectType();\n/**\n * Use `brand` instead\n * @since 1.0.0\n * @deprecated\n */\nexport function refinement(codec, predicate, name) {\n    if (name === void 0) { name = \"(\" + codec.name + \" | \" + getFunctionName(predicate) + \")\"; }\n    return new RefinementType(name, function (u) { return codec.is(u) && predicate(u); }, function (i, c) { return chain(codec.validate(i, c), function (a) { return (predicate(a) ? success(a) : failure(a, c)); }); }, codec.encode, codec, predicate);\n}\n/**\n * Use `Int` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Integer = refinement(number, Number.isInteger, 'Integer');\n/**\n * Use `record` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var dictionary = record;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar StrictType = /** @class */ (function (_super) {\n    __extends(StrictType, _super);\n    function StrictType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StrictType';\n        return _this;\n    }\n    return StrictType;\n}(Type));\nexport { StrictType };\n/**\n * Drops the codec \"kind\"\n * @since 1.1.0\n * @deprecated\n */\nexport function clean(codec) {\n    return codec;\n}\nexport function alias(codec) {\n    return function () { return codec; };\n}\nvar isNonEmpty = function (as) { return as.length > 0; };\n/**\n * @internal\n */\nexport var emptyTags = {};\nfunction intersect(a, b) {\n    var r = [];\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var v = a_1[_i];\n        if (b.indexOf(v) !== -1) {\n            r.push(v);\n        }\n    }\n    return r;\n}\nfunction mergeTags(a, b) {\n    if (a === emptyTags) {\n        return b;\n    }\n    if (b === emptyTags) {\n        return a;\n    }\n    var r = Object.assign({}, a);\n    for (var k in b) {\n        if (a.hasOwnProperty(k)) {\n            var intersection_1 = intersect(a[k], b[k]);\n            if (isNonEmpty(intersection_1)) {\n                r[k] = intersection_1;\n            }\n            else {\n                r = emptyTags;\n                break;\n            }\n        }\n        else {\n            r[k] = b[k];\n        }\n    }\n    return r;\n}\nfunction intersectTags(a, b) {\n    if (a === emptyTags || b === emptyTags) {\n        return emptyTags;\n    }\n    var r = emptyTags;\n    for (var k in a) {\n        if (b.hasOwnProperty(k)) {\n            var intersection_2 = intersect(a[k], b[k]);\n            if (intersection_2.length === 0) {\n                if (r === emptyTags) {\n                    r = {};\n                }\n                r[k] = a[k].concat(b[k]);\n            }\n        }\n    }\n    return r;\n}\n// tslint:disable-next-line: deprecation\nfunction isAnyC(codec) {\n    return codec._tag === 'AnyType';\n}\nfunction isLiteralC(codec) {\n    return codec._tag === 'LiteralType';\n}\nfunction isKeyofC(codec) {\n    return codec._tag === 'KeyofType';\n}\nfunction isTypeC(codec) {\n    return codec._tag === 'InterfaceType';\n}\nfunction isPartialC(codec) {\n    return codec._tag === 'PartialType';\n}\n// tslint:disable-next-line: deprecation\nfunction isStrictC(codec) {\n    return codec._tag === 'StrictType';\n}\nfunction isExactC(codec) {\n    return codec._tag === 'ExactType';\n}\n// tslint:disable-next-line: deprecation\nfunction isRefinementC(codec) {\n    return codec._tag === 'RefinementType';\n}\nfunction isIntersectionC(codec) {\n    return codec._tag === 'IntersectionType';\n}\nfunction isUnionC(codec) {\n    return codec._tag === 'UnionType';\n}\nfunction isRecursiveC(codec) {\n    return codec._tag === 'RecursiveType';\n}\nvar lazyCodecs = [];\n/**\n * @internal\n */\nexport function getTags(codec) {\n    if (lazyCodecs.indexOf(codec) !== -1) {\n        return emptyTags;\n    }\n    if (isTypeC(codec) || isStrictC(codec)) {\n        var index = emptyTags;\n        // tslint:disable-next-line: forin\n        for (var k in codec.props) {\n            var prop = codec.props[k];\n            if (isLiteralC(prop)) {\n                if (index === emptyTags) {\n                    index = {};\n                }\n                index[k] = [prop.value];\n            }\n        }\n        return index;\n    }\n    else if (isExactC(codec) || isRefinementC(codec)) {\n        return getTags(codec.type);\n    }\n    else if (isIntersectionC(codec)) {\n        return codec.types.reduce(function (tags, codec) { return mergeTags(tags, getTags(codec)); }, emptyTags);\n    }\n    else if (isUnionC(codec)) {\n        return codec.types.slice(1).reduce(function (tags, codec) { return intersectTags(tags, getTags(codec)); }, getTags(codec.types[0]));\n    }\n    else if (isRecursiveC(codec)) {\n        lazyCodecs.push(codec);\n        var tags = getTags(codec.type);\n        lazyCodecs.pop();\n        return tags;\n    }\n    return emptyTags;\n}\n/**\n * @internal\n */\nexport function getIndex(codecs) {\n    var tags = getTags(codecs[0]);\n    var keys = Object.keys(tags);\n    var len = codecs.length;\n    var _loop_1 = function (k) {\n        var all = tags[k].slice();\n        var index = [tags[k]];\n        for (var i = 1; i < len; i++) {\n            var codec = codecs[i];\n            var ctags = getTags(codec);\n            var values = ctags[k];\n            // tslint:disable-next-line: strict-type-predicates\n            if (values === undefined) {\n                return \"continue-keys\";\n            }\n            else {\n                if (values.some(function (v) { return all.indexOf(v) !== -1; })) {\n                    return \"continue-keys\";\n                }\n                else {\n                    all.push.apply(all, values);\n                    index.push(values);\n                }\n            }\n        }\n        return { value: [k, index] };\n    };\n    keys: for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        var state_1 = _loop_1(k);\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n        switch (state_1) {\n            case \"continue-keys\": continue keys;\n        }\n    }\n    return undefined;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This module provides a simuation of Haskell do notation.\n *\n * @since 0.1.0\n */\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar DoClass = /** @class */ (function () {\n    function DoClass(M, result) {\n        this.M = M;\n        this.result = result;\n    }\n    DoClass.prototype.do = function (action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function () { return s; }); }));\n    };\n    DoClass.prototype.doL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function () { return s; }); }));\n    };\n    DoClass.prototype.bind = function (name, action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.bindL = function (name, f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.let = function (name, a) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = a, _a));\n        }));\n    };\n    DoClass.prototype.letL = function (name, f) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = f(s), _a));\n        }));\n    };\n    DoClass.prototype.sequenceS = function (r) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(Apply_1.sequenceS(_this.M)(r), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.sequenceSL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(Apply_1.sequenceS(_this.M)(f(s)), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.return = function (f) {\n        return this.M.map(this.result, f);\n    };\n    DoClass.prototype.done = function () {\n        return this.result;\n    };\n    return DoClass;\n}());\nvar init = {};\nfunction Do(M) {\n    return new DoClass(M, M.of(init));\n}\nexports.Do = Do;\n","/**\n * @since 2.0.0\n */\nexport function tailRec(a, f) {\n    var v = f(a);\n    while (v._tag === 'Left') {\n        v = f(v.left);\n    }\n    return v.right;\n}\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\nvar RA = require(\"./ReadonlyArray\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Array';\n/**\n * @since 2.0.0\n */\nexports.getShow = RA.getShow;\n/**\n * Returns a `Monoid` for `Array<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/Array'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexports.getMonoid = RA.getMonoid;\n/**\n * Derives an `Eq` over the `Array` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/Array'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.0.0\n */\nexports.getEq = RA.getEq;\n/**\n * Derives an `Ord` over the `Array` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/Array'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.0.0\n */\nexports.getOrd = RA.getOrd;\n/**\n * An empty array\n *\n * @since 2.0.0\n */\nexports.empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/Array'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.0.0\n */\nexports.makeBy = RA.makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.0.0\n */\nexports.range = RA.range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.0.0\n */\nexports.replicate = RA.replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.flatten = RA.flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/Array'\n *\n * const len: <A>(as: Array<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.0.0\n */\nexports.foldLeft = RA.foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.0.0\n */\nexports.foldRight = RA.foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.0.0\n */\nexports.scanLeft = RA.scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.0.0\n */\nexports.scanRight = RA.scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/Array'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.0.0\n */\nexports.isEmpty = RA.isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyArray<A>`\n *\n * @since 2.0.0\n */\nexports.isNonEmpty = RA.isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.0.0\n */\nexports.isOutOfBound = RA.isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.0.0\n */\nexports.lookup = RA.lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexports.snoc = RA.snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.0.0\n */\nexports.head = RA.head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.0.0\n */\nexports.last = RA.last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.0.0\n */\nexports.tail = RA.tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.0.0\n */\nexports.init = RA.init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.takeLeft = RA.takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.0.0\n */\nexports.takeRight = RA.takeRight;\nfunction takeLeftWhile(predicate) {\n    return RA.takeLeftWhile(predicate);\n}\nexports.takeLeftWhile = takeLeftWhile;\nfunction spanLeft(predicate) {\n    return RA.spanLeft(predicate);\n}\nexports.spanLeft = spanLeft;\n/* tslint:enable:readonly-keyword */\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.0.0\n */\nexports.dropLeft = RA.dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.dropRight = RA.dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.0.0\n */\nexports.dropLeftWhile = RA.dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.0.0\n */\nexports.findIndex = RA.findIndex;\nfunction findFirst(predicate) {\n    return RA.findFirst(predicate);\n}\nexports.findFirst = findFirst;\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.0.0\n */\nexports.findFirstMap = RA.findFirstMap;\nfunction findLast(predicate) {\n    return RA.findLast(predicate);\n}\nexports.findLast = findLast;\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.0.0\n */\nexports.findLastMap = RA.findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: Array<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.0.0\n */\nexports.findLastIndex = RA.findLastIndex;\n/**\n * @since 2.0.0\n */\nexports.copy = RA.toArray;\n/**\n * @since 2.0.0\n */\nexports.unsafeInsertAt = RA.unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/Array'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.0.0\n */\nexports.insertAt = RA.insertAt;\n/**\n * @since 2.0.0\n */\nexports.unsafeUpdateAt = RA.unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.0.0\n */\nexports.updateAt = RA.updateAt;\n/**\n * @since 2.0.0\n */\nexports.unsafeDeleteAt = RA.unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.0.0\n */\nexports.deleteAt = RA.deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.0.0\n */\nexports.modifyAt = RA.modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.0.0\n */\nexports.reverse = RA.reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/Array'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.rights = RA.rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/Array'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.0.0\n */\nexports.lefts = RA.lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.sort = RA.sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.0.0\n */\nexports.zipWith = RA.zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.0.0\n */\nexports.zip = RA.zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.0.0\n */\nexports.unzip = RA.unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.rotate = RA.rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `Array<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.0.0\n */\nexports.elem = RA.elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.uniq = RA.uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/Array'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.0.0\n */\nexports.sortBy = RA.sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/Array'\n *\n * const group = <A>(S: Eq<A>): ((as: Array<A>) => Array<Array<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.0.0\n */\nexports.chop = RA.chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.0.0\n */\nexports.splitAt = RA.splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.0.0\n */\nexports.chunksOf = RA.chunksOf;\nfunction comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    return RA.comprehension(input, f, g);\n}\nexports.comprehension = comprehension;\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.union = RA.union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.0.0\n */\nexports.intersection = RA.intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.0.0\n */\nexports.difference = RA.difference;\n/**\n * @since 2.0.0\n */\nexports.of = RA.of;\n/**\n * @since 2.0.0\n */\nexports.array = {\n    URI: exports.URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    compact: RA.readonlyArray.compact,\n    separate: RA.readonlyArray.separate,\n    filter: RA.readonlyArray.filter,\n    filterMap: RA.readonlyArray.filterMap,\n    partition: RA.readonlyArray.partition,\n    partitionMap: RA.readonlyArray.partitionMap,\n    of: exports.of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    unfold: RA.readonlyArray.unfold,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    zero: RA.readonlyArray.zero,\n    alt: RA.readonlyArray.alt,\n    extend: RA.readonlyArray.extend,\n    wither: RA.readonlyArray.wither,\n    wilt: RA.readonlyArray.wilt,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    partitionMapWithIndex: RA.readonlyArray.partitionMapWithIndex,\n    partitionWithIndex: RA.readonlyArray.partitionWithIndex,\n    filterMapWithIndex: RA.readonlyArray.filterMapWithIndex,\n    filterWithIndex: RA.readonlyArray.filterWithIndex\n};\nvar _a = pipeable_1.pipeable(exports.array), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.filterMapWithIndex = filterMapWithIndex;\nexports.filterWithIndex = filterWithIndex;\nexports.foldMap = foldMap;\nexports.foldMapWithIndex = foldMapWithIndex;\nexports.map = map;\nexports.mapWithIndex = mapWithIndex;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.partitionMapWithIndex = partitionMapWithIndex;\nexports.partitionWithIndex = partitionWithIndex;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reduceRightWithIndex = reduceRightWithIndex;\nexports.reduceWithIndex = reduceWithIndex;\nexports.compact = compact;\nexports.separate = separate;\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import { array, empty, getEq as getArrayEq, getMonoid } from './Array';\nimport { fromEquals } from './Eq';\nimport { identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Tree';\n/**\n * @since 2.0.0\n */\nexport function make(value, forest) {\n    if (forest === void 0) { forest = empty; }\n    return {\n        value: value,\n        forest: forest\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    var show = function (t) {\n        return t.forest === empty || t.forest.length === 0\n            ? \"make(\" + S.show(t.value) + \")\"\n            : \"make(\" + S.show(t.value) + \", [\" + t.forest.map(show).join(', ') + \"])\";\n    };\n    return {\n        show: show\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(E) {\n    var SA;\n    var R = fromEquals(function (x, y) { return E.equals(x.value, y.value) && SA.equals(x.forest, y.forest); });\n    SA = getArrayEq(R);\n    return R;\n}\nvar draw = function (indentation, forest) {\n    var r = '';\n    var len = forest.length;\n    var tree;\n    for (var i = 0; i < len; i++) {\n        tree = forest[i];\n        var isLast = i === len - 1;\n        r += indentation + (isLast ? '' : '') + ' ' + tree.value;\n        r += draw(indentation + (len > 1 && !isLast ? '  ' : '   '), tree.forest);\n    }\n    return r;\n};\n/**\n * Neat 2-dimensional drawing of a forest\n *\n * @since 2.0.0\n */\nexport function drawForest(forest) {\n    return draw('\\n', forest);\n}\n/**\n * Neat 2-dimensional drawing of a tree\n *\n * @example\n * import { make, drawTree, tree } from 'fp-ts/lib/Tree'\n *\n * const fa = make('a', [\n *   tree.of('b'),\n *   tree.of('c'),\n *   make('d', [tree.of('e'), tree.of('f')])\n * ])\n *\n * assert.strictEqual(drawTree(fa), `a\n *  b\n *  c\n *  d\n *     e\n *     f`)\n *\n *\n * @since 2.0.0\n */\nexport function drawTree(tree) {\n    return tree.value + drawForest(tree.forest);\n}\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nexport function unfoldTree(b, f) {\n    var _a = f(b), a = _a[0], bs = _a[1];\n    return { value: a, forest: unfoldForest(bs, f) };\n}\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nexport function unfoldForest(bs, f) {\n    return bs.map(function (b) { return unfoldTree(b, f); });\n}\nexport function unfoldTreeM(M) {\n    var unfoldForestMM = unfoldForestM(M);\n    return function (b, f) { return M.chain(f(b), function (_a) {\n        var a = _a[0], bs = _a[1];\n        return M.chain(unfoldForestMM(bs, f), function (ts) { return M.of({ value: a, forest: ts }); });\n    }); };\n}\nexport function unfoldForestM(M) {\n    var traverseM = array.traverse(M);\n    return function (bs, f) { return traverseM(bs, function (b) { return unfoldTreeM(M)(b, f); }); };\n}\n/**\n * @since 2.0.0\n */\nexport function elem(E) {\n    var go = function (a, fa) {\n        if (E.equals(a, fa.value)) {\n            return true;\n        }\n        return fa.forest.some(function (tree) { return go(a, tree); });\n    };\n    return go;\n}\n/**\n * @since 2.0.0\n */\nexport var tree = {\n    URI: URI,\n    map: function (fa, f) { return ({\n        value: f(fa.value),\n        forest: fa.forest.map(function (t) { return tree.map(t, f); })\n    }); },\n    of: function (a) { return ({\n        value: a,\n        forest: empty\n    }); },\n    ap: function (fab, fa) { return tree.chain(fab, function (f) { return tree.map(fa, f); }); },\n    chain: function (fa, f) {\n        var _a = f(fa.value), value = _a.value, forest = _a.forest;\n        var concat = getMonoid().concat;\n        return {\n            value: value,\n            forest: concat(forest, fa.forest.map(function (t) { return tree.chain(t, f); }))\n        };\n    },\n    reduce: function (fa, b, f) {\n        var r = f(b, fa.value);\n        var len = fa.forest.length;\n        for (var i = 0; i < len; i++) {\n            r = tree.reduce(fa.forest[i], r, f);\n        }\n        return r;\n    },\n    foldMap: function (M) { return function (fa, f) { return tree.reduce(fa, M.empty, function (acc, a) { return M.concat(acc, f(a)); }); }; },\n    reduceRight: function (fa, b, f) {\n        var r = b;\n        var len = fa.forest.length;\n        for (var i = len - 1; i >= 0; i--) {\n            r = tree.reduceRight(fa.forest[i], r, f);\n        }\n        return f(fa.value, r);\n    },\n    traverse: function (F) {\n        var traverseF = array.traverse(F);\n        var r = function (ta, f) {\n            return F.ap(F.map(f(ta.value), function (value) { return function (forest) { return ({\n                value: value,\n                forest: forest\n            }); }; }), traverseF(ta.forest, function (t) { return r(t, f); }));\n        };\n        return r;\n    },\n    sequence: function (F) {\n        var traverseF = tree.traverse(F);\n        return function (ta) { return traverseF(ta, identity); };\n    },\n    extract: function (wa) { return wa.value; },\n    extend: function (wa, f) { return ({\n        value: f(wa),\n        forest: wa.forest.map(function (t) { return tree.extend(t, f); })\n    }); }\n};\nvar _a = pipeable(tree), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nfunction done(v) {\n    return {\n        _tag: \"Done\",\n        value: v\n    };\n}\nexports.done = done;\nfunction raise(e) {\n    return {\n        _tag: \"Raise\",\n        error: e\n    };\n}\nexports.raise = raise;\nfunction abort(a) {\n    return {\n        _tag: \"Abort\",\n        abortedWith: a\n    };\n}\nexports.abort = abort;\nexports.interrupt = {\n    _tag: \"Interrupt\"\n};\nexports.interruptWithError = function (err) {\n    return err\n        ? {\n            _tag: \"Interrupt\",\n            error: err\n        }\n        : {\n            _tag: \"Interrupt\"\n        };\n};\nexports.interruptWithErrorAndOthers = function (err, others) {\n    return others\n        ? {\n            _tag: \"Interrupt\",\n            error: err,\n            others: others\n        }\n        : {\n            _tag: \"Interrupt\",\n            error: err\n        };\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ref.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\n/**\n * Creates an IO that will allocate a Ref.\n * Curried form of makeRef_ to allow for inference on the initial type\n */\nexports.makeRef = function (initial) {\n    return T.sync(function () {\n        var value = initial;\n        var get = T.sync(function () { return value; });\n        var set = function (a) {\n            return T.sync(function () {\n                var prev = value;\n                value = a;\n                return prev;\n            });\n        };\n        var update = function (f) { return T.sync(function () { return (value = f(value)); }); };\n        var modify = function (f) {\n            return T.sync(function () {\n                var _a = f(value), b = _a[0], a = _a[1];\n                value = a;\n                return b;\n            });\n        };\n        return {\n            get: get,\n            set: set,\n            update: update,\n            modify: modify\n        };\n    });\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/deferred.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar completable_1 = require(\"./original/support/completable\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar DeferredImpl = /** @class */ (function () {\n    function DeferredImpl(r) {\n        var _this = this;\n        this.r = r;\n        this.c = new completable_1.CompletableImpl();\n        this.wait = T.flatten(T.asyncTotal(function (callback) { return _this.c.listen(callback); }));\n        this.interrupt = T.sync(function () {\n            _this.c.complete(T.raiseInterrupt);\n        });\n    }\n    DeferredImpl.prototype.done = function (a) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.pure(a));\n        });\n    };\n    DeferredImpl.prototype.error = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raiseError(e));\n        });\n    };\n    DeferredImpl.prototype.abort = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raiseAbort(e));\n        });\n    };\n    DeferredImpl.prototype.cause = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raised(e));\n        });\n    };\n    DeferredImpl.prototype.complete = function (exit) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.completed(exit));\n        });\n    };\n    DeferredImpl.prototype.from = function (source) {\n        var _this = this;\n        var completed = effect_1.effect.chain(T.result(T.provide(this.r)(source)), function (e) {\n            return _this.complete(e);\n        });\n        return T.effect.onInterrupted(completed, this.interrupt);\n    };\n    return DeferredImpl;\n}());\nexports.DeferredImpl = DeferredImpl;\nfunction makeDeferred() {\n    return T.access(function (r) { return new DeferredImpl(r); });\n}\nexports.makeDeferred = makeDeferred;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nfunction curried(f, n, acc) {\n    return function (x) {\n        var combined = acc.concat([x]);\n        return n === 0 ? f.apply(null, combined) : curried(f, n - 1, combined);\n    };\n}\nvar tupleConstructors = {};\nfunction getTupleConstructor(len) {\n    if (!tupleConstructors.hasOwnProperty(len)) {\n        tupleConstructors[len] = curried(function_1.tuple, len - 1, []);\n    }\n    return tupleConstructors[len];\n}\nfunction sequenceT(F) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var len = args.length;\n        var f = getTupleConstructor(len);\n        var fas = F.map(args[0], f);\n        for (var i = 1; i < len; i++) {\n            fas = F.ap(fas, args[i]);\n        }\n        return fas;\n    };\n}\nexports.sequenceT = sequenceT;\nfunction getRecordConstructor(keys) {\n    var len = keys.length;\n    return curried(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var r = {};\n        for (var i = 0; i < len; i++) {\n            r[keys[i]] = args[i];\n        }\n        return r;\n    }, len - 1, []);\n}\nfunction sequenceS(F) {\n    return function (r) {\n        var keys = Object.keys(r);\n        var len = keys.length;\n        var f = getRecordConstructor(keys);\n        var fr = F.map(r[keys[0]], f);\n        for (var i = 1; i < len; i++) {\n            fr = F.ap(fr, r[keys[i]]);\n        }\n        return fr;\n    };\n}\nexports.sequenceS = sequenceS;\n/* tslint:enable:readonly-array */\n","/**\n * @since 2.0.0\n */\nexport function sign(n) {\n    return n <= -1 ? -1 : n >= 1 ? 1 : 0;\n}\n/**\n * @since 2.0.0\n */\nexport var eqOrdering = {\n    equals: function (x, y) { return x === y; }\n};\n/**\n * Use `monoidOrdering` instead\n * @since 2.0.0\n * @deprecated\n */\nexport var semigroupOrdering = {\n    concat: function (x, y) { return (x !== 0 ? x : y); }\n};\n/**\n * @since 2.4.0\n */\nexport var monoidOrdering = {\n    // tslint:disable-next-line: deprecation\n    concat: semigroupOrdering.concat,\n    empty: 0\n};\n/**\n * @since 2.0.0\n */\nexport function invert(O) {\n    switch (O) {\n        case -1:\n            return 1;\n        case 1:\n            return -1;\n        default:\n            return 0;\n    }\n}\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","import { T, Service as F } from \"@matechs/prelude\";\nexport const consoleURI = \"@matechs/console/consoleURI\";\nconst Console_ = F.define({\n    [consoleURI]: {\n        assert: F.fn(),\n        time: F.fn(),\n        clear: F.cn(),\n        info: F.fn(),\n        count: F.fn(),\n        countReset: F.fn(),\n        debug: F.fn(),\n        dir: F.fn(),\n        dirxml: F.fn(),\n        error: F.fn(),\n        group: F.fn(),\n        groupCollapsed: F.fn(),\n        groupEnd: F.cn(),\n        log: F.fn(),\n        table: F.fn(),\n        timeEnd: F.fn(),\n        timeLog: F.fn(),\n        trace: F.fn(),\n        warn: F.fn()\n    }\n});\nexport const Console = F.opaque()(Console_);\nexport const provideConsole = F.implement(Console)({\n    [consoleURI]: {\n        assert: (v, m, ...o) => T.sync(() => console.assert(v, m, ...o)),\n        clear: T.sync(() => console.clear()),\n        count: (l) => T.sync(() => console.count(l)),\n        countReset: (l) => T.sync(() => console.countReset(l)),\n        debug: (m, ...o) => T.sync(() => console.debug(m, ...o)),\n        dir: (ob, op) => T.sync(() => console.dir(ob, op)),\n        dirxml: (...d) => T.sync(() => console.dirxml(...d)),\n        error: (m, ...o) => T.sync(() => console.error(m, ...o)),\n        group: (...l) => T.sync(() => console.group(...l)),\n        groupCollapsed: (...l) => T.sync(() => console.groupCollapsed(...l)),\n        groupEnd: T.sync(() => console.groupEnd()),\n        info: (m, ...o) => T.sync(() => console.info(m, ...o)),\n        log: (m, ...o) => T.sync(() => console.log(m, ...o)),\n        table: (t, p) => T.sync(() => console.table(t, p)),\n        time: (l) => T.sync(() => console.time(l)),\n        timeEnd: (l) => T.sync(() => console.timeEnd(l)),\n        timeLog: (l, ...d) => T.sync(() => console.timeLog(l, ...d)),\n        trace: (m, ...o) => T.sync(() => console.trace(m, ...o)),\n        warn: (m, ...o) => T.sync(() => console.warn(m, ...o))\n    }\n});\nexport const { [consoleURI]: { assert, time, clear, info, count, countReset, debug, dir, dirxml, error, group, groupCollapsed, groupEnd, log, table, timeEnd, timeLog, trace, warn } } = F.access(Console);\n","\"use strict\";\n/**\n * Represents a value of one of two possible types (a disjoint union).\n *\n * An instance of `Either` is either an instance of `Left` or `Right`.\n *\n * A common use of `Either` is as an alternative to `Option` for dealing with possible missing values. In this usage,\n * `None` is replaced with a `Left` which can contain useful information. `Right` takes the place of `Some`. Convention\n * dictates that `Left` is used for failure and `Right` is used for success.\n *\n * For example, you could use `Either<string, number>` to detect whether a received input is a `string` or a `number`.\n *\n * ```ts\n * import { Either, left, right } from 'fp-ts/lib/Either'\n *\n * function parse(input: string): Either<Error, number> {\n *   const n = parseInt(input, 10)\n *   return isNaN(n) ? left(new Error('not a number')) : right(n)\n * }\n * ```\n *\n * `Either` is right-biased, which means that `Right` is assumed to be the default case to operate on. If it is `Left`,\n * operations like `map`, `chain`, ... return the `Left` value unchanged:\n *\n * ```ts\n * import { map, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * pipe(right(12), map(double)) // right(24)\n * pipe(left(23), map(double))  // left(23)\n * ```\n *\n * @since 2.0.0\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ChainRec_1 = require(\"./ChainRec\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Either';\n/**\n * Constructs a new `Either` holding a `Left` value. This usually represents a failure, due to the right-bias of this\n * structure\n *\n * @since 2.0.0\n */\nfunction left(e) {\n    return { _tag: 'Left', left: e };\n}\nexports.left = left;\n/**\n * Constructs a new `Either` holding a `Right` value. This usually represents a successful value due to the right bias\n * of this structure\n *\n * @since 2.0.0\n */\nfunction right(a) {\n    return { _tag: 'Right', right: a };\n}\nexports.right = right;\n/**\n * Takes a default and a nullable value, if the value is not nully, turn it into a `Right`, if the value is nully use\n * the provided default as a `Left`\n *\n * @example\n * import { fromNullable, left, right } from 'fp-ts/lib/Either'\n *\n * const parse = fromNullable('nully')\n *\n * assert.deepStrictEqual(parse(1), right(1))\n * assert.deepStrictEqual(parse(null), left('nully'))\n *\n * @since 2.0.0\n */\nfunction fromNullable(e) {\n    return function (a) { return (a == null ? left(e) : right(a)); };\n}\nexports.fromNullable = fromNullable;\n/**\n * Default value for the `onError` argument of `tryCatch`\n *\n * @since 2.0.0\n */\nfunction toError(e) {\n    return e instanceof Error ? e : new Error(String(e));\n}\nexports.toError = toError;\n/**\n * Constructs a new `Either` from a function that might throw\n *\n * @example\n * import { Either, left, right, tryCatch } from 'fp-ts/lib/Either'\n *\n * const unsafeHead = <A>(as: Array<A>): A => {\n *   if (as.length > 0) {\n *     return as[0]\n *   } else {\n *     throw new Error('empty array')\n *   }\n * }\n *\n * const head = <A>(as: Array<A>): Either<Error, A> => {\n *   return tryCatch(() => unsafeHead(as), e => (e instanceof Error ? e : new Error('unknown error')))\n * }\n *\n * assert.deepStrictEqual(head([]), left(new Error('empty array')))\n * assert.deepStrictEqual(head([1, 2, 3]), right(1))\n *\n * @since 2.0.0\n */\nfunction tryCatch(f, onError) {\n    try {\n        return right(f());\n    }\n    catch (e) {\n        return left(onError(e));\n    }\n}\nexports.tryCatch = tryCatch;\n/**\n * Takes two functions and an `Either` value, if the value is a `Left` the inner value is applied to the first function,\n * if the value is a `Right` the inner value is applied to the second function.\n *\n * @example\n * import { fold, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * function onLeft(errors: Array<string>): string {\n *   return `Errors: ${errors.join(', ')}`\n * }\n *\n * function onRight(value: number): string {\n *   return `Ok: ${value}`\n * }\n *\n * assert.strictEqual(\n *   pipe(\n *     right(1),\n *     fold(onLeft, onRight)\n *   ),\n *   'Ok: 1'\n * )\n * assert.strictEqual(\n *   pipe(\n *     left(['error 1', 'error 2']),\n *     fold(onLeft, onRight)\n *   ),\n *   'Errors: error 1, error 2'\n * )\n *\n * @since 2.0.0\n */\nfunction fold(onLeft, onRight) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : onRight(ma.right)); };\n}\nexports.fold = fold;\n/**\n * @since 2.0.0\n */\nfunction getShow(SE, SA) {\n    return {\n        show: function (ma) { return (isLeft(ma) ? \"left(\" + SE.show(ma.left) + \")\" : \"right(\" + SA.show(ma.right) + \")\"); }\n    };\n}\nexports.getShow = getShow;\n/**\n * @since 2.0.0\n */\nfunction getEq(EL, EA) {\n    return {\n        equals: function (x, y) {\n            return x === y || (isLeft(x) ? isLeft(y) && EL.equals(x.left, y.left) : isRight(y) && EA.equals(x.right, y.right));\n        }\n    };\n}\nexports.getEq = getEq;\n/**\n * Semigroup returning the left-most non-`Left` value. If both operands are `Right`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * @example\n * import { getSemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getSemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), right(2))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), right(1))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nfunction getSemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(y) ? x : isLeft(x) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\nexports.getSemigroup = getSemigroup;\n/**\n * `Apply` semigroup\n *\n * @example\n * import { getApplySemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), left('a'))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), left('b'))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nfunction getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(x) ? x : isLeft(y) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\nexports.getApplySemigroup = getApplySemigroup;\n/**\n * @since 2.0.0\n */\nfunction getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: right(M.empty) });\n}\nexports.getApplyMonoid = getApplyMonoid;\n/**\n * Returns `true` if the either is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nfunction isLeft(ma) {\n    switch (ma._tag) {\n        case 'Left':\n            return true;\n        case 'Right':\n            return false;\n    }\n}\nexports.isLeft = isLeft;\n/**\n * Returns `true` if the either is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nfunction isRight(ma) {\n    return isLeft(ma) ? false : true;\n}\nexports.isRight = isRight;\n/**\n * @since 2.0.0\n */\nfunction swap(ma) {\n    return isLeft(ma) ? right(ma.left) : left(ma.right);\n}\nexports.swap = swap;\n/**\n * @since 2.0.0\n */\nfunction orElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma); };\n}\nexports.orElse = orElse;\n/**\n * @since 2.0.0\n */\nfunction getOrElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma.right); };\n}\nexports.getOrElse = getOrElse;\n/**\n * @since 2.0.0\n */\nfunction elem(E) {\n    return function (a, ma) { return (isLeft(ma) ? false : E.equals(a, ma.right)); };\n}\nexports.elem = elem;\n/**\n * Returns `false` if `Left` or returns the result of the application of the given predicate to the `Right` value.\n *\n * @example\n * import { exists, left, right } from 'fp-ts/lib/Either'\n *\n * const gt2 = exists((n: number) => n > 2)\n *\n * assert.strictEqual(gt2(left('a')), false)\n * assert.strictEqual(gt2(right(1)), false)\n * assert.strictEqual(gt2(right(3)), true)\n *\n * @since 2.0.0\n */\nfunction exists(predicate) {\n    return function (ma) { return (isLeft(ma) ? false : predicate(ma.right)); };\n}\nexports.exists = exists;\n/**\n * Converts a JavaScript Object Notation (JSON) string into an object.\n *\n * @example\n * import { parseJSON, toError, right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(parseJSON('{\"a\":1}', toError), right({ a: 1 }))\n * assert.deepStrictEqual(parseJSON('{\"a\":}', toError), left(new SyntaxError('Unexpected token } in JSON at position 5')))\n *\n * @since 2.0.0\n */\nfunction parseJSON(s, onError) {\n    return tryCatch(function () { return JSON.parse(s); }, onError);\n}\nexports.parseJSON = parseJSON;\n/**\n * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\n *\n * @example\n * import * as E from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.deepStrictEqual(E.stringifyJSON({ a: 1 }, E.toError), E.right('{\"a\":1}'))\n * const circular: any = { ref: null }\n * circular.ref = circular\n * assert.deepStrictEqual(\n *   pipe(\n *     E.stringifyJSON(circular, E.toError),\n *     E.mapLeft(e => e.message.includes('Converting circular structure to JSON'))\n *   ),\n *   E.left(true)\n * )\n *\n * @since 2.0.0\n */\nfunction stringifyJSON(u, onError) {\n    return tryCatch(function () { return JSON.stringify(u); }, onError);\n}\nexports.stringifyJSON = stringifyJSON;\n/**\n * Builds `Witherable` instance for `Either` given `Monoid` for the left side\n *\n * @since 2.0.0\n */\nfunction getWitherable(M) {\n    var empty = left(M.empty);\n    var compact = function (ma) {\n        return isLeft(ma) ? ma : ma.right._tag === 'None' ? left(M.empty) : right(ma.right.value);\n    };\n    var separate = function (ma) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : isLeft(ma.right)\n                ? { left: right(ma.right.left), right: empty }\n                : { left: empty, right: right(ma.right.right) };\n    };\n    var partitionMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return { left: ma, right: ma };\n        }\n        var e = f(ma.right);\n        return isLeft(e) ? { left: right(e.left), right: empty } : { left: empty, right: right(e.right) };\n    };\n    var partition = function (ma, p) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : p(ma.right)\n                ? { left: empty, right: right(ma.right) }\n                : { left: right(ma.right), right: empty };\n    };\n    var filterMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        var ob = f(ma.right);\n        return ob._tag === 'None' ? left(M.empty) : right(ob.value);\n    };\n    var filter = function (ma, predicate) {\n        return isLeft(ma) ? ma : predicate(ma.right) ? ma : left(M.empty);\n    };\n    var wither = function (F) {\n        var traverseF = exports.either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), compact); };\n    };\n    var wilt = function (F) {\n        var traverseF = exports.either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), separate); };\n    };\n    return {\n        URI: exports.URI,\n        _E: undefined,\n        map: exports.either.map,\n        compact: compact,\n        separate: separate,\n        filter: filter,\n        filterMap: filterMap,\n        partition: partition,\n        partitionMap: partitionMap,\n        traverse: exports.either.traverse,\n        sequence: exports.either.sequence,\n        reduce: exports.either.reduce,\n        foldMap: exports.either.foldMap,\n        reduceRight: exports.either.reduceRight,\n        wither: wither,\n        wilt: wilt\n    };\n}\nexports.getWitherable = getWitherable;\n/**\n * @since 2.0.0\n */\nfunction getValidation(S) {\n    return __assign(__assign({}, exports.either), { _E: undefined, ap: function (mab, ma) {\n            return isLeft(mab)\n                ? isLeft(ma)\n                    ? left(S.concat(mab.left, ma.left))\n                    : mab\n                : isLeft(ma)\n                    ? ma\n                    : right(mab.right(ma.right));\n        }, alt: function (fx, f) {\n            if (isRight(fx)) {\n                return fx;\n            }\n            var fy = f();\n            return isLeft(fy) ? left(S.concat(fx.left, fy.left)) : fy;\n        } });\n}\nexports.getValidation = getValidation;\n/**\n * @since 2.0.0\n */\nfunction getValidationSemigroup(SE, SA) {\n    return {\n        concat: function (fx, fy) {\n            return isLeft(fx)\n                ? isLeft(fy)\n                    ? left(SE.concat(fx.left, fy.left))\n                    : fx\n                : isLeft(fy)\n                    ? fy\n                    : right(SA.concat(fx.right, fy.right));\n        }\n    };\n}\nexports.getValidationSemigroup = getValidationSemigroup;\n/**\n * @since 2.0.0\n */\nfunction getValidationMonoid(SE, SA) {\n    return {\n        concat: getValidationSemigroup(SE, SA).concat,\n        empty: right(SA.empty)\n    };\n}\nexports.getValidationMonoid = getValidationMonoid;\n/**\n * @since 2.0.0\n */\nexports.either = {\n    URI: exports.URI,\n    map: function (ma, f) { return (isLeft(ma) ? ma : right(f(ma.right))); },\n    of: right,\n    ap: function (mab, ma) { return (isLeft(mab) ? mab : isLeft(ma) ? ma : right(mab.right(ma.right))); },\n    chain: function (ma, f) { return (isLeft(ma) ? ma : f(ma.right)); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : f(fa.right, b)); },\n    traverse: function (F) { return function (ma, f) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(f(ma.right), right);\n    }; },\n    sequence: function (F) { return function (ma) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(ma.right, right);\n    }; },\n    bimap: function (fea, f, g) { return (isLeft(fea) ? left(f(fea.left)) : right(g(fea.right))); },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : fea); },\n    alt: function (fx, fy) { return (isLeft(fx) ? fy() : fx); },\n    extend: function (wa, f) { return (isLeft(wa) ? wa : right(f(wa))); },\n    chainRec: function (a, f) {\n        return ChainRec_1.tailRec(f(a), function (e) {\n            return isLeft(e) ? right(left(e.left)) : isLeft(e.right) ? left(f(e.right.left)) : right(right(e.right.right));\n        });\n    },\n    throwError: left\n};\nvar _a = pipeable_1.pipeable(exports.either), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.bimap = bimap;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.mapLeft = mapLeft;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.fromOption = fromOption;\nexports.fromPredicate = fromPredicate;\nexports.filterOrElse = filterOrElse;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar T = __importStar(require(\"./effect\"));\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar Ar = __importStar(require(\"fp-ts/lib/Array\"));\nvar Op = __importStar(require(\"fp-ts/lib/Option\"));\nvar Ei = __importStar(require(\"fp-ts/lib/Either\"));\nvar TR = __importStar(require(\"fp-ts/lib/Tree\"));\nvar RE = __importStar(require(\"fp-ts/lib/Record\"));\nvar ManagedTag;\n(function (ManagedTag) {\n    ManagedTag[ManagedTag[\"Pure\"] = 0] = \"Pure\";\n    ManagedTag[ManagedTag[\"Encase\"] = 1] = \"Encase\";\n    ManagedTag[ManagedTag[\"Bracket\"] = 2] = \"Bracket\";\n    ManagedTag[ManagedTag[\"Suspended\"] = 3] = \"Suspended\";\n    ManagedTag[ManagedTag[\"Chain\"] = 4] = \"Chain\";\n    ManagedTag[ManagedTag[\"BracketExit\"] = 5] = \"BracketExit\";\n})(ManagedTag = exports.ManagedTag || (exports.ManagedTag = {}));\nvar toM = function (_) { return _; };\nvar fromM = function (_) { return _; };\n/**\n * Lift a pure value into a resource\n * @param value\n */\nfunction pure(value) {\n    return toM(function () { return ({\n        _tag: ManagedTag.Pure,\n        value: value\n    }); });\n}\nexports.pure = pure;\n/**\n * Create a Resource by wrapping an IO producing a value that does not need to be disposed\n *\n * @param res\n * @param f\n */\nfunction encaseEffect(rio) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Encase,\n        acquire: T.provide(r)(rio)\n    }); });\n}\nexports.encaseEffect = encaseEffect;\n/**\n * Create a resource from an acquisition and release function\n * @param acquire\n * @param release\n */\nfunction bracket(acquire, release) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Bracket,\n        acquire: T.provide(r)(acquire),\n        release: function (a) { return T.provide(r)(release(a)); }\n    }); });\n}\nexports.bracket = bracket;\nfunction bracketExit(acquire, release) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.BracketExit,\n        acquire: T.provide(r)(acquire),\n        release: function (a, e) { return T.provide(r)(release(a, e)); }\n    }); });\n}\nexports.bracketExit = bracketExit;\n/**\n * Lift an IO of a Resource into a resource\n * @param suspended\n */\nfunction suspend(suspended) {\n    return toM(function (r) {\n        return ({\n            _tag: ManagedTag.Suspended,\n            suspended: T.effect.map(T.provide(r)(suspended), function (m) { return function (_) { return fromM(m)(r); }; })\n        });\n    });\n}\nexports.suspend = suspend;\n/**\n * Compose dependent resourcess.\n *\n * The scope of left will enclose the scope of the resource produced by bind\n * @param left\n * @param bind\n */\nfunction chain_(left, bind) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Chain,\n        left: provideAll(r)(left),\n        bind: function (l) { return provideAll(r)(bind(l)); }\n    }); });\n}\n/**\n * Curried form of chain\n * @param bind\n */\nfunction chain(bind) {\n    return function (left) { return chain_(left, bind); };\n}\nexports.chain = chain;\n/**\n * Map a resource\n * @param res\n * @param f\n */\nfunction map_(res, f) {\n    return chain_(res, function (r) { return pure(f(r)); });\n}\n/**\n * Curried form of map\n * @param f\n */\nfunction map(f) {\n    return function (res) { return map_(res, f); };\n}\nexports.map = map;\n/**\n * Zip two resources together with the given function.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n * @param f\n */\nfunction zipWith(resa, resb, f) {\n    return chain_(resa, function (a) { return map_(resb, function (b) { return f(a, b); }); });\n}\nexports.zipWith = zipWith;\n/**\n * Zip two resources together as a tuple.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n */\nfunction zip(resa, resb) {\n    return zipWith(resa, resb, function (a, b) { return [a, b]; });\n}\nexports.zip = zip;\n/**\n * Apply the function produced by resfab to the value produced by resa to produce a new resource.\n * @param resa\n * @param resfab\n */\nfunction ap(resa, resfab) {\n    return zipWith(resa, resfab, function (a, f) { return f(a); });\n}\nexports.ap = ap;\n/**\n * Flipped version of ap\n * @param resfab\n * @param resa\n */\nfunction ap_(resfab, resa) {\n    return zipWith(resfab, resa, function (f, a) { return f(a); });\n}\n/**\n * Map a resource to a static value\n *\n * This creates a resource of the provided constant b where the produced A has the same lifetime internally\n * @param fa\n * @param b\n */\nfunction as(fa, b) {\n    return map_(fa, fp_ts_1[\"function\"].constant(b));\n}\nexports.as = as;\n/**\n * Curried form of as\n * @param b\n */\nfunction to(b) {\n    return function (fa) { return as(fa, b); };\n}\nexports.to = to;\n/**\n * Construct a new 'hidden' resource using the produced A with a nested lifetime\n * Useful for performing initialization and cleanup that clients don't need to see\n * @param left\n * @param bind\n */\nfunction chainTap(left, bind) {\n    return chain_(left, function (a) { return as(bind(a), a); });\n}\nexports.chainTap = chainTap;\n/**\n * Curried form of chainTap\n * @param bind\n */\nfunction chainTapWith(bind) {\n    return function (inner) { return chainTap(inner, bind); };\n}\nexports.chainTapWith = chainTapWith;\n/**\n * Curried data last form of use\n * @param f\n */\nfunction consume(f) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return function (r) { return use(r, f); };\n}\nexports.consume = consume;\n/**\n * Create a Resource from the fiber of an IO.\n * The acquisition of this resource corresponds to forking rio into a fiber.\n * The destruction of the resource is interrupting said fiber.\n * @param rio\n */\nfunction fiber(rio) {\n    return bracket(T.fork(rio), function (fiber) { return fiber.interrupt; });\n}\nexports.fiber = fiber;\n/**\n * Use a resource to produce a program that can be run.s\n * @param res\n * @param f\n */\nfunction use(res, f) {\n    return T.accessM(function (r) {\n        var c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return f(c.value);\n            case ManagedTag.Encase:\n                return T.effect.chain(c.acquire, f);\n            case ManagedTag.Bracket:\n                return T.bracket(c.acquire, c.release, f);\n            case ManagedTag.BracketExit:\n                return T.bracketExit(c.acquire, function (a, e) { return c.release(a, e); }, f);\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, consume(f));\n            case ManagedTag.Chain:\n                return use(c.left, function (a) { return use(c.bind(a), f); });\n        }\n    });\n}\nexports.use = use;\n/**\n * Create an IO action that will produce the resource for this managed along with its finalizer\n * action seperately.\n *\n * If an error occurs during allocation then any allocated resources should be cleaned up, but once the\n * Leak object is produced it is the callers responsibility to ensure release is invoked.\n * @param res\n */\nfunction allocate(res) {\n    return T.accessM(function (r) {\n        var c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return T.pure({ a: c.value, release: T.unit });\n            case ManagedTag.Encase:\n                return T.effect.map(c.acquire, function (a) { return ({ a: a, release: T.unit }); });\n            case ManagedTag.Bracket:\n                return T.effect.map(c.acquire, function (a) { return ({ a: a, release: c.release(a) }); });\n            case ManagedTag.BracketExit:\n                // best effort, because we cannot know what the exit status here\n                return T.effect.map(c.acquire, function (a) { return ({\n                    a: a,\n                    release: c.release(a, exit_1.done(undefined))\n                }); });\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, allocate);\n            case ManagedTag.Chain:\n                return T.bracketExit(allocate(c.left), function (leak, exit) { return (exit._tag === \"Done\" ? T.unit : leak.release); }, function (leak) {\n                    return T.effect.map(allocate(c.bind(leak.a)), \n                    // Combine the finalizer actions of the outer and inner resource\n                    function (innerLeak) { return ({\n                        a: innerLeak.a,\n                        release: T.effect.onComplete(innerLeak.release, leak.release)\n                    }); });\n                });\n        }\n    });\n}\nexports.allocate = allocate;\n/**\n * Use a resource to provide part of the environment to an effect\n * @param man\n * @param ma\n */\nfunction provide(man, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (ma) { return use(man, function (r) { return T.provide(r, inverted)(ma); }); };\n}\nexports.provide = provide;\nexports.URI = \"matechs/Managed\";\nexports.managed = {\n    URI: exports.URI,\n    of: pure,\n    map: map_,\n    ap: ap_,\n    chain: chain_\n};\nfunction getSemigroup(Semigroup) {\n    return {\n        concat: function (x, y) {\n            return zipWith(x, y, Semigroup.concat);\n        }\n    };\n}\nexports.getSemigroup = getSemigroup;\nfunction getMonoid(Monoid) {\n    return __assign(__assign({}, getSemigroup(Monoid)), { empty: pure(Monoid.empty) });\n}\nexports.getMonoid = getMonoid;\nfunction provideAll(r) {\n    return function (ma) {\n        return toM(function () { return fromM(ma)(r); });\n    };\n}\nexports.Do = function () { return Do_1.Do(exports.managed); };\nexports.sequenceS = Apply_1.sequenceS(exports.managed);\nexports.sequenceT = Apply_1.sequenceT(exports.managed);\nexports.sequenceOption = Op.option.sequence(exports.managed);\nexports.traverseOption = function (f) { return function (ta) {\n    return Op.option.traverse(exports.managed)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return Op.option.wilt(exports.managed)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return Op.option.wither(exports.managed)(ta, f);\n}; };\nexports.sequenceEither = Ei.either.sequence(exports.managed);\nexports.traverseEither = function (f) { return function (ta) {\n    return Ei.either.traverse(exports.managed)(ta, f);\n}; };\nexports.sequenceTree = TR.tree.sequence(exports.managed);\nexports.traverseTree = function (f) { return function (ta) {\n    return TR.tree.traverse(exports.managed)(ta, f);\n}; };\nexports.sequenceArray = Ar.array.sequence(exports.managed);\nexports.traverseArray = function (f) { return function (ta) {\n    return Ar.array.traverse(exports.managed)(ta, f);\n}; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return Ar.array.traverseWithIndex(exports.managed)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return Ar.array.wilt(exports.managed)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return Ar.array.wither(exports.managed)(ta, f); }; };\nexports.sequenceRecord = RE.record.sequence(exports.managed);\nexports.traverseRecord = function (f) { return function (ta) {\n    return RE.record.traverse(exports.managed)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return RE.record.traverseWithIndex(exports.managed)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) {\n    return RE.record.wilt(exports.managed)(wa, f);\n}; };\nexports.witherRecord = function (f) { return function (ta) {\n    return RE.record.wither(exports.managed)(ta, f);\n}; };\n","module.exports = require(\"regenerator-runtime\");\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/stream.ts\n  credits to original author\n */\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar stream_1 = require(\"stream\");\nvar T = __importStar(require(\"../effect\"));\nvar effect_1 = require(\"../effect\");\nvar deferred = __importStar(require(\"../deferred\"));\nvar M = __importStar(require(\"../managed\"));\nvar cq = __importStar(require(\"../queue\"));\nvar ref = __importStar(require(\"../ref\"));\nvar semaphore = __importStar(require(\"../semaphore\"));\nvar sink_1 = require(\"./sink\");\nvar step_1 = require(\"./step\");\nvar su = __importStar(require(\"./support\"));\nexports.su = su;\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar toS = function (_) { return _; };\nvar fromS = function (_) { return _; };\n// The contract of a Stream's fold is that state is preserved within the lifecycle of the managed\n// Therefore, we must track the offset in the array via a ref\n// This allows, for instance, this to work with transduce\nfunction arrayFold(as) {\n    return M.encaseEffect(effect_1.effect.map(ref.makeRef(0), function (cell) { return function (initial, cont, f) {\n        function step(current) {\n            /* istanbul ignore else */\n            if (cont(current)) {\n                return fp_ts_1.pipeable.pipe(cell.modify(function (i) { return [i, i + 1]; }), // increment the i\n                T.chain(function (i) {\n                    return i < as.length ? effect_1.effect.chain(f(current, as[i]), step) : T.pure(current);\n                }));\n            }\n            else {\n                return T.pure(current);\n            }\n        }\n        return step(initial);\n    }; }));\n}\nfunction iteratorSource(iter) {\n    return T.sync(function () {\n        var n = iter.next();\n        if (n.done) {\n            return fp_ts_1.option.none;\n        }\n        return fp_ts_1.option.some(n.value);\n    });\n}\nfunction rangeIterator(start, interval, end) {\n    var current;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                current = start;\n                _a.label = 1;\n            case 1:\n                if (!(!end || current < end)) return [3 /*break*/, 3];\n                return [4 /*yield*/, current];\n            case 2:\n                _a.sent();\n                current += interval || 1;\n                return [3 /*break*/, 1];\n            case 3: return [2 /*return*/];\n        }\n    });\n}\n/**\n * Create a Stream from a source A action.\n *\n * The contract is that the acquisition of the resource should produce a Wave that may be repeatedly evaluated\n * during the scope of the Managed\n * If there is more data in the stream, the Wave should produce some(A) otherwise it should produce none.\n * Once it produces none, it will not be evaluated again.\n * @param r\n */\nfunction fromSource(r) {\n    return toS(M.managed.map(r, function (pull) {\n        function fold(initial, cont, step) {\n            return cont(initial)\n                ? fp_ts_1.pipeable.pipe(pull, T.chain(function (out) {\n                    return fp_ts_1.pipeable.pipe(out, fp_ts_1.option.fold(function () { return T.pure(initial); }, function (a) { return effect_1.effect.chain(step(initial, a), function (next) { return fold(next, cont, step); }); }));\n                }))\n                : T.pure(initial);\n        }\n        return fold;\n    }));\n}\nexports.fromSource = fromSource;\n/**\n * Create a stream from an Array\n * @param as\n */\nfunction fromArray(as) {\n    return toS(arrayFold(as));\n}\nexports.fromArray = fromArray;\n/**\n * Create a stream from an iterator\n * @param iter\n */\nfunction fromIterator(iter) {\n    return fp_ts_1.pipeable.pipe(M.encaseEffect(T.sync(iter)), M.map(iteratorSource), fromSource);\n}\nexports.fromIterator = fromIterator;\n/**\n * Create a stream that emits the elements in a range\n * @param start\n * @param interval\n * @param end\n */\nfunction fromRange(start, interval, end) {\n    return fromIterator(function () { return rangeIterator(start, interval, end); });\n}\nexports.fromRange = fromRange;\n/**\n * Create a stream from an existing iterator\n * @param iter\n */\nfunction fromIteratorUnsafe(iter) {\n    return fromIterator(function () { return iter; });\n}\nexports.fromIteratorUnsafe = fromIteratorUnsafe;\n/**\n * Create a stream that emits a single element\n * @param a\n */\nfunction once(a) {\n    function fold(initial, cont, f) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return f(initial, a);\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\nexports.once = once;\n/**\n * Create a stream that emits As as fast as possible\n *\n * Be cautious when using this. If your entire pipeline is full of synchronous actions you can block the main\n * thread until the stream runs to completion (or forever) using this\n * @param a\n */\nfunction repeatedly(a) {\n    function fold(initial, cont, f) {\n        function step(current) {\n            if (cont(current)) {\n                return T.shiftAfter(effect_1.effect.chain(f(current, a), step));\n            }\n            return T.shiftAfter(T.pure(current));\n        }\n        return step(initial);\n    }\n    return toS(M.pure(fold));\n}\nexports.repeatedly = repeatedly;\nfunction periodically(ms) {\n    return fp_ts_1.pipeable.pipe(M.encaseEffect(ref.makeRef(-1)), M.map(function (r) {\n        return fp_ts_1.pipeable.pipe(T.delay(r.update(function (n) { return n + 1; }), ms), T.map(fp_ts_1.option.some));\n    }), fromSource);\n}\nexports.periodically = periodically;\n/**\n * A stream that emits no elements an immediately terminates\n */\nexports.empty = toS(M.pure(function (initial, _cont, _f) {\n    return T.pure(initial);\n}));\n/**\n * Create a stream that evalutes w to emit a single element\n * @param w\n */\nfunction encaseEffect(w) {\n    function fold(initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return fp_ts_1.pipeable.pipe(w, T.chain(function (a) { return step(initial, a); }));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\nexports.encaseEffect = encaseEffect;\n/**\n * Create a stream that immediately fails\n * @param e\n */\nfunction raised(e) {\n    return encaseEffect(T.raiseError(e));\n}\nexports.raised = raised;\n/**\n * Create a stream that immediately aborts\n * @param e\n */\nfunction aborted(e) {\n    return encaseEffect(T.raiseAbort(e));\n}\nexports.aborted = aborted;\n/**\n * Create a stream that immediately emits either 0 or 1 elements\n * @param opt\n */\nfunction fromOption(opt) {\n    return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(fp_ts_1[\"function\"].constant(exports.empty), once));\n}\nexports.fromOption = fromOption;\n/**\n * Zip all stream elements with their index ordinals\n * @param stream\n */\nfunction zipWithIndex(stream) {\n    return toS(M.managed.map(fromS(stream), function (fold) {\n        function zipFold(initial, cont, f) {\n            var folded = fold([initial, 0], function (s) { return cont(s[0]); }, function (_a, a) {\n                var s = _a[0], i = _a[1];\n                return effect_1.effect.map(f(s, [a, i]), function (s) { return [s, i + 1]; });\n            });\n            return effect_1.effect.map(folded, function (s) { return s[0]; });\n        }\n        return zipFold;\n    }));\n}\nexports.zipWithIndex = zipWithIndex;\n/**\n * Create a stream that emits all the elements of stream1 followed by all the elements of stream2\n * @param stream1\n * @param stream2\n */\nfunction concatL_(stream1, stream2) {\n    var w1 = fromS(stream1);\n    var w2 = function () { return fromS(stream2()); };\n    function fold(initial, cont, step) {\n        return fp_ts_1.pipeable.pipe(M.use(w1, function (fold1) { return fold1(initial, cont, step); }), T.chain(function (intermediate) {\n            /* istanbul ignore else */\n            if (cont(intermediate)) {\n                return M.use(w2(), function (fold2) { return fold2(intermediate, cont, step); });\n            }\n            else {\n                return T.pure(intermediate);\n            }\n        }));\n    }\n    return toS(M.pure(fold));\n}\nfunction concatL(stream2) {\n    return function (s) { return concatL_(s, stream2); };\n}\nexports.concatL = concatL;\n/**\n * Strict form of concatL\n * @param stream1\n * @param stream2\n */\nfunction concat_(stream1, stream2) {\n    return concatL_(stream1, fp_ts_1[\"function\"].constant(stream2));\n}\nfunction concat(stream2) {\n    return function (s) { return concat_(s, stream2); };\n}\nexports.concat = concat;\n/**\n * Creates a stream that repeatedly emits the elements of a stream forever.\n *\n * The elements are not cached, any effects required (i.e. opening files or sockets) are repeated for each cycle\n * @param stream\n */\nfunction repeat(stream) {\n    return concatL_(stream, function () { return repeat(stream); });\n}\nexports.repeat = repeat;\nfunction map_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outer) { return function (initial, cont, step) { return outer(initial, cont, function (s, a) { return step(s, f(a)); }); }; }));\n}\n/**\n * Map the elements of a stream\n * @param stream\n * @param f\n */\nfunction map(f) {\n    return function (stream) { return map_(stream, f); };\n}\nexports.map = map;\n/**\n * Map every element emitted by stream to b\n * @param stream\n * @param b\n */\nfunction as_(stream, b) {\n    return map_(stream, fp_ts_1[\"function\"].constant(b));\n}\nfunction as(b) {\n    return function (s) { return as_(s, b); };\n}\nexports.as = as;\n/**\n * Filter the elements of a stream by a predicate\n * @param stream\n * @param f\n */\nfunction filter_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outer) { return function (initial, cont, step) { return outer(initial, cont, function (s, a) { return (f(a) ? step(s, a) : T.pure(s)); }); }; }));\n}\nfunction filter(f) {\n    return function (s) { return filter_(s, f); };\n}\nexports.filter = filter;\n/**\n * Filter the stream so that only items that are not equal to the previous item emitted are emitted\n * @param eq\n */\nfunction distinctAdjacent_(stream, eq) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        var init = [initial, fp_ts_1.option.none];\n        var c = function (_a) {\n            var s = _a[0];\n            return cont(s);\n        };\n        function stp(current, next) {\n            return fp_ts_1.pipeable.pipe(current[1], fp_ts_1.option.fold(\n            // We haven't seen anything so just return\n            function () { return effect_1.effect.map(step(current[0], next), function (s) { return [s, fp_ts_1.option.some(next)]; }); }, function (seen) {\n                return eq.equals(seen, next)\n                    ? T.pure(current)\n                    : effect_1.effect.map(step(current[0], next), function (s) { return [s, fp_ts_1.option.some(next)]; });\n            }));\n        }\n        return effect_1.effect.map(base(init, c, stp), function (s) { return s[0]; });\n    }; }));\n}\nfunction distinctAdjacent(eq) {\n    return function (s) { return distinctAdjacent_(s, eq); };\n}\nexports.distinctAdjacent = distinctAdjacent;\n/**\n * Fold the elements of this stream together using an effect.\n *\n * The resulting stream will emit 1 element produced by the effectful fold\n * @param stream\n * @param f\n * @param seed\n */\nfunction foldM_(stream, f, seed) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return effect_1.effect.chain(base(seed, fp_ts_1[\"function\"].constant(true), f), function (result) { return step(initial, result); });\n        }\n        else {\n            return T.pure(initial);\n        }\n    }; }));\n}\nfunction foldM(seed, f) {\n    return function (s) { return foldM_(s, f, seed); };\n}\nexports.foldM = foldM;\n/**\n * Fold the elements of a stream together purely\n * @param stream\n * @param f\n * @param seed\n */\nfunction fold_(stream, f, seed) {\n    return foldM_(stream, function (b, a) { return T.pure(f(b, a)); }, seed);\n}\nfunction t2(a, b) {\n    return [a, b];\n}\nfunction fold(seed, f) {\n    return function (s) { return fold_(s, f, seed); };\n}\nexports.fold = fold;\n/**\n * Scan across the elements the stream.\n *\n * This is like foldM but emits every intermediate seed value in the resulting stream.\n * @param stream\n * @param f\n * @param seed\n */\nfunction scanM_(stream, f, seed) {\n    return concat_(once(seed), toS(fp_ts_1.pipeable.pipe(M.zip(fromS(stream), M.encaseEffect(ref.makeRef(seed))), M.map(function (_a) {\n        var base = _a[0], accum = _a[1];\n        function fold(initial, cont, step) {\n            /* istanbul ignore else */\n            if (cont(initial)) {\n                // We need to figure out how to drive the base fold for a single step\n                // Thus, we switch state from true to false on execution\n                return fp_ts_1.pipeable.pipe(accum.get, T.chain(function (b) {\n                    return base(t2(b, true), function (s) { return s[1]; }, function (s, a) { return effect_1.effect.map(f(s[0], a), function (r) { return t2(r, false); }); });\n                }), T.chain(\n                // If this is still true, we didn't consume anything so advance\n                function (s) {\n                    return s[1]\n                        ? T.pure(initial)\n                        : T.applySecond(accum.set(s[0]), effect_1.effect.chain(step(initial, s[0]), function (next) { return fold(next, cont, step); }));\n                }));\n            }\n            else {\n                return T.pure(initial);\n            }\n        }\n        return fold;\n    }))));\n}\nfunction scanM(seed, f) {\n    return function (s) { return scanM_(s, f, seed); };\n}\nexports.scanM = scanM;\n/**\n * Purely scan a stream\n * @param stream\n * @param f\n * @param seed\n */\nfunction scan_(stream, f, seed) {\n    return scanM_(stream, function (b, a) { return T.pure(f(b, a)); }, seed);\n}\nfunction scan(seed, f) {\n    return function (s) { return scan_(s, f, seed); };\n}\nexports.scan = scan;\nfunction chain_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outerfold) { return function (initial, cont, step) {\n        return outerfold(initial, cont, function (s, a) {\n            /* istanbul ignore next */\n            if (cont(s)) {\n                var inner = f(a);\n                return M.use(fromS(inner), function (innerfold) { return innerfold(s, cont, step); });\n            }\n            else {\n                return T.pure(s);\n            }\n        });\n    }; }));\n}\n/**\n * Monadic chain on a stream\n * @param stream\n * @param f\n */\nfunction chain(f) {\n    return function (stream) {\n        return toS(M.managed.map(fromS(stream), function (outerfold) { return function (initial, cont, step) {\n            return outerfold(initial, cont, function (s, a) {\n                /* istanbul ignore next */\n                if (cont(s)) {\n                    var inner = f(a);\n                    return M.use(fromS(inner), function (innerfold) { return innerfold(s, cont, step); });\n                }\n                else {\n                    return T.pure(s);\n                }\n            });\n        }; }));\n    };\n}\nexports.chain = chain;\n/**\n * Flatten a stream of streams\n * @param stream\n */\nfunction flatten(stream) {\n    return chain_(stream, fp_ts_1[\"function\"].identity);\n}\nexports.flatten = flatten;\n/**\n * Map each element of the stream effectfully\n * @param stream\n * @param f\n */\nfunction mapM_(stream, f) {\n    return chain_(stream, function (a) { return encaseEffect(f(a)); });\n}\nfunction mapM(f) {\n    return function (s) { return mapM_(s, f); };\n}\nexports.mapM = mapM;\n/**\n * A stream that emits no elements but never terminates.\n */\nexports.never = mapM_(once(undefined), fp_ts_1[\"function\"].constant(T.never));\n/**\n * Transduce a stream via a sink.\n *\n * This repeatedly run a sink to completion on the elements of the input stream and emits the result of each run\n * Leftovers from a previous run are fed to the next run\n *\n * @param stream\n * @param sink\n */\nfunction transduce_(stream, sink) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        function feedSink(foldState, sinkState, chunk) {\n            return effect_1.effect.chain(sink_1.stepMany(sink, sinkState, chunk), function (nextSinkStep) {\n                return step_1.isSinkCont(nextSinkStep)\n                    ? // We need to let more data in to drive the sink\n                        T.pure([foldState, nextSinkStep.state, true])\n                    : // We have a completion, so extract the value and then use it to advance the fold state\n                        fp_ts_1.pipeable.pipe(step_1.sinkStepState(nextSinkStep), sink.extract, T.chain(function (b) { return step(foldState, b); }), T.chain(function (nextFoldState) {\n                            var leftover = step_1.sinkStepLeftover(nextSinkStep);\n                            // We will re-initialize the sink\n                            return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (nextNextSinkState) {\n                                if (cont(nextFoldState) && leftover.length > 0) {\n                                    return feedSink(nextFoldState, nextNextSinkState.state, leftover);\n                                }\n                                else {\n                                    return T.pure([\n                                        nextFoldState,\n                                        nextNextSinkState.state,\n                                        false\n                                    ]);\n                                }\n                            }));\n                        }));\n            });\n        }\n        var derivedInitial = effect_1.effect.map(sink.initial, function (initSink) { return [initial, step_1.sinkStepState(initSink), false]; });\n        return fp_ts_1.pipeable.pipe(derivedInitial, T.chain(function (init) {\n            return base(init, function (s) { return cont(s[0]); }, function (s, a) { return feedSink(s[0], s[1], [a]); });\n        }), T.chain(function (_a) {\n            var foldState = _a[0], sinkState = _a[1], extract = _a[2];\n            return extract && cont(foldState)\n                ? effect_1.effect.chain(sink.extract(sinkState), function (b) { return step(foldState, b); })\n                : T.pure(foldState);\n        }));\n    }; }));\n}\nfunction transduce(sink) {\n    return function (s) { return transduce_(s, sink); };\n}\nexports.transduce = transduce;\n/**\n * Drop some number of elements from a stream\n *\n * Their effects to be produced still occur in the background\n * @param stream\n * @param n\n */\nfunction drop_(stream, n) {\n    return fp_ts_1.pipeable.pipe(zipWithIndex(stream), filter(function (_a) {\n        var _ = _a[0], i = _a[1];\n        return i >= n;\n    }), map(function (_a) {\n        var a = _a[0];\n        return a;\n    }));\n}\nfunction drop(n) {\n    return function (s) { return drop_(s, n); };\n}\nexports.drop = drop;\n/**\n * Take some number of elements of a stream\n * @param stream\n * @param n\n */\nfunction take_(stream, n) {\n    return toS(M.managed.map(fromS(stream), function (fold) { return function (initial, cont, step) {\n        return effect_1.effect.map(fold(t2(initial, 0), function (t2s) { return t2s[1] < n && cont(t2s[0]); }, function (s, a) { return effect_1.effect.map(step(s[0], a), function (next) { return t2(next, s[1] + 1); }); }), function (t2s) { return t2s[0]; });\n    }; }));\n}\nfunction take(n) {\n    return function (s) { return take_(s, n); };\n}\nexports.take = take;\n/**\n * Take elements of a stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction takeWhile_(stream, pred) {\n    return toS(M.managed.map(fromS(stream), function (fold) { return function (initial, cont, step) {\n        return effect_1.effect.map(fold(t2(initial, true), function (t2s) { return t2s[1] && cont(t2s[0]); }, function (s, a) {\n            return pred(a)\n                ? effect_1.effect.map(step(s[0], a), function (next) { return t2(next, true); })\n                : T.pure(t2(s[0], false));\n        }), function (t2s) { return t2s[0]; });\n    }; }));\n}\nfunction takeWhile(pred) {\n    return function (s) { return takeWhile_(s, pred); };\n}\nexports.takeWhile = takeWhile;\n/**\n * Take elements from a stream until a given effect resolves.\n *\n * @param until The effect that will terminate the stream\n * @param stream The stream\n */\nfunction takeUntil_(stream, until) {\n    var wrappedUntil = as({ type: \"until\" })(encaseEffect(until));\n    var wrappedStream = fp_ts_1.pipeable.pipe(stream, map(function (value) { return ({ type: \"stream\", value: value }); }));\n    return fp_ts_1.pipeable.pipe(mergeAll([wrappedUntil, wrappedStream]), takeWhile(function (wrapped) { return wrapped.type === \"stream\"; }), filter(function (wrapped) { return wrapped.type === \"stream\"; }), map(function (wrapped) { return wrapped.value; }));\n}\nfunction takeUntil(until) {\n    return function (s) { return takeUntil_(s, until); };\n}\nexports.takeUntil = takeUntil;\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param sink\n */\nfunction into_(stream, sink) {\n    return M.use(fromS(stream), function (fold) {\n        return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (init) { return fold(init, step_1.isSinkCont, function (s, a) { return sink.step(s.state, a); }); }), T.map(function (s) { return s.state; }), T.chain(sink.extract));\n    });\n}\nfunction into(sink) {\n    return function (s) { return into_(s, sink); };\n}\nexports.into = into;\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param managedSink\n */\nfunction intoManaged_(stream, managedSink) {\n    return M.use(managedSink, function (sink) { return into_(stream, sink); });\n}\nfunction intoManaged(managedSink) {\n    return function (s) { return intoManaged_(s, managedSink); };\n}\nexports.intoManaged = intoManaged;\n/**\n * Push a stream in a sink to produce the result and the leftover\n * @param stream\n * @param sink\n */\nfunction intoLeftover_(stream, sink) {\n    return M.use(stream, function (fold) {\n        return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (init) { return fold(init, step_1.isSinkCont, function (s, a) { return sink.step(s.state, a); }); }), T.chain(function (end) {\n            return effect_1.effect.map(sink.extract(end.state), function (b) { return [b, step_1.sinkStepLeftover(end)]; });\n        }));\n    });\n}\nfunction intoLeftover(sink) {\n    return function (s) { return intoLeftover_(s, sink); };\n}\nexports.intoLeftover = intoLeftover;\nfunction sinkQueue(stream) {\n    return M.managed.chain(M.zip(\n    // 0 allows maximum backpressure throttling (i.e. a reader must be waiting already to produce the item)\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), function (_a) {\n        var q = _a[0], latch = _a[1];\n        var write = effect_1.effect.foldExit(into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(q)), function (c) { return latch.cause(c); }, fp_ts_1[\"function\"].constant(q.offer(fp_ts_1.option.none)));\n        return M.as(M.fiber(write), [q, latch]);\n    });\n}\n/**\n * Zip two streams together termitating when either stream is exhausted\n * @param as\n * @param bs\n * @param f\n */\nfunction zipWith_(as, bs, f) {\n    var source = M.zipWith(sinkQueue(as), sinkQueue(bs), function (_a, _b) {\n        var aq = _a[0], alatch = _a[1];\n        var bq = _b[0], blatch = _b[1];\n        var atake = fp_ts_1.pipeable.pipe(aq.take, T.chainTap(function (opt) {\n            return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n            // Confirm we have seen the last element\n            function () { return alatch.done(fp_ts_1.option.none); }, function () { return T.unit; } // just keep going\n            ));\n        }));\n        var agrab = T.raceFirst(atake, alatch.wait);\n        var btake = fp_ts_1.pipeable.pipe(bq.take, T.chainTap(function (opt) {\n            return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n            // Confirm we have seen the last element\n            function () { return blatch.done(fp_ts_1.option.none); }, function () { return T.unit; } // just keep going\n            ));\n        }));\n        var bgrab = T.raceFirst(btake, blatch.wait);\n        return T.effect.zipWith(agrab, bgrab, function (aOpt, bOpt) {\n            return fp_ts_1.option.option.chain(aOpt, function (a) { return fp_ts_1.option.option.map(bOpt, function (b) { return f(a, b); }); });\n        });\n    });\n    return fromSource(source);\n}\nfunction zipWith(bs, f) {\n    return function (s) { return zipWith_(s, bs, f); };\n}\nexports.zipWith = zipWith;\n/**\n * zipWith to form tuples\n * @param as\n * @param bs\n */\nfunction zip_(as, bs) {\n    return zipWith_(as, bs, function (a, b) { return [a, b]; });\n}\nfunction zip(bs) {\n    return function (as) { return zip_(bs, as); };\n}\nexports.zip = zip;\n/**\n * Given a queue and a Deferred for signalling exits construct a Wave of a pull operation.\n * The protocol is that errors are propogated through the latch and the latch can be used to track completion.\n * Once a none is received through the queue, this read process completes the latch with none to to make the finish durable\n * in the face of repeated reads (which is important for peel)\n *\n * @param queue\n * @param breaker\n */\nfunction queueBreakerSource(queue, breaker) {\n    var take = fp_ts_1.pipeable.pipe(queue.take, T.chainTap(function (opt) {\n        return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n        // Confirm we have seen the last element by closing the breaker so subsequent reads see it\n        fp_ts_1[\"function\"].constant(breaker.done(fp_ts_1.option.none)), \n        // do nothing to the breaker if we got an element\n        fp_ts_1[\"function\"].constant(T.unit)));\n    }));\n    return T.raceFirst(take, breaker.wait);\n}\n/**\n * Construct a Source for a Stream.\n * During the scope of the Managed, Wave will repeatedly pull items from a queue being managed in the background\n * @param stream\n */\nfunction streamQueueSource(stream) {\n    return M.managed.map(sinkQueue(stream), function (_a) {\n        var q = _a[0], breaker = _a[1];\n        return queueBreakerSource(q, breaker);\n    });\n}\n/**\n * Feed a stream into a sink to produce a value.\n *\n * Emits the value and a 'remainder' stream that includes the rest of the elements of the input stream.\n * @param stream\n * @param sink\n */\nfunction peel_(stream, sink) {\n    return toS(M.managed.chain(streamQueueSource(stream), function (pull) {\n        var pullStream = fromSource(M.pure(pull));\n        // We now have a shared pull instantiation that we can use as a sink to drive and return as a stream\n        return fromS(fp_ts_1.pipeable.pipe(encaseEffect(intoLeftover_(pullStream, sink)), map(function (_a) {\n            var b = _a[0], left = _a[1];\n            return [b, concat_(fromArray(left), pullStream)];\n        })));\n    }));\n}\nfunction peel(sink) {\n    return function (s) { return peel_(s, sink); };\n}\nexports.peel = peel;\nfunction peelManaged_(stream, managedSink) {\n    return toS(M.managed.chain(managedSink, function (sink) { return fromS(peel_(stream, sink)); }));\n}\nfunction peelManaged(managedSink) {\n    return function (s) { return peelManaged_(s, managedSink); };\n}\nexports.peelManaged = peelManaged;\nfunction interruptFiberSlot(slot) {\n    return effect_1.effect.chain(slot.get, function (optFiber) {\n        return fp_ts_1.pipeable.pipe(optFiber, fp_ts_1.option.fold(function () { return T.pure(fp_ts_1.option.none); }, function (f) { return T.effect.map(f.interrupt, fp_ts_1.option.some); }));\n    });\n}\nfunction waitFiberSlot(slot) {\n    return effect_1.effect.chain(slot.get, function (optFiber) {\n        return fp_ts_1.pipeable.pipe(optFiber, fp_ts_1.option.fold(function () { return T.pure(undefined); }, function (f) { return T.asUnit(f.wait); }));\n    });\n}\nfunction singleFiberSlot() {\n    return M.bracket(ref.makeRef(fp_ts_1.option.none), interruptFiberSlot);\n}\n/**\n * Create a stream that switches to emitting elements of the most recent input stream.\n * @param stream\n */\nfunction switchLatest(stream) {\n    var source = M.managed.chain(streamQueueSource(stream), function (pull // read streams\n    ) {\n        return M.managed.chain(M.zip(\n        // The queue and latch to push into\n        M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), function (_a) {\n            var pushQueue = _a[0], pushBreaker = _a[1];\n            // The internal latch that can be used to signal failures and shut down the read process\n            return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (internalBreaker) {\n                // somewhere to hold the currently running fiber so we can interrupt it on termination\n                return M.managed.chain(singleFiberSlot(), function (fiberSlot) {\n                    var interruptPushFiber = interruptFiberSlot(fiberSlot);\n                    // Spawn a fiber that should push elements from stream into pushQueue as long as it is able\n                    function spawnPushFiber(stream) {\n                        var writer = fp_ts_1.pipeable.pipe(\n                        // The writer process pushes things into the queue\n                        into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(pushQueue)), \n                        // We need to trap any errors that occur and send those to internal latch to halt the process\n                        // Dont' worry about interrupts, because we perform cleanups for single fiber slot\n                        T.foldExit(function (e) { return internalBreaker.done(e); }, fp_ts_1[\"function\"].constant(T.pure(undefined)) // we can do nothing because we will delegate to the proxy\n                        ));\n                        return T.applyFirst(interruptPushFiber, effect_1.effect.chain(T.fork(writer), function (f) { return fiberSlot.set(fp_ts_1.option.some(f)); }));\n                    }\n                    // pull streams and setup the push fibers appropriately\n                    function advanceStreams() {\n                        // We need a way of looking ahead to see errors in the output streams in order to cause termination\n                        // The push fiber will generate this when it encounters a failure\n                        var breakerError = effect_1.effect.chain(internalBreaker.wait, T.raised);\n                        return effect_1.effect.foldExit(T.raceFirst(pull, breakerError), \n                        // In the event of an error either from pull or from upstream we need to shut everything down\n                        // On managed unwind the active production fiber will be interrupted if there is one\n                        function (cause) { return pushBreaker.cause(cause); }, function (nextOpt) {\n                            return fp_ts_1.pipeable.pipe(nextOpt, fp_ts_1.option.fold(\n                            // nothing left, so we should wait the push fiber's completion and then forward the termination\n                            function () {\n                                return fp_ts_1.pipeable.pipe(T.race(breakerError, waitFiberSlot(fiberSlot)), T.foldExit(function (c) { return pushBreaker.cause(c); }, // if we get a latchError forward it through to downstream\n                                fp_ts_1[\"function\"].constant(pushQueue.offer(fp_ts_1.option.none)) // otherwise we are done, so lets forward that\n                                ));\n                            }, function (next) { return T.applySecondL(spawnPushFiber(next), advanceStreams); }));\n                        });\n                    }\n                    // We can configure this source now, but it will be invalid outside of running fibers\n                    // Thus we can use managed.fiber\n                    var downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n                    return M.as(M.fiber(advanceStreams()), downstreamSource);\n                });\n            });\n        });\n    });\n    return fromSource(source);\n}\nexports.switchLatest = switchLatest;\n/**\n * Create a stream that switches to emitting the elements of the most recent stream produced by applying f to the\n * element most recently emitted\n * @param stream\n * @param f\n */\n/* istanbul ignore next */\nfunction chainSwitchLatest_(stream, f) {\n    return switchLatest(map_(stream, f));\n}\n/* istanbul ignore next */\nfunction chainSwitchLatest(f) {\n    return function (s) { return chainSwitchLatest_(s, f); };\n}\nexports.chainSwitchLatest = chainSwitchLatest;\nfunction interruptWeaveHandles(ref) {\n    return effect_1.effect.chain(ref.get, function (fibers) {\n        return T.asUnit(fp_ts_1.array.array.traverse(T.effect)(fibers, function (fiber) { return fiber[1].interrupt; }));\n    });\n}\n// Track many fibers for the purpose of clean interruption on failure\nvar makeWeave = M.managed.chain(M.encaseEffect(ref.makeRef(0)), function (cell) {\n    // On cleanup we want to interrupt any running fibers\n    return M.managed.map(M.bracket(ref.makeRef([]), interruptWeaveHandles), function (store) {\n        function attach(action) {\n            return fp_ts_1.pipeable.pipe(fp_ts_1.apply.sequenceS(T.effect)({\n                next: cell.update(function (n) { return n + 1; }),\n                fiber: T.fork(action)\n            }), T.chainTap(function (_a) {\n                var next = _a.next, fiber = _a.fiber;\n                return store.update(function (handles) { return __spreadArrays(handles, [[next, fiber]]); });\n            }), T.chainTap(function (_a) {\n                var next = _a.next, fiber = _a.fiber;\n                return T.fork(T.applySecond(fiber.wait, store.update(fp_ts_1.array.filter(function (h) { return h[0] !== next; }))));\n            }), T.asUnit);\n        }\n        return { attach: attach };\n    });\n});\n/**\n * Merge a stream of streams into a single stream.\n *\n * This stream will run up to maxActive streams concurrently to produce values into the output stream.\n * @param stream the input stream\n * @param maxActive the maximum number of streams to hold active at any given time\n * this controls how much active streams are able to collectively produce in the face of a slow downstream consumer\n */\nfunction merge_(stream, maxActive) {\n    var source = M.managed.chain(streamQueueSource(stream), function (pull) {\n        return M.managed.chain(M.encaseEffect(semaphore.makeSemaphore(maxActive)), function (sem) {\n            // create the queue that output will be forced into\n            return M.managed.chain(M.encaseEffect(cq.boundedQueue(0)), function (pushQueue) {\n                // create the mechanism t hrough which we can signal completion\n                return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (pushBreaker) {\n                    return M.managed.chain(makeWeave, function (weave) {\n                        return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (internalBreaker) {\n                            // create a wave action that will proxy elements created by running the stream into the push queue\n                            // if any errors occur, we set the breaker\n                            function spawnPushFiber(stream) {\n                                var writer = fp_ts_1.pipeable.pipe(\n                                // Process to sink elements into the queue\n                                into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(pushQueue)), \n                                // TODO: I don't think we need to handle interrupts, it shouldn't be possible\n                                T.foldExit(function (e) { return internalBreaker.done(e); }, fp_ts_1[\"function\"].constant(T.pure(undefined))));\n                                return weave.attach(sem.withPermit(writer)); // we need a permit to start\n                            }\n                            // The action that will pull a single stream upstream and attempt to activate it to push downstream\n                            function advanceStreams() {\n                                var breakerError = effect_1.effect.chain(internalBreaker.wait, T.raised);\n                                return effect_1.effect.foldExit(T.raceFirst(pull, // we don't want to pull until there is capacity\n                                breakerError), function (c) { return pushBreaker.cause(c); }, // if upstream errored, we should push the failure downstream immediately\n                                function (nextOpt // otherwise we should\n                                ) {\n                                    return fp_ts_1.pipeable.pipe(nextOpt, fp_ts_1.option.fold(\n                                    // The end has occured\n                                    fp_ts_1[\"function\"].constant(fp_ts_1.pipeable.pipe(\n                                    // We will wait for an error or all active produces to finish\n                                    T.race(breakerError, sem.acquireN(maxActive)), T.foldExit(function (c) { return pushBreaker.cause(c); }, fp_ts_1[\"function\"].constant(pushQueue.offer(fp_ts_1.option.none))))), \n                                    // Start the push fiber and then keep going\n                                    function (next) {\n                                        return T.applySecondL(sem.withPermit(spawnPushFiber(next)), fp_ts_1[\"function\"].constant(advanceStreams()));\n                                    }));\n                                });\n                            }\n                            var downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n                            return M.as(M.fiber(advanceStreams()), downstreamSource);\n                        });\n                    });\n                });\n            });\n        });\n    });\n    return fromSource(source);\n}\nfunction merge(maxActive) {\n    return function (stream) {\n        return merge_(stream, maxActive);\n    };\n}\nexports.merge = merge;\nfunction chainMerge_(stream, f, maxActive) {\n    return merge_(map_(stream, f), maxActive);\n}\nfunction chainMerge(maxActive, f) {\n    return function (s) { return chainMerge_(s, f, maxActive); };\n}\nexports.chainMerge = chainMerge;\nfunction mergeAll(streams) {\n    return merge_(fromArray(streams), streams.length);\n}\nexports.mergeAll = mergeAll;\n/**\n * Drop elements of the stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction dropWhile_(stream, pred) {\n    return chain_(peel_(stream, sink_1.drainWhileSink(pred)), function (_a) {\n        var head = _a[0], rest = _a[1];\n        return concat_(fromOption(head), rest);\n    });\n}\nfunction dropWhile(pred) {\n    return function (s) { return dropWhile_(s, pred); };\n}\nexports.dropWhile = dropWhile;\n/**\n * Collect all the elements emitted by a stream into an array.\n * @param stream\n */\nfunction collectArray(stream) {\n    return into_(stream, sink_1.collectArraySink());\n}\nexports.collectArray = collectArray;\n/**\n * Evaluate a stream for its effects\n * @param stream\n */\nfunction drain(stream) {\n    return into_(stream, sink_1.drainSink());\n}\nexports.drain = drain;\nexports.URI = \"matechs/Stream\";\nexports.stream = {\n    URI: exports.URI,\n    _CTX: \"async\",\n    map: map_,\n    of: function (a) { return once(a); },\n    ap: function (sfab, sa) { return zipWith_(sfab, sa, function (f, a) { return f(a); }); },\n    chain: chain_,\n    as: as_,\n    chainMerge: chainMerge_,\n    chainSwitchLatest: chainSwitchLatest_,\n    concat: concat_,\n    concatL: concatL_,\n    distinctAdjacent: distinctAdjacent_,\n    drop: drop_,\n    dropWhile: dropWhile_,\n    filter: filter_,\n    fold: fold_,\n    foldM: foldM_,\n    into: into_,\n    intoLeftover: intoLeftover_,\n    intoManaged: intoManaged_,\n    mapM: mapM_,\n    merge: merge_,\n    peel: peel_,\n    peelManaged: peelManaged_,\n    scan: scan_,\n    scanM: scanM_,\n    take: take_,\n    takeWhile: takeWhile_,\n    takeUntil: takeUntil_,\n    transduce: transduce_,\n    zip: zip_,\n    zipWith: zipWith_\n};\n/* extensions */\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStream(stream) {\n    return M.managed.chain(M.encaseEffect(T.sync(function () {\n        var _a = su.queueUtils(), next = _a.next, ops = _a.ops, hasCB = _a.hasCB;\n        stream.on(\"end\", function () {\n            next({ _tag: \"complete\" });\n        });\n        stream.on(\"error\", function (e) {\n            next({ _tag: \"error\", e: fp_ts_1.either.toError(e) });\n        });\n        stream.pipe(new stream_1.Writable({\n            objectMode: true,\n            write: function (chunk, _, callback) {\n                next({ _tag: \"offer\", a: chunk });\n                callback();\n            }\n        }));\n        return { ops: ops, hasCB: hasCB };\n    })), function (_a) {\n        var hasCB = _a.hasCB, ops = _a.ops;\n        return su.emitter(ops, hasCB);\n    });\n}\n/* istanbul ignore next */\nfunction fromObjectReadStream(stream) {\n    return fromSource(getSourceFromObjectReadStream(stream));\n}\nexports.fromObjectReadStream = fromObjectReadStream;\n// TODO: generalize this to batch over generic stream\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStreamB(stream, batch, every) {\n    return M.encaseEffect(T.sync(function () {\n        var open = true;\n        var leftover = [];\n        var errors = [];\n        stream.on(\"end\", function () {\n            open = false;\n        });\n        stream.on(\"error\", function (e) {\n            errors.push(e);\n        });\n        stream.pipe(new stream_1.Writable({\n            objectMode: true,\n            write: function (chunk, _, callback) {\n                leftover.push(chunk);\n                callback();\n            }\n        }));\n        return T.delay(T.async(function (res) {\n            if (leftover.length > 0) {\n                res(fp_ts_1.either.right(fp_ts_1.option.some(leftover.splice(0, batch))));\n            }\n            else {\n                if (errors.length > 0) {\n                    res(fp_ts_1.either.left(errors[0]));\n                }\n                else {\n                    if (open) {\n                        res(fp_ts_1.either.right(fp_ts_1.option.some([])));\n                    }\n                    else {\n                        res(fp_ts_1.either.right(fp_ts_1.option.none));\n                    }\n                }\n            }\n            // tslint:disable-next-line: no-empty\n            return function (cb) {\n                cb();\n            };\n        }), every);\n    }));\n}\n/* istanbul ignore next */\nfunction fromObjectReadStreamB(stream, batch, every) {\n    return fromSource(getSourceFromObjectReadStreamB(stream, batch, every));\n}\nexports.fromObjectReadStreamB = fromObjectReadStreamB;\nexports.Do = function () { return Do_1.Do(exports.stream); };\nexports.sequenceS = Apply_1.sequenceS(exports.stream);\nexports.sequenceT = Apply_1.sequenceT(exports.stream);\nexports.sequenceOption = fp_ts_1.option.option.sequence(exports.stream);\nexports.traverseOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.traverse(exports.stream)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return fp_ts_1.option.option.wilt(exports.stream)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.wither(exports.stream)(ta, f);\n}; };\nexports.sequenceEither = fp_ts_1.either.either.sequence(exports.stream);\nexports.traverseEither = function (f) { return function (ta) {\n    return fp_ts_1.either.either.traverse(exports.stream)(ta, f);\n}; };\nexports.sequenceTree = fp_ts_1.tree.tree.sequence(exports.stream);\nexports.traverseTree = function (f) { return function (ta) { return fp_ts_1.tree.tree.traverse(exports.stream)(ta, f); }; };\nexports.sequenceArray = fp_ts_1.array.array.sequence(exports.stream);\nexports.traverseArray = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.stream)(ta, f); }; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.stream)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.stream)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.stream)(ta, f); }; };\nexports.sequenceRecord = fp_ts_1.record.record.sequence(exports.stream);\nexports.traverseRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.stream)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.stream)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.stream)(wa, f); }; };\nexports.witherRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.stream)(ta, f);\n}; };\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nvar listc_1 = require(\"../listc\");\nvar RuntimeImpl = /** @class */ (function () {\n    function RuntimeImpl() {\n        var _this = this;\n        this.running = false;\n        this.array = new listc_1.LinkedList();\n        this.isRunning = function () { return _this.running; };\n    }\n    RuntimeImpl.prototype.run = function () {\n        var _a, _b;\n        this.running = true;\n        var next = (_a = this.array.deleteHead()) === null || _a === void 0 ? void 0 : _a.value;\n        while (next) {\n            next[0](next[1]);\n            next = (_b = this.array.deleteHead()) === null || _b === void 0 ? void 0 : _b.value;\n        }\n        this.running = false;\n    };\n    RuntimeImpl.prototype.dispatch = function (thunk, a) {\n        this.array.append([thunk, a]);\n        if (!this.running) {\n            this.run();\n        }\n    };\n    RuntimeImpl.prototype.dispatchLater = function (thunk, a, ms) {\n        var _this = this;\n        var handle = setTimeout(function () { return _this.dispatch(thunk, a); }, ms);\n        return function (cb) {\n            clearTimeout(handle);\n            cb();\n        };\n    };\n    return RuntimeImpl;\n}());\nexports.defaultRuntime = new RuntimeImpl();\n","\"use strict\";\n/* istanbul ignore file */\nexports.__esModule = true;\nvar LinkedListNode = /** @class */ (function () {\n    function LinkedListNode(value, next) {\n        if (next === void 0) { next = null; }\n        this.value = value;\n        this.next = next;\n    }\n    return LinkedListNode;\n}());\nexports.LinkedListNode = LinkedListNode;\nvar LinkedList = /** @class */ (function () {\n    function LinkedList(head, tail) {\n        if (head === void 0) { head = null; }\n        if (tail === void 0) { tail = null; }\n        this.head = head;\n        this.tail = tail;\n        this.head = null;\n        this.tail = null;\n    }\n    LinkedList.prototype.empty = function () {\n        return this.head === null;\n    };\n    LinkedList.prototype.prepend = function (value) {\n        var newNode = new LinkedListNode(value, this.head);\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    };\n    LinkedList.prototype.append = function (value) {\n        var newNode = new LinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        this.tail = newNode;\n        return this;\n    };\n    LinkedList.prototype.deleteHead = function () {\n        if (!this.head) {\n            return null;\n        }\n        var deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    };\n    return LinkedList;\n}());\nexports.LinkedList = LinkedList;\nvar DoublyLinkedListNode = /** @class */ (function () {\n    function DoublyLinkedListNode(value, next, previous) {\n        if (next === void 0) { next = null; }\n        if (previous === void 0) { previous = null; }\n        this.value = value;\n        this.next = next;\n        this.previous = previous;\n    }\n    return DoublyLinkedListNode;\n}());\nexports.DoublyLinkedListNode = DoublyLinkedListNode;\nvar DoublyLinkedList = /** @class */ (function () {\n    function DoublyLinkedList(head, tail) {\n        if (head === void 0) { head = null; }\n        if (tail === void 0) { tail = null; }\n        this.head = head;\n        this.tail = tail;\n    }\n    DoublyLinkedList.prototype.prepend = function (value) {\n        var newNode = new DoublyLinkedListNode(value, this.head);\n        if (this.head) {\n            this.head.previous = newNode;\n        }\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    };\n    DoublyLinkedList.prototype.append = function (value) {\n        var newNode = new DoublyLinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        newNode.previous = this.tail;\n        this.tail = newNode;\n        return this;\n    };\n    DoublyLinkedList.prototype.deleteTail = function () {\n        if (!this.tail) {\n            return null;\n        }\n        if (this.head === this.tail) {\n            var deletedTail_1 = this.tail;\n            this.head = null;\n            this.tail = null;\n            return deletedTail_1;\n        }\n        var deletedTail = this.tail;\n        this.tail = this.tail.previous;\n        this.tail.next = null;\n        return deletedTail;\n    };\n    DoublyLinkedList.prototype.deleteHead = function () {\n        if (!this.head) {\n            return null;\n        }\n        var deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n            this.head.previous = null;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    };\n    DoublyLinkedList.prototype.empty = function () {\n        return this.head === null;\n    };\n    return DoublyLinkedList;\n}());\nexports.DoublyLinkedList = DoublyLinkedList;\n","\"use strict\";\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nfunction singleNode(a) {\n    var l = { a: a, prev: null, next: null };\n    l.prev = l;\n    l.next = l;\n    return l;\n}\n/**\n * Push an Elem at the end of the List\n */\nfunction push(list, a) {\n    if (isNotEmpty(list)) {\n        var last_1 = list.last;\n        var first = list.first;\n        var newLast = { a: a, next: first, prev: last_1 };\n        last_1.next = newLast;\n        first.prev = newLast;\n        list.last = newLast;\n    }\n    else {\n        var l = singleNode(a);\n        list.first = l;\n        list.last = l;\n    }\n}\nexports.push = push;\n/**\n * Creates an empty List\n */\nfunction empty() {\n    return { first: null, last: null };\n}\nexports.empty = empty;\n/**\n * Indicates if a List is a singleton\n */\nfunction isSingleton(list) {\n    return list.first === list.last && isNotEmpty(list);\n}\n/**\n * Indicates if a List is not empty\n */\nfunction isNotEmpty(list) {\n    return list.first !== null;\n}\nexports.isNotEmpty = isNotEmpty;\n/**\n * Pops the first element of a List (A | null)\n */\nfunction popUnsafe(list) {\n    var first = list.first;\n    if (first) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            first.next.prev = first.prev;\n            first.prev.next = first.next;\n            list.first = first.next;\n        }\n        return first.a;\n    }\n    else {\n        return null;\n    }\n}\nexports.popUnsafe = popUnsafe;\n/**\n * Pops the first element of a List (A | null)\n */\nfunction popLastUnsafe(list) {\n    var last = list.last;\n    if (last) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            last.prev.next = last.next;\n            last.next.prev = last.prev;\n            list.last = last.prev;\n        }\n        return last.a;\n    }\n    else {\n        return null;\n    }\n}\nexports.popLastUnsafe = popLastUnsafe;\n/**\n * Pops the first element of a List Option<A>\n */\nfunction pop(list) {\n    return fp_ts_1.option.fromNullable(popUnsafe(list));\n}\nexports.pop = pop;\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nfunction headUnsafe(list) {\n    return list.first !== null ? list.first.a : null;\n}\nexports.headUnsafe = headUnsafe;\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nfunction head(list) {\n    return fp_ts_1.option.fromNullable(headUnsafe(list));\n}\nexports.head = head;\n/**\n * Gets the last element of the List as A |null (does not change the List)\n */\nfunction lastUnsafe(list) {\n    return list.last !== null ? list.last.a : null;\n}\nexports.lastUnsafe = lastUnsafe;\n/**\n * Gets the last element of the List as Option<A> (does not change the List)\n */\nfunction last(list) {\n    return fp_ts_1.option.fromNullable(lastUnsafe(list));\n}\nexports.last = last;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Eq';\n/**\n * @since 2.0.0\n */\nfunction fromEquals(equals) {\n    return {\n        equals: function (x, y) { return x === y || equals(x, y); }\n    };\n}\nexports.fromEquals = fromEquals;\n/**\n * @since 2.5.0\n */\nexports.eqStrict = {\n    // tslint:disable-next-line: deprecation\n    equals: strictEqual\n};\n/**\n * Use `eqStrict` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nfunction strictEqual(a, b) {\n    return a === b;\n}\nexports.strictEqual = strictEqual;\n/**\n * @since 2.0.0\n */\nexports.eqString = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nexports.eqNumber = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nexports.eqBoolean = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nfunction getStructEq(eqs) {\n    return fromEquals(function (x, y) {\n        for (var k in eqs) {\n            if (!eqs[k].equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\nexports.getStructEq = getStructEq;\n/**\n * Given a tuple of `Eq`s returns a `Eq` for the tuple\n *\n * @example\n * import { getTupleEq, eqString, eqNumber, eqBoolean } from 'fp-ts/lib/Eq'\n *\n * const E = getTupleEq(eqString, eqNumber, eqBoolean)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, true]), true)\n * assert.strictEqual(E.equals(['a', 1, true], ['b', 1, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 2, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, false]), false)\n *\n * @since 2.0.0\n */\nfunction getTupleEq() {\n    var eqs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        eqs[_i] = arguments[_i];\n    }\n    return fromEquals(function (x, y) { return eqs.every(function (E, i) { return E.equals(x[i], y[i]); }); });\n}\nexports.getTupleEq = getTupleEq;\n/**\n * @since 2.0.0\n */\nexports.eq = {\n    URI: exports.URI,\n    contramap: function (fa, f) { return fromEquals(function (x, y) { return fa.equals(f(x), f(y)); }); }\n};\nvar contramap = pipeable_1.pipeable(exports.eq).contramap;\nexports.contramap = contramap;\n/**\n * @since 2.0.0\n */\nexports.eqDate = exports.eq.contramap(exports.eqNumber, function (date) { return date.valueOf(); });\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/queue.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar deferred_1 = require(\"./deferred\");\nvar ref_1 = require(\"./ref\");\nvar sanity_1 = require(\"./sanity\");\nvar semaphore_1 = require(\"./semaphore\");\nvar dequeue_1 = require(\"./original/support/dequeue\");\nvar ticket_1 = require(\"./ticket\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar initial = function () { return fp_ts_1.either.right(dequeue_1.empty()); };\nvar poption = fp_ts_1.pipeable.pipeable(fp_ts_1.option.option);\nvar unboundedOffer = function (queue, a) { return queue.offer(a); };\n// TODO: Need a better way of checking for this\n// Possibly predicates that allow testing if the queue is at least of some size\nvar slidingOffer = function (n) { return function (queue, a) {\n    return queue.size() >= n\n        ? fp_ts_1.pipeable.pipe(queue.take(), poption.map(function (t) { return t[1]; }), fp_ts_1.option.getOrElse(function () { return queue; })).offer(a)\n        : queue.offer(a);\n}; };\nvar droppingOffer = function (n) { return function (queue, a) {\n    return queue.size() >= n ? queue : queue.offer(a);\n}; };\nfunction makeConcurrentQueueImpl(state, factory, overflowStrategy, \n// This is effect that precedes offering\n// in the case of a boudned queue it is responsible for acquiring the semaphore\nofferGate, \n// This is the function that wraps the constructed take IO action\n// In the case of a bounded queue, it is responsible for releasing the\n// semaphore and re-acquiring it on interrupt\ntakeGate) {\n    function cleanupLatch(latch) {\n        return T.asUnit(state.update(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) { return fp_ts_1.either.left(waiting.filter(function (item) { return item !== latch; })); }, function (available) { return fp_ts_1.either.right(available); }));\n        }));\n    }\n    var take = takeGate(T.bracketExit(effect_1.effect.chain(factory, function (latch) {\n        return state.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return [\n                    ticket_1.makeTicket(latch.wait, cleanupLatch(latch)),\n                    fp_ts_1.either.left(waiting.offer(latch))\n                ];\n            }, function (ready) {\n                return fp_ts_1.pipeable.pipe(ready.take(), poption.map(function (_a) {\n                    var next = _a[0], q = _a[1];\n                    return [ticket_1.makeTicket(T.pure(next), T.unit), fp_ts_1.either.right(q)];\n                }), fp_ts_1.option.getOrElse(function () {\n                    return [\n                        ticket_1.makeTicket(latch.wait, cleanupLatch(latch)),\n                        fp_ts_1.either.left(dequeue_1.of(latch))\n                    ];\n                }));\n            }));\n        });\n    }), ticket_1.ticketExit, ticket_1.ticketUse));\n    var offer = function (a) {\n        return T.applySecond(offerGate, T.uninterruptible(T.flatten(state.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return fp_ts_1.pipeable.pipe(waiting.take(), poption.map(function (_a) {\n                    var next = _a[0], q = _a[1];\n                    return [next.done(a), fp_ts_1.either.left(q)];\n                }), fp_ts_1.option.getOrElse(function () { return [T.unit, fp_ts_1.either.right(overflowStrategy(dequeue_1.empty(), a))]; }));\n            }, function (available) {\n                return [T.unit, fp_ts_1.either.right(overflowStrategy(available, a))];\n            }));\n        }))));\n    };\n    return {\n        take: take,\n        offer: offer\n    };\n}\n/**\n * Create an unbounded concurrent queue\n */\nfunction unboundedQueue() {\n    return effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), unboundedOffer, T.unit, fp_ts_1[\"function\"].identity);\n    });\n}\nexports.unboundedQueue = unboundedQueue;\nvar natCapacity = sanity_1.natNumber(new Error(\"Die: capacity must be a natural number\"));\n/**\n * Create a bounded queue with the given capacity that drops older offers\n * @param capacity\n */\nfunction slidingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), slidingOffer(capacity), T.unit, fp_ts_1[\"function\"].identity);\n    }));\n}\nexports.slidingQueue = slidingQueue;\n/**\n * Create a dropping queue with the given capacity that drops offers on full\n * @param capacity\n */\nfunction droppingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), droppingOffer(capacity), T.unit, fp_ts_1[\"function\"].identity);\n    }));\n}\nexports.droppingQueue = droppingQueue;\n/**\n * Create a bounded queue that blocks offers on capacity\n * @param capacity\n */\nfunction boundedQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), T.effect.zipWith(ref_1.makeRef(initial()), semaphore_1.makeSemaphore(capacity), function (ref, sem) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), unboundedOffer, sem.acquire, function (inner) {\n            // Before take, we must release the semaphore. If we are interrupted we should re-acquire the item\n            return T.bracketExit(sem.release, function (_, exit) { return (exit._tag === \"Interrupt\" ? sem.acquire : T.unit); }, function () { return inner; });\n        });\n    }));\n}\nexports.boundedQueue = boundedQueue;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/semaphore.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar dequeue_1 = require(\"./original/support/dequeue\");\nvar deferred_1 = require(\"./deferred\");\nvar ref_1 = require(\"./ref\");\nvar ticket_1 = require(\"./ticket\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar isReservationFor = function (latch) { return function (rsv) { return rsv[1] === latch; }; };\nfunction sanityCheck(n) {\n    if (n < 0) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits must be non negative\"));\n    }\n    if (Math.round(n) !== n) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits may not be fractional\"));\n    }\n    return T.unit;\n}\nfunction makeSemaphoreImpl(ref) {\n    var releaseN = function (n) {\n        return T.applySecond(sanityCheck(n), T.uninterruptible(n === 0\n            ? T.unit\n            : T.flatten(ref.modify(function (current) {\n                return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                    return fp_ts_1.pipeable.pipe(waiting.take(), fp_ts_1.option.fold(function () { return [T.unit, fp_ts_1.either.right(n)]; }, function (_a) {\n                        var _b = _a[0], needed = _b[0], latch = _b[1], q = _a[1];\n                        return n >= needed\n                            ? [\n                                T.applyFirst(latch.done(undefined), n > needed ? releaseN(n - needed) : T.unit),\n                                fp_ts_1.either.left(q)\n                            ]\n                            : [T.unit, fp_ts_1.either.left(q.push([needed - n, latch]))];\n                    }));\n                }, function (ready) { return [T.unit, fp_ts_1.either.right(ready + n)]; }));\n            }))));\n    };\n    var cancelWait = function (n, latch) {\n        return T.uninterruptible(T.flatten(ref.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return fp_ts_1.pipeable.pipe(waiting.find(isReservationFor(latch)), fp_ts_1.option.fold(function () { return [releaseN(n), fp_ts_1.either.left(waiting)]; }, function (_a) {\n                    var pending = _a[0];\n                    return [\n                        releaseN(n - pending),\n                        fp_ts_1.either.left(waiting.filter(fp_ts_1[\"function\"].not(isReservationFor(latch))))\n                    ];\n                }));\n            }, function (ready) { return [T.unit, fp_ts_1.either.right(ready + n)]; }));\n        })));\n    };\n    var ticketN = function (n) {\n        return effect_1.effect.chain(deferred_1.makeDeferred(), function (latch) {\n            return ref.modify(function (current) {\n                return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                    return [\n                        ticket_1.makeTicket(latch.wait, cancelWait(n, latch)),\n                        fp_ts_1.either.left(waiting.offer([n, latch]))\n                    ];\n                }, function (ready) {\n                    return ready >= n\n                        ? [ticket_1.makeTicket(T.unit, releaseN(n)), fp_ts_1.either.right(ready - n)]\n                        : [\n                            ticket_1.makeTicket(latch.wait, cancelWait(n, latch)),\n                            fp_ts_1.either.left(dequeue_1.empty().offer([n - ready, latch]))\n                        ];\n                }));\n            });\n        });\n    };\n    var acquireN = function (n) {\n        return T.applySecond(sanityCheck(n), n === 0 ? T.unit : T.bracketExit(ticketN(n), ticket_1.ticketExit, ticket_1.ticketUse));\n    };\n    var withPermitsN = function (n, inner) {\n        var acquire = T.interruptible(acquireN(n));\n        var release = releaseN(n);\n        return T.bracket(acquire, fp_ts_1[\"function\"].constant(release), function () { return inner; });\n    };\n    var available = effect_1.effect.map(ref.get, fp_ts_1.either.fold(function (q) { return -1 * q.size(); }, fp_ts_1[\"function\"].identity));\n    return {\n        acquireN: acquireN,\n        acquire: acquireN(1),\n        releaseN: releaseN,\n        release: releaseN(1),\n        withPermitsN: withPermitsN,\n        withPermit: function (inner) { return withPermitsN(1, inner); },\n        available: available\n    };\n}\n/**\n * Allocate a semaphore.\n *\n * @param n the number of permits\n * This must be non-negative\n */\nfunction makeSemaphore(n) {\n    return T.applySecond(sanityCheck(n), effect_1.effect.map(ref_1.makeRef(fp_ts_1.either.right(n)), makeSemaphoreImpl));\n}\nexports.makeSemaphore = makeSemaphore;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nvar l = __importStar(require(\"./list\"));\nvar list_1 = require(\"./list\");\nvar DequeueImpl = /** @class */ (function () {\n    function DequeueImpl(front, back) {\n        this.front = front;\n        this.back = back;\n    }\n    DequeueImpl.prototype.take = function () {\n        var _this = this;\n        return l.cata(this.front, function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(t, _this.back)]); }, function () {\n            return fp_ts_1.pipeable.pipe(_this.back, l.reverse, l.catac(function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(t, list_1.nil)]); }, function () { return fp_ts_1.option.none; }));\n        });\n    };\n    DequeueImpl.prototype.offer = function (a) {\n        return new DequeueImpl(this.front, list_1.cons(a, this.back));\n    };\n    DequeueImpl.prototype.pull = function () {\n        var _this = this;\n        return l.cata(this.back, function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(_this.front, t)]); }, function () {\n            return fp_ts_1.pipeable.pipe(_this.front, l.reverse, l.catac(function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(list_1.nil, t)]); }, function () { return fp_ts_1.option.none; }));\n        });\n    };\n    DequeueImpl.prototype.push = function (a) {\n        return new DequeueImpl(list_1.cons(a, this.front), this.back);\n    };\n    DequeueImpl.prototype.filter = function (p) {\n        return new DequeueImpl(l.filter(this.front, p), l.filter(this.back, p));\n    };\n    DequeueImpl.prototype.size = function () {\n        return l.size(this.front) + l.size(this.back);\n    };\n    DequeueImpl.prototype.isEmpty = function () {\n        return l.isEmpty(this.front) && l.isEmpty(this.back);\n    };\n    DequeueImpl.prototype.find = function (p) {\n        var _this = this;\n        return fp_ts_1.option.option.alt(l.find(this.front, p), function () { return l.find(_this.back, p); });\n    };\n    return DequeueImpl;\n}());\nfunction from(front, back) {\n    return new DequeueImpl(front, back);\n}\nexports.from = from;\nfunction empty() {\n    return from(list_1.nil, list_1.nil);\n}\nexports.empty = empty;\nfunction of(a) {\n    return from(l.of(a), list_1.nil);\n}\nexports.of = of;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nfunction isCons(list) {\n    return list._tag === \"cons\";\n}\nexports.isCons = isCons;\nfunction isNil(list) {\n    return list._tag === \"nil\";\n}\nexports.isNil = isNil;\nexports.nil = { _tag: \"nil\" };\nfunction cons(h, t) {\n    return {\n        _tag: \"cons\",\n        head: h,\n        tail: t\n    };\n}\nexports.cons = cons;\nfunction of(a) {\n    return cons(a, exports.nil);\n}\nexports.of = of;\nfunction foldl(list, b, f) {\n    var iter = list;\n    var seed = b;\n    while (isCons(iter)) {\n        seed = f(seed, iter.head);\n        iter = iter.tail;\n    }\n    return seed;\n}\nexports.foldl = foldl;\nfunction foldlc(b, f) {\n    return function (list) { return foldl(list, b, f); };\n}\nexports.foldlc = foldlc;\nfunction reverse(list) {\n    return foldl(list, exports.nil, function (t, h) { return cons(h, t); });\n}\nexports.reverse = reverse;\nfunction foldr(list, b, f) {\n    return fp_ts_1.pipeable.pipe(list, reverse, foldlc(b, fp_ts_1[\"function\"].flip(f)));\n}\nexports.foldr = foldr;\nfunction snoc(append, list) {\n    return foldr(list, of(append), cons);\n}\nexports.snoc = snoc;\nfunction cata(list, ifCons, ifNil) {\n    if (isCons(list)) {\n        return ifCons(list.head, list.tail);\n    }\n    return ifNil();\n}\nexports.cata = cata;\nfunction catac(ifCons, ifNil) {\n    return function (list) { return cata(list, ifCons, ifNil); };\n}\nexports.catac = catac;\nfunction head(list) {\n    return cata(list, fp_ts_1.option.some, function () { return fp_ts_1.option.none; });\n}\nexports.head = head;\nfunction tail(list) {\n    return cata(list, function (_, rest) { return fp_ts_1.option.some(rest); }, function () { return fp_ts_1.option.none; });\n}\nexports.tail = tail;\nfunction last(list) {\n    if (isNil(list)) {\n        return fp_ts_1.option.none;\n    }\n    var iter = list;\n    while (isCons(iter.tail)) {\n        iter = iter.tail;\n    }\n    return fp_ts_1.option.some(iter.head);\n}\nexports.last = last;\nexports.isEmpty = isNil;\nexports.nonEmpty = fp_ts_1[\"function\"].not(isNil);\nfunction find(list, f) {\n    var iter = list;\n    while (isCons(iter)) {\n        if (f(iter.head)) {\n            return fp_ts_1.option.some(iter.head);\n        }\n        iter = iter.tail;\n    }\n    return fp_ts_1.option.none;\n}\nexports.find = find;\nfunction findc(f) {\n    return function (list) { return find(list, f); };\n}\nexports.findc = findc;\nfunction foldrc(b, f) {\n    return function (list) { return foldr(list, b, f); };\n}\nexports.foldrc = foldrc;\nfunction map(list, f) {\n    return fp_ts_1.pipeable.pipe(list, foldlc(exports.nil, function (t, a) { return cons(f(a), t); }), reverse);\n}\nexports.map = map;\nfunction lift(f) {\n    return function (list) { return map(list, f); };\n}\nexports.lift = lift;\nfunction filter(list, f) {\n    return foldr(list, exports.nil, function (a, t) { return (f(a) ? cons(a, t) : t); });\n}\nexports.filter = filter;\nfunction filterc(f) {\n    return function (list) { return filter(list, f); };\n}\nexports.filterc = filterc;\nfunction concat(front, back) {\n    return foldr(front, back, cons);\n}\nexports.concat = concat;\n/**\n * Get the size of a list.\n *\n * This has pathologically bad performance.\n * @param list\n */\nfunction size(list) {\n    var ct = 0;\n    var iter = list;\n    while (isCons(iter)) {\n        ct++;\n        iter = iter.tail;\n    }\n    return ct;\n}\nexports.size = size;\nfunction chain(list, f) {\n    return fp_ts_1.pipeable.pipe(list, lift(f), foldlc(exports.nil, concat));\n}\nexports.chain = chain;\nfunction ap(list, fns) {\n    return chain(list, function (a) { return map(fns, function (f) { return f(a); }); });\n}\nexports.ap = ap;\nfunction flatten(list) {\n    return foldl(list, exports.nil, concat);\n}\nexports.flatten = flatten;\nfunction fromArray(as) {\n    return as.reduceRight(function (t, h) { return cons(h, t); }, exports.nil);\n}\nexports.fromArray = fromArray;\nfunction toArray(as) {\n    var out = [];\n    var iter = as;\n    while (isCons(iter)) {\n        out.push(iter.head);\n        iter = iter.tail;\n    }\n    return out;\n}\nexports.toArray = toArray;\nexports.URI = \"matechs/WaveList\";\nexports.instances = {\n    URI: exports.URI,\n    map: map,\n    of: of,\n    ap: fp_ts_1[\"function\"].flip(ap),\n    chain: chain\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ticket.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\nfunction ticketExit(ticket, exit) {\n    if (exit._tag === \"Interrupt\") {\n        return ticket.cleanup;\n    }\n    return T.unit;\n}\nexports.ticketExit = ticketExit;\nfunction ticketUse(ticket) {\n    return ticket.acquire;\n}\nexports.ticketUse = ticketUse;\nfunction makeTicket(acquire, cleanup) {\n    return {\n        acquire: acquire,\n        cleanup: cleanup\n    };\n}\nexports.makeTicket = makeTicket;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\n/* tested in wave */\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nvar step_1 = require(\"./step\");\nvar T = __importStar(require(\"../effect\"));\nvar effect_1 = require(\"../effect\");\n/**\n * Step a sink repeatedly.\n * If the sink completes before consuming all of the input, then the done state will include the ops leftovers\n * and anything left in the array\n * @param sink\n * @param s\n * @param multi\n */\nfunction stepMany(sink, s, multi) {\n    function go(current, i) {\n        if (i === multi.length) {\n            return T.pure(current);\n        }\n        else if (step_1.isSinkDone(current)) {\n            return T.pure(step_1.sinkDone(current.state, current.leftover.concat(multi.slice(i))));\n        }\n        else {\n            return effect_1.effect.chain(sink.step(current.state, multi[i]), function (next) { return go(next, i + 1); });\n        }\n    }\n    return go(step_1.sinkCont(s), 0);\n}\nexports.stepMany = stepMany;\nfunction liftPureSink(sink) {\n    return {\n        initial: T.pure(sink.initial),\n        step: function (state, next) { return T.pure(sink.step(state, next)); },\n        extract: fp_ts_1[\"function\"].flow(sink.extract, T.pure)\n    };\n}\nexports.liftPureSink = liftPureSink;\nfunction collectArraySink() {\n    var initial = T.pure(step_1.sinkCont([]));\n    function step(state, next) {\n        return T.pure(step_1.sinkCont(__spreadArrays(state, [next])));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.collectArraySink = collectArraySink;\nfunction drainSink() {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    function step(_state, _next) {\n        return T.pure(step_1.sinkCont(undefined));\n    }\n    return { initial: initial, extract: extract, step: step };\n}\nexports.drainSink = drainSink;\n/**\n * A sink that consumes no input to produce a constant b\n * @param b\n */\nfunction constSink(b) {\n    var initial = T.pure(step_1.sinkDone(undefined, []));\n    var extract = fp_ts_1[\"function\"].constant(T.pure(b));\n    function step(_state, _next) {\n        return T.pure(step_1.sinkDone(undefined, []));\n    }\n    return { initial: initial, extract: extract, step: step };\n}\nexports.constSink = constSink;\n/**\n * A sink that produces the head element of a stream (if any elements are emitted)\n */\nfunction headSink() {\n    var initial = T.pure(step_1.sinkCont(fp_ts_1.option.none));\n    function step(_state, next) {\n        return T.pure(step_1.sinkDone(fp_ts_1.option.some(next), []));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.headSink = headSink;\n/**\n * A sink that produces the last element of a stream (if any elements are emitted)\n */\nfunction lastSink() {\n    var initial = T.pure(step_1.sinkCont(fp_ts_1.option.none));\n    function step(_state, next) {\n        return T.pure(step_1.sinkCont(fp_ts_1.option.some(next)));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.lastSink = lastSink;\n/**\n * A sink that evalutes an action for every element of a sink and produces no value\n * @param f\n */\nfunction evalSink(f) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, next) {\n        return fp_ts_1.pipeable.pipe(f(next), T.apSecond(T.pure(step_1.sinkCont(_state))));\n    }\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    return { initial: initial, extract: extract, step: step };\n}\nexports.evalSink = evalSink;\n/**\n * A sink that consumes elements for which a predicate does not hold.\n *\n * Returns the first element for which the predicate did hold if such an element is found.\n * @param f\n */\nfunction drainWhileSink(f) {\n    var initial = step_1.sinkCont(fp_ts_1.option.none);\n    function step(_state, a) {\n        return f(a) ? step_1.sinkCont(fp_ts_1.option.none) : step_1.sinkDone(fp_ts_1.option.some(a), []);\n    }\n    var extract = fp_ts_1[\"function\"].identity;\n    return liftPureSink({ initial: initial, extract: extract, step: step });\n}\nexports.drainWhileSink = drainWhileSink;\n/**\n * A sink that offers elements into a concurrent queue\n *\n * @param queue\n */\nfunction queueSink(queue) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(a), step_1.sinkCont(undefined));\n    }\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    return { initial: initial, extract: extract, step: step };\n}\nexports.queueSink = queueSink;\n/**\n * A sink that offers elements into a queue after wrapping them in an option.\n *\n * The sink will offer one final none into the queue when the stream terminates\n * @param queue\n */\nfunction queueOptionSink(queue) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(fp_ts_1.option.some(a)), step_1.sinkCont(undefined));\n    }\n    var extract = fp_ts_1[\"function\"].constant(queue.offer(fp_ts_1.option.none));\n    return { initial: initial, extract: extract, step: step };\n}\nexports.queueOptionSink = queueOptionSink;\n/**\n * Map the output value of a sink\n * @param sink\n * @param f\n */\nfunction map(sink, f) {\n    return __assign(__assign({}, sink), { extract: fp_ts_1[\"function\"].flow(sink.extract, T.map(f)) });\n}\nexports.map = map;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar SinkStepTag;\n(function (SinkStepTag) {\n    SinkStepTag[SinkStepTag[\"Cont\"] = 0] = \"Cont\";\n    SinkStepTag[SinkStepTag[\"Done\"] = 1] = \"Done\";\n})(SinkStepTag = exports.SinkStepTag || (exports.SinkStepTag = {}));\nfunction sinkCont(s) {\n    return { _tag: SinkStepTag.Cont, state: s };\n}\nexports.sinkCont = sinkCont;\nfunction sinkDone(s, leftover) {\n    return { _tag: SinkStepTag.Done, state: s, leftover: leftover };\n}\nexports.sinkDone = sinkDone;\nfunction isSinkCont(s) {\n    return s._tag === SinkStepTag.Cont;\n}\nexports.isSinkCont = isSinkCont;\nfunction isSinkDone(s) {\n    return s._tag === SinkStepTag.Done;\n}\nexports.isSinkDone = isSinkDone;\nfunction sinkStepLeftover(s) {\n    if (s._tag === SinkStepTag.Cont) {\n        return [];\n    }\n    else {\n        return s.leftover;\n    }\n}\nexports.sinkStepLeftover = sinkStepLeftover;\nfunction sinkStepState(s) {\n    return s.state;\n}\nexports.sinkStepState = sinkStepState;\nfunction map(step, f) {\n    return __assign(__assign({}, step), { state: f(step.state) });\n}\nexports.map = map;\nfunction mapWith(f) {\n    return function (step) { return map(step, f); };\n}\nexports.mapWith = mapWith;\nfunction traverse(F) {\n    return function (step, f) { return F.map(f(step.state), function (s1) { return (__assign(__assign({}, step), { state: s1 })); }); };\n}\nexports.traverse = traverse;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar list = __importStar(require(\"../list\"));\nvar fp_ts_1 = require(\"fp-ts\");\nvar M = __importStar(require(\"../managed\"));\nvar T = __importStar(require(\"../effect\"));\nfunction queueUtils() {\n    var ops = list.empty();\n    var hasCB = {};\n    function next(o) {\n        if (hasCB.cb) {\n            var cb = hasCB.cb;\n            hasCB.cb = undefined;\n            cb(o);\n        }\n        else {\n            // TODO: figure out how to trigger if even possible\n            /* istanbul ignore next */\n            list.push(ops, o);\n        }\n    }\n    return { ops: ops, hasCB: hasCB, next: next };\n}\nexports.queueUtils = queueUtils;\nfunction runFromQueue(op, callback) {\n    switch (op._tag) {\n        case \"error\":\n            callback(fp_ts_1.either.left(op.e));\n            // this will never be called\n            /* istanbul ignore next */\n            // tslint:disable-next-line: no-empty\n            return function () { };\n        case \"complete\":\n            callback(fp_ts_1.either.right(fp_ts_1.option.none));\n            // tslint:disable-next-line: no-empty\n            return function () { };\n        case \"offer\":\n            callback(fp_ts_1.either.right(fp_ts_1.option.some(op.a)));\n            // tslint:disable-next-line: no-empty\n            return function () { };\n    }\n}\nexports.runFromQueue = runFromQueue;\nfunction emitter(ops, hasCB) {\n    return M.pure(T.async(function (callback) {\n        var op = list.popUnsafe(ops);\n        if (op !== null) {\n            runFromQueue(op, callback);\n        }\n        else {\n            hasCB.cb = function (o) {\n                // TODO: figure out how to trigger if even possible, triggered by line 22\n                /* istanbul ignore if */\n                if (list.isNotEmpty(ops)) {\n                    list.push(ops, o);\n                    var op_1 = list.popUnsafe(ops);\n                    if (op_1 !== null) {\n                        runFromQueue(op_1, callback)();\n                    }\n                }\n                else {\n                    runFromQueue(o, callback)();\n                }\n            };\n        }\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    }));\n}\nexports.emitter = emitter;\n","\"use strict\";\nexports.__esModule = true;\nvar stream_1 = require(\"./stream\");\nexports.Do = stream_1.Do;\nexports.URI = stream_1.URI;\nexports.aborted = stream_1.aborted;\nexports.as = stream_1.as;\nexports.chain = stream_1.chain;\nexports.chainMerge = stream_1.chainMerge;\nexports.chainSwitchLatest = stream_1.chainSwitchLatest;\nexports.collectArray = stream_1.collectArray;\nexports.concat = stream_1.concat;\nexports.concatL = stream_1.concatL;\nexports.distinctAdjacent = stream_1.distinctAdjacent;\nexports.drain = stream_1.drain;\nexports.drop = stream_1.drop;\nexports.dropWhile = stream_1.dropWhile;\nexports.empty = stream_1.empty;\nexports.encaseEffect = stream_1.encaseEffect;\nexports.filter = stream_1.filter;\nexports.flatten = stream_1.flatten;\nexports.fold = stream_1.fold;\nexports.foldM = stream_1.foldM;\nexports.fromArray = stream_1.fromArray;\nexports.fromIterator = stream_1.fromIterator;\nexports.fromIteratorUnsafe = stream_1.fromIteratorUnsafe;\nexports.fromObjectReadStream = stream_1.fromObjectReadStream;\nexports.fromObjectReadStreamB = stream_1.fromObjectReadStreamB;\nexports.fromOption = stream_1.fromOption;\nexports.fromRange = stream_1.fromRange;\nexports.fromSource = stream_1.fromSource;\nexports.into = stream_1.into;\nexports.intoLeftover = stream_1.intoLeftover;\nexports.intoManaged = stream_1.intoManaged;\nexports.map = stream_1.map;\nexports.mapM = stream_1.mapM;\nexports.merge = stream_1.merge;\nexports.mergeAll = stream_1.mergeAll;\nexports.never = stream_1.never;\nexports.once = stream_1.once;\nexports.peel = stream_1.peel;\nexports.peelManaged = stream_1.peelManaged;\nexports.periodically = stream_1.periodically;\nexports.raised = stream_1.raised;\nexports.repeat = stream_1.repeat;\nexports.repeatedly = stream_1.repeatedly;\nexports.scan = stream_1.scan;\nexports.scanM = stream_1.scanM;\nexports.sequenceArray = stream_1.sequenceArray;\nexports.sequenceEither = stream_1.sequenceEither;\nexports.sequenceOption = stream_1.sequenceOption;\nexports.sequenceRecord = stream_1.sequenceRecord;\nexports.sequenceS = stream_1.sequenceS;\nexports.sequenceT = stream_1.sequenceT;\nexports.sequenceTree = stream_1.sequenceTree;\nexports.stream = stream_1.stream;\nexports.switchLatest = stream_1.switchLatest;\nexports.take = stream_1.take;\nexports.takeUntil = stream_1.takeUntil;\nexports.takeWhile = stream_1.takeWhile;\nexports.transduce = stream_1.transduce;\nexports.traverseEither = stream_1.traverseEither;\nexports.traverseOption = stream_1.traverseOption;\nexports.traverseRecord = stream_1.traverseRecord;\nexports.traverseRecordWithIndex = stream_1.traverseRecordWithIndex;\nexports.traverseTree = stream_1.traverseTree;\nexports.wiltArray = stream_1.wiltArray;\nexports.wiltOption = stream_1.wiltOption;\nexports.wiltRecord = stream_1.wiltRecord;\nexports.witherArray = stream_1.witherArray;\nexports.witherOption = stream_1.witherOption;\nexports.witherRecord = stream_1.witherRecord;\nexports.zip = stream_1.zip;\nexports.zipWith = stream_1.zipWith;\nexports.zipWithIndex = stream_1.zipWithIndex;\nexports.su = stream_1.su;\nexports.traverseArray = stream_1.traverseArray;\nexports.traverseArrayWithIndex = stream_1.traverseArrayWithIndex;\nvar subject_1 = require(\"./subject\");\nexports.subject = subject_1.subject;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction tailRec(a, f) {\n    var v = f(a);\n    while (v._tag === 'Left') {\n        v = f(v.left);\n    }\n    return v.right;\n}\nexports.tailRec = tailRec;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar runtime_1 = require(\"./original/runtime\");\nvar T = __importStar(require(\"./effect\"));\nvar L = __importStar(require(\"./list\"));\nvar Frame = /** @class */ (function () {\n    function Frame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n    return Frame;\n}());\nvar FoldFrame = /** @class */ (function () {\n    function FoldFrame(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n    return FoldFrame;\n}());\nvar MapFrame = /** @class */ (function () {\n    function MapFrame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n    return MapFrame;\n}());\nvar makeInterruptFrame = function (interruptStatus, prev) { return ({\n    prev: prev,\n    _tag: \"interrupt-frame\",\n    apply: function (u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion: function () {\n        interruptStatus.pop();\n    }\n}); };\nvar DriverSyncImpl = /** @class */ (function () {\n    function DriverSyncImpl(runtime) {\n        if (runtime === void 0) { runtime = runtime_1.defaultRuntime; }\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = L.empty();\n    }\n    DriverSyncImpl.prototype.set = function (a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {\n                var f = _a[_i];\n                f(a);\n            }\n        }\n    };\n    DriverSyncImpl.prototype.isComplete = function () {\n        return this.completed !== null;\n    };\n    DriverSyncImpl.prototype.complete = function (a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    DriverSyncImpl.prototype.isInterruptible = function () {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    };\n    DriverSyncImpl.prototype.handle = function (e) {\n        var _a, _b;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    };\n    DriverSyncImpl.prototype.dispatchResumeInterrupt = function () {\n        var go = this.handle(exit_1.interrupt);\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    };\n    DriverSyncImpl.prototype.resumeInterrupt = function () {\n        this.dispatchResumeInterrupt();\n    };\n    DriverSyncImpl.prototype.next = function (value) {\n        var _a;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(exit_1.done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(exit_1.done(value));\n        return;\n    };\n    DriverSyncImpl.prototype.foldResume = function (status) {\n        var _this = this;\n        fp_ts_1.either.fold(function (cause) {\n            var go = _this.handle(exit_1.raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        }, function (value) {\n            var go = _this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        })(status);\n    };\n    DriverSyncImpl.prototype.resume = function (status) {\n        this.foldResume(status);\n    };\n    // tslint:disable-next-line: cyclomatic-complexity\n    DriverSyncImpl.prototype.loop = function (go) {\n        var _this = this;\n        var current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        var env = L.isNotEmpty(this.envStack) ? L.lastUnsafe(this.envStack) : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        L.push(this.envStack, current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, function (e) {\n                            return T.effect.chain(T.sync(function () {\n                                L.popLastUnsafe(_this.envStack);\n                                return {};\n                            }), function (_) { return T.raised(e); });\n                        }, function (r) {\n                            return T.sync(function () {\n                                L.popLastUnsafe(_this.envStack);\n                                return r;\n                            });\n                        }));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (fp_ts_1.option.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (fp_ts_1.either.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(\"Die: Unrecognized current type \" + current);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    };\n    DriverSyncImpl.prototype.start = function (run) {\n        this.loop(run);\n        if (this.completed !== null) {\n            return fp_ts_1.either.right(this.completed);\n        }\n        this.interrupt();\n        return fp_ts_1.either.left(new Error(\"async operations running\"));\n    };\n    DriverSyncImpl.prototype.interrupt = function () {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n    };\n    return DriverSyncImpl;\n}());\nexports.DriverSyncImpl = DriverSyncImpl;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar runtime_1 = require(\"./original/runtime\");\nvar T = __importStar(require(\"./effect\"));\nvar listc_1 = require(\"./listc\");\nvar Frame = /** @class */ (function () {\n    function Frame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n    return Frame;\n}());\nvar FoldFrame = /** @class */ (function () {\n    function FoldFrame(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n    return FoldFrame;\n}());\nvar MapFrame = /** @class */ (function () {\n    function MapFrame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n    return MapFrame;\n}());\nvar makeInterruptFrame = function (interruptStatus, prev) { return ({\n    prev: prev,\n    _tag: \"interrupt-frame\",\n    apply: function (u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion: function () {\n        interruptStatus.pop();\n    }\n}); };\nvar DriverImpl = /** @class */ (function () {\n    function DriverImpl(runtime) {\n        if (runtime === void 0) { runtime = runtime_1.defaultRuntime; }\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = new listc_1.DoublyLinkedList();\n    }\n    DriverImpl.prototype.set = function (a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {\n                var f = _a[_i];\n                f(a);\n            }\n        }\n    };\n    DriverImpl.prototype.isComplete = function () {\n        return this.completed !== null;\n    };\n    DriverImpl.prototype.complete = function (a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    DriverImpl.prototype.onExit = function (f) {\n        var _this = this;\n        if (this.completed !== null) {\n            f(this.completed);\n        }\n        if (this.listeners === undefined) {\n            this.listeners = [f];\n        }\n        else {\n            this.listeners.push(f);\n        }\n        // TODO: figure how to trigger if possible\n        /* istanbul ignore next */\n        return function () {\n            if (_this.listeners !== undefined) {\n                _this.listeners = _this.listeners.filter(function (cb) { return cb !== f; });\n            }\n        };\n    };\n    DriverImpl.prototype.exit = function () {\n        return this.completed;\n    };\n    DriverImpl.prototype.isInterruptible = function () {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    };\n    DriverImpl.prototype.handle = function (e) {\n        var _a, _b;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    };\n    DriverImpl.prototype.dispatchResumeInterrupt = function (err) {\n        var go = this.handle(exit_1.interruptWithError(err));\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    };\n    DriverImpl.prototype.resumeInterrupt = function (err) {\n        this.runtime.dispatch(this.dispatchResumeInterrupt.bind(this), err);\n    };\n    DriverImpl.prototype.next = function (value) {\n        var _a;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(exit_1.done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(exit_1.done(value));\n        return;\n    };\n    DriverImpl.prototype.foldResume = function (status) {\n        var _this = this;\n        fp_ts_1.either.fold(function (cause) {\n            var go = _this.handle(exit_1.raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        }, function (value) {\n            var go = _this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        })(status);\n    };\n    DriverImpl.prototype.resume = function (status) {\n        this.cancelAsync = undefined;\n        this.runtime.dispatch(this.foldResume.bind(this), status);\n    };\n    DriverImpl.prototype.contextSwitch = function (op) {\n        var _this = this;\n        var complete = false;\n        var wrappedCancel = op(function (status) {\n            if (complete) {\n                return;\n            }\n            complete = true;\n            _this.resume(status);\n        });\n        this.cancelAsync = function (cb) {\n            complete = true;\n            wrappedCancel(function (err) {\n                cb(err);\n            });\n        };\n    };\n    // tslint:disable-next-line: cyclomatic-complexity\n    DriverImpl.prototype.loop = function (go) {\n        var _this = this;\n        var current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        var env = !this.envStack.empty() ? this.envStack.tail.value : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        this.envStack.append(current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, function (e) {\n                            return T.effect.chain(T.sync(function () {\n                                _this.envStack.deleteTail();\n                                return {};\n                            }), function (_) { return T.raised(e); });\n                        }, function (r) {\n                            return T.sync(function () {\n                                _this.envStack.deleteTail();\n                                return r;\n                            });\n                        }));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (fp_ts_1.option.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (fp_ts_1.either.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        this.contextSwitch(current.f0);\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(\"Die: Unrecognized current type \" + current);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    };\n    DriverImpl.prototype.start = function (run) {\n        if (this.started) {\n            /* istanbul ignore next */\n            throw new Error(\"Bug: Runtime may not be started multiple times\");\n        }\n        this.started = true;\n        this.runtime.dispatch(this.loop.bind(this), run);\n    };\n    DriverImpl.prototype.interrupt = function () {\n        var _this = this;\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n        if (this.cancelAsync && this.isInterruptible()) {\n            this.cancelAsync(function (err) {\n                _this.resumeInterrupt(err);\n            });\n        }\n    };\n    return DriverImpl;\n}());\nexports.DriverImpl = DriverImpl;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\n/* istanbul ignore file */\n// Some utilities\nfunction tuple2(a, b) {\n    return [a, b];\n}\nexports.tuple2 = tuple2;\nfunction fst(a) {\n    // eslint-disable-line no-unused-vars\n    return a;\n}\nexports.fst = fst;\nfunction snd(_, b) {\n    return b;\n}\nexports.snd = snd;\n","\"use strict\";\nexports.__esModule = true;\nvar EffectTag;\n(function (EffectTag) {\n    EffectTag[EffectTag[\"Pure\"] = 0] = \"Pure\";\n    EffectTag[EffectTag[\"PureOption\"] = 1] = \"PureOption\";\n    EffectTag[EffectTag[\"PureEither\"] = 2] = \"PureEither\";\n    EffectTag[EffectTag[\"Raised\"] = 3] = \"Raised\";\n    EffectTag[EffectTag[\"Completed\"] = 4] = \"Completed\";\n    EffectTag[EffectTag[\"Suspended\"] = 5] = \"Suspended\";\n    EffectTag[EffectTag[\"Async\"] = 6] = \"Async\";\n    EffectTag[EffectTag[\"Chain\"] = 7] = \"Chain\";\n    EffectTag[EffectTag[\"Collapse\"] = 8] = \"Collapse\";\n    EffectTag[EffectTag[\"InterruptibleRegion\"] = 9] = \"InterruptibleRegion\";\n    EffectTag[EffectTag[\"AccessInterruptible\"] = 10] = \"AccessInterruptible\";\n    EffectTag[EffectTag[\"AccessRuntime\"] = 11] = \"AccessRuntime\";\n    EffectTag[EffectTag[\"AccessEnv\"] = 12] = \"AccessEnv\";\n    EffectTag[EffectTag[\"ProvideEnv\"] = 13] = \"ProvideEnv\";\n    EffectTag[EffectTag[\"Map\"] = 14] = \"Map\";\n})(EffectTag = exports.EffectTag || (exports.EffectTag = {}));\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar CompletableImpl = /** @class */ (function () {\n    function CompletableImpl() {\n        this.completed = fp_ts_1.option.none;\n        this.listeners = [];\n    }\n    CompletableImpl.prototype.set = function (a) {\n        this.completed = fp_ts_1.option.some(a);\n        this.listeners.forEach(function (f) { return f(a); });\n    };\n    CompletableImpl.prototype.value = function () {\n        return this.completed;\n    };\n    CompletableImpl.prototype.isComplete = function () {\n        return fp_ts_1.option.isSome(this.completed);\n    };\n    CompletableImpl.prototype.complete = function (a) {\n        if (fp_ts_1.option.isSome(this.completed)) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    CompletableImpl.prototype.tryComplete = function (a) {\n        if (fp_ts_1.option.isSome(this.completed)) {\n            return false;\n        }\n        this.set(a);\n        return true;\n    };\n    CompletableImpl.prototype.listen = function (f) {\n        var _this = this;\n        if (fp_ts_1.option.isSome(this.completed)) {\n            f(this.completed.value);\n        }\n        this.listeners.push(f);\n        return function (cb) {\n            _this.listeners = _this.listeners.filter(function (cb) { return cb !== f; });\n            cb();\n        };\n    };\n    return CompletableImpl;\n}());\nexports.CompletableImpl = CompletableImpl;\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nvar Option_1 = require(\"./Option\");\nvar Ord_1 = require(\"./Ord\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.5.0\n */\nexports.URI = 'ReadonlyArray';\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nfunction fromArray(as) {\n    var l = as.length;\n    if (l === 0) {\n        return exports.empty;\n    }\n    var ras = Array(l);\n    for (var i = 0; i < l; i++) {\n        ras[i] = as[i];\n    }\n    return ras;\n}\nexports.fromArray = fromArray;\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nfunction toArray(ras) {\n    var l = ras.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = ras[i];\n    }\n    return as;\n}\nexports.toArray = toArray;\n/**\n * @since 2.5.0\n */\nfunction getShow(S) {\n    return {\n        show: function (as) { return \"[\" + as.map(S.show).join(', ') + \"]\"; }\n    };\n}\nexports.getShow = getShow;\nvar concat = function (x, y) {\n    var lenx = x.length;\n    if (lenx === 0) {\n        return y;\n    }\n    var leny = y.length;\n    if (leny === 0) {\n        return x;\n    }\n    var r = Array(lenx + leny);\n    for (var i = 0; i < lenx; i++) {\n        r[i] = x[i];\n    }\n    for (var i = 0; i < leny; i++) {\n        r[i + lenx] = y[i];\n    }\n    return r;\n};\n/**\n * Returns a `Monoid` for `ReadonlyArray<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/ReadonlyArray'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nfunction getMonoid() {\n    return {\n        concat: concat,\n        empty: exports.empty\n    };\n}\nexports.getMonoid = getMonoid;\n/**\n * Derives an `Eq` over the `ReadonlyArray` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/ReadonlyArray'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.5.0\n */\nfunction getEq(E) {\n    return {\n        equals: function (xs, ys) { return xs === ys || (xs.length === ys.length && xs.every(function (x, i) { return E.equals(x, ys[i]); })); }\n    };\n}\nexports.getEq = getEq;\n/**\n * Derives an `Ord` over the `ReadonlyArray` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/ReadonlyArray'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.5.0\n */\nfunction getOrd(O) {\n    return Ord_1.fromCompare(function (a, b) {\n        var aLen = a.length;\n        var bLen = b.length;\n        var len = Math.min(aLen, bLen);\n        for (var i = 0; i < len; i++) {\n            var ordering = O.compare(a[i], b[i]);\n            if (ordering !== 0) {\n                return ordering;\n            }\n        }\n        return Ord_1.ordNumber.compare(aLen, bLen);\n    });\n}\nexports.getOrd = getOrd;\n/**\n * An empty array\n *\n * @since 2.5.0\n */\nexports.empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/ReadonlyArray'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.5.0\n */\nfunction makeBy(n, f) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    for (var i = 0; i < n; i++) {\n        r.push(f(i));\n    }\n    return r;\n}\nexports.makeBy = makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.5.0\n */\nfunction range(start, end) {\n    return makeBy(end - start + 1, function (i) { return start + i; });\n}\nexports.range = range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.5.0\n */\nfunction replicate(n, a) {\n    return makeBy(n, function () { return a; });\n}\nexports.replicate = replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction flatten(mma) {\n    var rLen = 0;\n    var len = mma.length;\n    for (var i = 0; i < len; i++) {\n        rLen += mma[i].length;\n    }\n    var r = Array(rLen);\n    var start = 0;\n    for (var i = 0; i < len; i++) {\n        var arr = mma[i];\n        var l = arr.length;\n        for (var j = 0; j < l; j++) {\n            r[j + start] = arr[j];\n        }\n        start += l;\n    }\n    return r;\n}\nexports.flatten = flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const len: <A>(as: ReadonlyArray<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.5.0\n */\nfunction foldLeft(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as[0], as.slice(1))); };\n}\nexports.foldLeft = foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.5.0\n */\nfunction foldRight(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as.slice(0, as.length - 1), as[as.length - 1])); };\n}\nexports.foldRight = foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.5.0\n */\nfunction scanLeft(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[0] = b;\n        for (var i = 0; i < l; i++) {\n            r[i + 1] = f(r[i], as[i]);\n        }\n        return r;\n    };\n}\nexports.scanLeft = scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.5.0\n */\nfunction scanRight(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[l] = b;\n        for (var i = l - 1; i >= 0; i--) {\n            r[i] = f(as[i], r[i + 1]);\n        }\n        return r;\n    };\n}\nexports.scanRight = scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.5.0\n */\nfunction isEmpty(as) {\n    return as.length === 0;\n}\nexports.isEmpty = isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyReadonlyArray<A>`\n *\n * @since 2.5.0\n */\nfunction isNonEmpty(as) {\n    return as.length > 0;\n}\nexports.isNonEmpty = isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.5.0\n */\nfunction isOutOfBound(i, as) {\n    return i < 0 || i >= as.length;\n}\nexports.isOutOfBound = isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.5.0\n */\nfunction lookup(i, as) {\n    return isOutOfBound(i, as) ? Option_1.none : Option_1.some(as[i]);\n}\nexports.lookup = lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction cons(head, tail) {\n    var len = tail.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i + 1] = tail[i];\n    }\n    r[0] = head;\n    return r;\n}\nexports.cons = cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nfunction snoc(init, end) {\n    var len = init.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = init[i];\n    }\n    r[len] = end;\n    return r;\n}\nexports.snoc = snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.5.0\n */\nfunction head(as) {\n    return isEmpty(as) ? Option_1.none : Option_1.some(as[0]);\n}\nexports.head = head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.5.0\n */\nfunction last(as) {\n    return lookup(as.length - 1, as);\n}\nexports.last = last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.5.0\n */\nfunction tail(as) {\n    return isEmpty(as) ? Option_1.none : Option_1.some(as.slice(1));\n}\nexports.tail = tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.5.0\n */\nfunction init(as) {\n    var len = as.length;\n    return len === 0 ? Option_1.none : Option_1.some(as.slice(0, len - 1));\n}\nexports.init = init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction takeLeft(n) {\n    return function (as) { return as.slice(0, n); };\n}\nexports.takeLeft = takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.5.0\n */\nfunction takeRight(n) {\n    return function (as) { return (n === 0 ? exports.empty : as.slice(-n)); };\n}\nexports.takeRight = takeRight;\nfunction takeLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        return init;\n    };\n}\nexports.takeLeftWhile = takeLeftWhile;\nvar spanIndexUncurry = function (as, predicate) {\n    var l = as.length;\n    var i = 0;\n    for (; i < l; i++) {\n        if (!predicate(as[i])) {\n            break;\n        }\n    }\n    return i;\n};\nfunction spanLeft(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return { init: init, rest: rest };\n    };\n}\nexports.spanLeft = spanLeft;\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.5.0\n */\nfunction dropLeft(n) {\n    return function (as) { return as.slice(n, as.length); };\n}\nexports.dropLeft = dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction dropRight(n) {\n    return function (as) { return as.slice(0, as.length - n); };\n}\nexports.dropRight = dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.5.0\n */\nfunction dropLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return rest;\n    };\n}\nexports.dropLeftWhile = dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.5.0\n */\nfunction findIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return Option_1.some(i);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findIndex = findIndex;\nfunction findFirst(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return Option_1.some(as[i]);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findFirst = findFirst;\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.5.0\n */\nfunction findFirstMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            var v = f(as[i]);\n            if (Option_1.isSome(v)) {\n                return v;\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findFirstMap = findFirstMap;\nfunction findLast(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return Option_1.some(as[i]);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLast = findLast;\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.5.0\n */\nfunction findLastMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var v = f(as[i]);\n            if (Option_1.isSome(v)) {\n                return v;\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLastMap = findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: ReadonlyArray<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.5.0\n */\nfunction findLastIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return Option_1.some(i);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLastIndex = findLastIndex;\n/**\n * @since 2.5.0\n */\nfunction unsafeInsertAt(i, a, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 0, a);\n    return xs;\n}\nexports.unsafeInsertAt = unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.5.0\n */\nfunction insertAt(i, a) {\n    return function (as) { return (i < 0 || i > as.length ? Option_1.none : Option_1.some(unsafeInsertAt(i, a, as))); };\n}\nexports.insertAt = insertAt;\n/**\n * @since 2.5.0\n */\nfunction unsafeUpdateAt(i, a, as) {\n    if (as[i] === a) {\n        return as;\n    }\n    else {\n        // tslint:disable-next-line: readonly-array\n        var xs = __spreadArrays(as);\n        xs[i] = a;\n        return xs;\n    }\n}\nexports.unsafeUpdateAt = unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.5.0\n */\nfunction updateAt(i, a) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeUpdateAt(i, a, as))); };\n}\nexports.updateAt = updateAt;\n/**\n * @since 2.5.0\n */\nfunction unsafeDeleteAt(i, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 1);\n    return xs;\n}\nexports.unsafeDeleteAt = unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.5.0\n */\nfunction deleteAt(i) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeDeleteAt(i, as))); };\n}\nexports.deleteAt = deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.5.0\n */\nfunction modifyAt(i, f) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeUpdateAt(i, f(as[i]), as))); };\n}\nexports.modifyAt = modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.5.0\n */\nfunction reverse(as) {\n    return __spreadArrays(as).reverse();\n}\nexports.reverse = reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/ReadonlyArray'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction rights(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Right') {\n            r.push(a.right);\n        }\n    }\n    return r;\n}\nexports.rights = rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/ReadonlyArray'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.5.0\n */\nfunction lefts(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Left') {\n            r.push(a.left);\n        }\n    }\n    return r;\n}\nexports.lefts = lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/ReadonlyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction sort(O) {\n    return function (as) { return __spreadArrays(as).sort(O.compare); };\n}\nexports.sort = sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.5.0\n */\nfunction zipWith(fa, fb, f) {\n    // tslint:disable-next-line: readonly-array\n    var fc = [];\n    var len = Math.min(fa.length, fb.length);\n    for (var i = 0; i < len; i++) {\n        fc[i] = f(fa[i], fb[i]);\n    }\n    return fc;\n}\nexports.zipWith = zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.5.0\n */\nfunction zip(fa, fb) {\n    return zipWith(fa, fb, function (a, b) { return [a, b]; });\n}\nexports.zip = zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.5.0\n */\nfunction unzip(as) {\n    // tslint:disable-next-line: readonly-array\n    var fa = [];\n    // tslint:disable-next-line: readonly-array\n    var fb = [];\n    for (var i = 0; i < as.length; i++) {\n        fa[i] = as[i][0];\n        fb[i] = as[i][1];\n    }\n    return [fa, fb];\n}\nexports.unzip = unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction rotate(n) {\n    return function (as) {\n        var len = as.length;\n        if (n === 0 || len <= 1 || len === Math.abs(n)) {\n            return as;\n        }\n        else if (n < 0) {\n            return rotate(len + n)(as);\n        }\n        else {\n            return as.slice(-n).concat(as.slice(0, len - n));\n        }\n    };\n}\nexports.rotate = rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `ReadonlyArray<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.5.0\n */\nfunction elem(E) {\n    return function (a, as) {\n        var predicate = function (element) { return E.equals(element, a); };\n        var i = 0;\n        var len = as.length;\n        for (; i < len; i++) {\n            if (predicate(as[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.elem = elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction uniq(E) {\n    var elemS = elem(E);\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var len = as.length;\n        var i = 0;\n        for (; i < len; i++) {\n            var a = as[i];\n            if (!elemS(a, r)) {\n                r.push(a);\n            }\n        }\n        return len === r.length ? as : r;\n    };\n}\nexports.uniq = uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/ReadonlyArray'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.5.0\n */\nfunction sortBy(ords) {\n    var M = Ord_1.getMonoid();\n    return sort(ords.reduce(M.concat, M.empty));\n}\nexports.sortBy = sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const group = <A>(S: Eq<A>): ((as: ReadonlyArray<A>) => ReadonlyArray<ReadonlyArray<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.5.0\n */\nfunction chop(f) {\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        var cs = as;\n        while (isNonEmpty(cs)) {\n            var _a = f(cs), b = _a[0], c = _a[1];\n            result.push(b);\n            cs = c;\n        }\n        return result;\n    };\n}\nexports.chop = chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.5.0\n */\nfunction splitAt(n) {\n    return function (as) { return [as.slice(0, n), as.slice(n)]; };\n}\nexports.splitAt = splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.5.0\n */\nfunction chunksOf(n) {\n    return function (as) { return (as.length === 0 ? exports.empty : isOutOfBound(n - 1, as) ? [as] : chop(splitAt(n))(as)); };\n}\nexports.chunksOf = chunksOf;\nfunction comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    var go = function (scope, input) {\n        if (input.length === 0) {\n            return g.apply(void 0, scope) ? [f.apply(void 0, scope)] : exports.empty;\n        }\n        else {\n            return exports.readonlyArray.chain(input[0], function (x) { return go(snoc(scope, x), input.slice(1)); });\n        }\n    };\n    return go(exports.empty, input);\n}\nexports.comprehension = comprehension;\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction union(E) {\n    var elemE = elem(E);\n    return function (xs, ys) {\n        return concat(xs, ys.filter(function (a) { return !elemE(a, xs); }));\n    };\n}\nexports.union = union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.5.0\n */\nfunction intersection(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return elemE(a, ys); }); };\n}\nexports.intersection = intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.5.0\n */\nfunction difference(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return !elemE(a, ys); }); };\n}\nexports.difference = difference;\n/**\n * @since 2.5.0\n */\nexports.of = function (a) { return [a]; };\n/**\n * @since 2.5.0\n */\nexports.readonlyArray = {\n    URI: exports.URI,\n    map: function (fa, f) { return fa.map(function (a) { return f(a); }); },\n    mapWithIndex: function (fa, f) { return fa.map(function (a, i) { return f(i, a); }); },\n    compact: function (as) { return exports.readonlyArray.filterMap(as, function_1.identity); },\n    separate: function (fa) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var _i = 0, fa_1 = fa; _i < fa_1.length; _i++) {\n            var e = fa_1[_i];\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (as, predicate) {\n        return as.filter(predicate);\n    },\n    filterMap: function (as, f) { return exports.readonlyArray.filterMapWithIndex(as, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return exports.readonlyArray.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return exports.readonlyArray.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    of: exports.of,\n    ap: function (fab, fa) { return flatten(exports.readonlyArray.map(fab, function (f) { return exports.readonlyArray.map(fa, f); })); },\n    chain: function (fa, f) {\n        var resLen = 0;\n        var l = fa.length;\n        var temp = new Array(l);\n        for (var i = 0; i < l; i++) {\n            var e = fa[i];\n            var arr = f(e);\n            resLen += arr.length;\n            temp[i] = arr;\n        }\n        var r = Array(resLen);\n        var start = 0;\n        for (var i = 0; i < l; i++) {\n            var arr = temp[i];\n            var l_1 = arr.length;\n            for (var j = 0; j < l_1; j++) {\n                r[j + start] = arr[j];\n            }\n            start += l_1;\n        }\n        return r;\n    },\n    reduce: function (fa, b, f) { return exports.readonlyArray.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = exports.readonlyArray.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return exports.readonlyArray.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    unfold: function (b, f) {\n        // tslint:disable-next-line: readonly-array\n        var ret = [];\n        var bb = b;\n        while (true) {\n            var mt = f(bb);\n            if (Option_1.isSome(mt)) {\n                var _a = mt.value, a = _a[0], b_1 = _a[1];\n                ret.push(a);\n                bb = b_1;\n            }\n            else {\n                break;\n            }\n        }\n        return ret;\n    },\n    traverse: function (F) {\n        var traverseWithIndexF = exports.readonlyArray.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: function (F) { return function (ta) {\n        return exports.readonlyArray.reduce(ta, F.of(exports.readonlyArray.zero()), function (fas, fa) {\n            return F.ap(F.map(fas, function (as) { return function (a) { return snoc(as, a); }; }), fa);\n        });\n    }; },\n    zero: function () { return exports.empty; },\n    alt: function (fx, f) { return concat(fx, f()); },\n    extend: function (fa, f) { return fa.map(function (_, i, as) { return f(as.slice(i)); }); },\n    wither: function (F) {\n        var traverseF = exports.readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyArray.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = exports.readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyArray.separate); };\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var l = fa.length;\n        var r = b;\n        for (var i = 0; i < l; i++) {\n            r = f(i, r, fa[i]);\n        }\n        return r;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) { return fa.reduce(function (b, a, i) { return M.concat(b, f(i, a)); }, M.empty); }; },\n    reduceRightWithIndex: function (fa, b, f) { return fa.reduceRight(function (b, a, i) { return f(i, a, b); }, b); },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        return exports.readonlyArray.reduceWithIndex(ta, F.of(exports.readonlyArray.zero()), function (i, fbs, a) {\n            return F.ap(F.map(fbs, function (bs) { return function (b) { return snoc(bs, b); }; }), f(i, a));\n        });\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var e = f(i, fa[i]);\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var a = fa[i];\n            if (predicateWithIndex(i, a)) {\n                right.push(a);\n            }\n            else {\n                left.push(a);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        for (var i = 0; i < fa.length; i++) {\n            var optionB = f(i, fa[i]);\n            if (Option_1.isSome(optionB)) {\n                result.push(optionB.value);\n            }\n        }\n        return result;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        return fa.filter(function (a, i) { return predicateWithIndex(i, a); });\n    }\n};\nvar _a = pipeable_1.pipeable(exports.readonlyArray), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.filterMapWithIndex = filterMapWithIndex;\nexports.filterWithIndex = filterWithIndex;\nexports.foldMap = foldMap;\nexports.foldMapWithIndex = foldMapWithIndex;\nexports.map = map;\nexports.mapWithIndex = mapWithIndex;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.partitionMapWithIndex = partitionMapWithIndex;\nexports.partitionWithIndex = partitionWithIndex;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reduceRightWithIndex = reduceRightWithIndex;\nexports.reduceWithIndex = reduceWithIndex;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The `Ord` type class represents types which support comparisons with a _total order_.\n *\n * Instances should satisfy the laws of total orderings:\n *\n * 1. Reflexivity: `S.compare(a, a) <= 0`\n * 2. Antisymmetry: if `S.compare(a, b) <= 0` and `S.compare(b, a) <= 0` then `a <-> b`\n * 3. Transitivity: if `S.compare(a, b) <= 0` and `S.compare(b, c) <= 0` then `S.compare(a, c) <= 0`\n *\n * @since 2.0.0\n */\nvar Ordering_1 = require(\"./Ordering\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Ord';\n// default compare for primitive types\nvar compare = function (x, y) {\n    return x < y ? -1 : x > y ? 1 : 0;\n};\nfunction strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexports.ordString = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexports.ordNumber = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexports.ordBoolean = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * Test whether one value is _strictly less than_ another\n *\n * @since 2.0.0\n */\nfunction lt(O) {\n    return function (x, y) { return O.compare(x, y) === -1; };\n}\nexports.lt = lt;\n/**\n * Test whether one value is _strictly greater than_ another\n *\n * @since 2.0.0\n */\nfunction gt(O) {\n    return function (x, y) { return O.compare(x, y) === 1; };\n}\nexports.gt = gt;\n/**\n * Test whether one value is _non-strictly less than_ another\n *\n * @since 2.0.0\n */\nfunction leq(O) {\n    return function (x, y) { return O.compare(x, y) !== 1; };\n}\nexports.leq = leq;\n/**\n * Test whether one value is _non-strictly greater than_ another\n *\n * @since 2.0.0\n */\nfunction geq(O) {\n    return function (x, y) { return O.compare(x, y) !== -1; };\n}\nexports.geq = geq;\n/**\n * Take the minimum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nfunction min(O) {\n    return function (x, y) { return (O.compare(x, y) === 1 ? y : x); };\n}\nexports.min = min;\n/**\n * Take the maximum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nfunction max(O) {\n    return function (x, y) { return (O.compare(x, y) === -1 ? y : x); };\n}\nexports.max = max;\n/**\n * Clamp a value between a minimum and a maximum\n *\n * @since 2.0.0\n */\nfunction clamp(O) {\n    var minO = min(O);\n    var maxO = max(O);\n    return function (low, hi) { return function (x) { return maxO(minO(x, hi), low); }; };\n}\nexports.clamp = clamp;\n/**\n * Test whether a value is between a minimum and a maximum (inclusive)\n *\n * @since 2.0.0\n */\nfunction between(O) {\n    var lessThanO = lt(O);\n    var greaterThanO = gt(O);\n    return function (low, hi) { return function (x) { return (lessThanO(x, low) || greaterThanO(x, hi) ? false : true); }; };\n}\nexports.between = between;\n/**\n * @since 2.0.0\n */\nfunction fromCompare(compare) {\n    var optimizedCompare = function (x, y) { return (x === y ? 0 : compare(x, y)); };\n    return {\n        equals: function (x, y) { return optimizedCompare(x, y) === 0; },\n        compare: optimizedCompare\n    };\n}\nexports.fromCompare = fromCompare;\nvar S = {\n    concat: function (x, y) { return fromCompare(function (a, b) { return Ordering_1.monoidOrdering.concat(x.compare(a, b), y.compare(a, b)); }); }\n};\n/**\n * Use `getMonoid` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nfunction getSemigroup() {\n    return S;\n}\nexports.getSemigroup = getSemigroup;\nvar M = {\n    // tslint:disable-next-line: deprecation\n    concat: getSemigroup().concat,\n    empty: fromCompare(function () { return 0; })\n};\n/**\n * Returns a `Monoid` such that:\n *\n * - its `concat(ord1, ord2)` operation will order first by `ord1`, and then by `ord2`\n * - its `empty` value is an `Ord` that always considers compared elements equal\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { contramap, getDualOrd, getMonoid, ordBoolean, ordNumber, ordString } from 'fp-ts/lib/Ord'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/Monoid'\n *\n * interface User {\n *   id: number\n *   name: string\n *   age: number\n *   rememberMe: boolean\n * }\n *\n * const byName = pipe(\n *   ordString,\n *   contramap((p: User) => p.name)\n * )\n *\n * const byAge = pipe(\n *   ordNumber,\n *   contramap((p: User) => p.age)\n * )\n *\n * const byRememberMe = pipe(\n *   ordBoolean,\n *   contramap((p: User) => p.rememberMe)\n * )\n *\n * const M = getMonoid<User>()\n *\n * const users: Array<User> = [\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true }\n * ]\n *\n * // sort by name, then by age, then by `rememberMe`\n * const O1 = fold(M)([byName, byAge, byRememberMe])\n * assert.deepStrictEqual(sort(O1)(users), [\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * // now `rememberMe = true` first, then by name, then by age\n * const O2 = fold(M)([getDualOrd(byRememberMe), byName, byAge])\n * assert.deepStrictEqual(sort(O2)(users), [\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * @since 2.4.0\n */\nfunction getMonoid() {\n    return M;\n}\nexports.getMonoid = getMonoid;\n/**\n * Given a tuple of `Ord`s returns an `Ord` for the tuple\n *\n * @example\n * import { getTupleOrd, ordString, ordNumber, ordBoolean } from 'fp-ts/lib/Ord'\n *\n * const O = getTupleOrd(ordString, ordNumber, ordBoolean)\n * assert.strictEqual(O.compare(['a', 1, true], ['b', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 1, false]), 1)\n *\n * @since 2.0.0\n */\nfunction getTupleOrd() {\n    var ords = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        ords[_i] = arguments[_i];\n    }\n    var len = ords.length;\n    return fromCompare(function (x, y) {\n        var i = 0;\n        for (; i < len - 1; i++) {\n            var r = ords[i].compare(x[i], y[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return ords[i].compare(x[i], y[i]);\n    });\n}\nexports.getTupleOrd = getTupleOrd;\n/**\n * @since 2.0.0\n */\nfunction getDualOrd(O) {\n    return fromCompare(function (x, y) { return O.compare(y, x); });\n}\nexports.getDualOrd = getDualOrd;\n/**\n * @since 2.0.0\n */\nexports.ord = {\n    URI: exports.URI,\n    contramap: function (fa, f) { return fromCompare(function (x, y) { return fa.compare(f(x), f(y)); }); }\n};\nvar contramap = pipeable_1.pipeable(exports.ord).contramap;\nexports.contramap = contramap;\n/**\n * @since 2.0.0\n */\nexports.ordDate = exports.ord.contramap(exports.ordNumber, function (date) { return date.valueOf(); });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction sign(n) {\n    return n <= -1 ? -1 : n >= 1 ? 1 : 0;\n}\nexports.sign = sign;\n/**\n * @since 2.0.0\n */\nexports.eqOrdering = {\n    equals: function (x, y) { return x === y; }\n};\n/**\n * Use `monoidOrdering` instead\n * @since 2.0.0\n * @deprecated\n */\nexports.semigroupOrdering = {\n    concat: function (x, y) { return (x !== 0 ? x : y); }\n};\n/**\n * @since 2.4.0\n */\nexports.monoidOrdering = {\n    // tslint:disable-next-line: deprecation\n    concat: exports.semigroupOrdering.concat,\n    empty: 0\n};\n/**\n * @since 2.0.0\n */\nfunction invert(O) {\n    switch (O) {\n        case -1:\n            return 1;\n        case 1:\n            return -1;\n        default:\n            return 0;\n    }\n}\nexports.invert = invert;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Array_1 = require(\"./Array\");\nvar Eq_1 = require(\"./Eq\");\nvar function_1 = require(\"./function\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Tree';\n/**\n * @since 2.0.0\n */\nfunction make(value, forest) {\n    if (forest === void 0) { forest = Array_1.empty; }\n    return {\n        value: value,\n        forest: forest\n    };\n}\nexports.make = make;\n/**\n * @since 2.0.0\n */\nfunction getShow(S) {\n    var show = function (t) {\n        return t.forest === Array_1.empty || t.forest.length === 0\n            ? \"make(\" + S.show(t.value) + \")\"\n            : \"make(\" + S.show(t.value) + \", [\" + t.forest.map(show).join(', ') + \"])\";\n    };\n    return {\n        show: show\n    };\n}\nexports.getShow = getShow;\n/**\n * @since 2.0.0\n */\nfunction getEq(E) {\n    var SA;\n    var R = Eq_1.fromEquals(function (x, y) { return E.equals(x.value, y.value) && SA.equals(x.forest, y.forest); });\n    SA = Array_1.getEq(R);\n    return R;\n}\nexports.getEq = getEq;\nvar draw = function (indentation, forest) {\n    var r = '';\n    var len = forest.length;\n    var tree;\n    for (var i = 0; i < len; i++) {\n        tree = forest[i];\n        var isLast = i === len - 1;\n        r += indentation + (isLast ? '' : '') + ' ' + tree.value;\n        r += draw(indentation + (len > 1 && !isLast ? '  ' : '   '), tree.forest);\n    }\n    return r;\n};\n/**\n * Neat 2-dimensional drawing of a forest\n *\n * @since 2.0.0\n */\nfunction drawForest(forest) {\n    return draw('\\n', forest);\n}\nexports.drawForest = drawForest;\n/**\n * Neat 2-dimensional drawing of a tree\n *\n * @example\n * import { make, drawTree, tree } from 'fp-ts/lib/Tree'\n *\n * const fa = make('a', [\n *   tree.of('b'),\n *   tree.of('c'),\n *   make('d', [tree.of('e'), tree.of('f')])\n * ])\n *\n * assert.strictEqual(drawTree(fa), `a\n *  b\n *  c\n *  d\n *     e\n *     f`)\n *\n *\n * @since 2.0.0\n */\nfunction drawTree(tree) {\n    return tree.value + drawForest(tree.forest);\n}\nexports.drawTree = drawTree;\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nfunction unfoldTree(b, f) {\n    var _a = f(b), a = _a[0], bs = _a[1];\n    return { value: a, forest: unfoldForest(bs, f) };\n}\nexports.unfoldTree = unfoldTree;\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nfunction unfoldForest(bs, f) {\n    return bs.map(function (b) { return unfoldTree(b, f); });\n}\nexports.unfoldForest = unfoldForest;\nfunction unfoldTreeM(M) {\n    var unfoldForestMM = unfoldForestM(M);\n    return function (b, f) { return M.chain(f(b), function (_a) {\n        var a = _a[0], bs = _a[1];\n        return M.chain(unfoldForestMM(bs, f), function (ts) { return M.of({ value: a, forest: ts }); });\n    }); };\n}\nexports.unfoldTreeM = unfoldTreeM;\nfunction unfoldForestM(M) {\n    var traverseM = Array_1.array.traverse(M);\n    return function (bs, f) { return traverseM(bs, function (b) { return unfoldTreeM(M)(b, f); }); };\n}\nexports.unfoldForestM = unfoldForestM;\n/**\n * @since 2.0.0\n */\nfunction elem(E) {\n    var go = function (a, fa) {\n        if (E.equals(a, fa.value)) {\n            return true;\n        }\n        return fa.forest.some(function (tree) { return go(a, tree); });\n    };\n    return go;\n}\nexports.elem = elem;\n/**\n * @since 2.0.0\n */\nexports.tree = {\n    URI: exports.URI,\n    map: function (fa, f) { return ({\n        value: f(fa.value),\n        forest: fa.forest.map(function (t) { return exports.tree.map(t, f); })\n    }); },\n    of: function (a) { return ({\n        value: a,\n        forest: Array_1.empty\n    }); },\n    ap: function (fab, fa) { return exports.tree.chain(fab, function (f) { return exports.tree.map(fa, f); }); },\n    chain: function (fa, f) {\n        var _a = f(fa.value), value = _a.value, forest = _a.forest;\n        var concat = Array_1.getMonoid().concat;\n        return {\n            value: value,\n            forest: concat(forest, fa.forest.map(function (t) { return exports.tree.chain(t, f); }))\n        };\n    },\n    reduce: function (fa, b, f) {\n        var r = f(b, fa.value);\n        var len = fa.forest.length;\n        for (var i = 0; i < len; i++) {\n            r = exports.tree.reduce(fa.forest[i], r, f);\n        }\n        return r;\n    },\n    foldMap: function (M) { return function (fa, f) { return exports.tree.reduce(fa, M.empty, function (acc, a) { return M.concat(acc, f(a)); }); }; },\n    reduceRight: function (fa, b, f) {\n        var r = b;\n        var len = fa.forest.length;\n        for (var i = len - 1; i >= 0; i--) {\n            r = exports.tree.reduceRight(fa.forest[i], r, f);\n        }\n        return f(fa.value, r);\n    },\n    traverse: function (F) {\n        var traverseF = Array_1.array.traverse(F);\n        var r = function (ta, f) {\n            return F.ap(F.map(f(ta.value), function (value) { return function (forest) { return ({\n                value: value,\n                forest: forest\n            }); }; }), traverseF(ta.forest, function (t) { return r(t, f); }));\n        };\n        return r;\n    },\n    sequence: function (F) {\n        var traverseF = exports.tree.traverse(F);\n        return function (ta) { return traverseF(ta, function_1.identity); };\n    },\n    extract: function (wa) { return wa.value; },\n    extend: function (wa, f) { return ({\n        value: f(wa),\n        forest: wa.forest.map(function (t) { return exports.tree.extend(t, f); })\n    }); }\n};\nvar _a = pipeable_1.pipeable(exports.tree), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\nvar RR = require(\"./ReadonlyRecord\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Record';\n/**\n * @since 2.0.0\n */\nexports.getShow = RR.getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.0.0\n */\nexports.size = RR.size;\n/**\n * Test whether a record is empty\n *\n * @since 2.0.0\n */\nexports.isEmpty = RR.isEmpty;\n/**\n * @since 2.0.0\n */\nexports.keys = RR.keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/Record'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.0.0\n */\nexports.collect = RR.collect;\n/**\n * @since 2.0.0\n */\nexports.toArray = RR.toReadonlyArray;\nfunction toUnfoldable(U) {\n    return RR.toUnfoldable(U);\n}\nexports.toUnfoldable = toUnfoldable;\nfunction insertAt(k, a) {\n    return RR.insertAt(k, a);\n}\nexports.insertAt = insertAt;\n/**\n * @since 2.0.0\n */\nexports.hasOwnProperty = RR.hasOwnProperty;\nfunction deleteAt(k) {\n    return RR.deleteAt(k);\n}\nexports.deleteAt = deleteAt;\n/**\n * @since 2.0.0\n */\nexports.updateAt = RR.updateAt;\n/**\n * @since 2.0.0\n */\nexports.modifyAt = RR.modifyAt;\nfunction pop(k) {\n    return RR.pop(k);\n}\nexports.pop = pop;\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.0.0\n */\nexports.isSubrecord = RR.isSubrecord;\nfunction getEq(E) {\n    return RR.getEq(E);\n}\nexports.getEq = getEq;\nfunction getMonoid(S) {\n    return RR.getMonoid(S);\n}\nexports.getMonoid = getMonoid;\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.0.0\n */\nexports.lookup = RR.lookup;\n/**\n * @since 2.0.0\n */\nexports.empty = {};\nfunction mapWithIndex(f) {\n    return RR.mapWithIndex(f);\n}\nexports.mapWithIndex = mapWithIndex;\nfunction map(f) {\n    return RR.map(f);\n}\nexports.map = map;\nfunction reduceWithIndex(b, f) {\n    return RR.reduceWithIndex(b, f);\n}\nexports.reduceWithIndex = reduceWithIndex;\nfunction foldMapWithIndex(M) {\n    return RR.foldMapWithIndex(M);\n}\nexports.foldMapWithIndex = foldMapWithIndex;\nfunction reduceRightWithIndex(b, f) {\n    return RR.reduceRightWithIndex(b, f);\n}\nexports.reduceRightWithIndex = reduceRightWithIndex;\n/**\n * Create a record with one key/value pair\n *\n * @since 2.0.0\n */\nexports.singleton = RR.singleton;\nfunction traverseWithIndex(F) {\n    return RR.traverseWithIndex(F);\n}\nexports.traverseWithIndex = traverseWithIndex;\nfunction traverse(F) {\n    return RR.traverse(F);\n}\nexports.traverse = traverse;\nfunction sequence(F) {\n    return RR.sequence(F);\n}\nexports.sequence = sequence;\nfunction partitionMapWithIndex(f) {\n    return RR.partitionMapWithIndex(f);\n}\nexports.partitionMapWithIndex = partitionMapWithIndex;\nfunction partitionWithIndex(predicateWithIndex) {\n    return RR.partitionWithIndex(predicateWithIndex);\n}\nexports.partitionWithIndex = partitionWithIndex;\nfunction filterMapWithIndex(f) {\n    return RR.filterMapWithIndex(f);\n}\nexports.filterMapWithIndex = filterMapWithIndex;\nfunction filterWithIndex(predicateWithIndex) {\n    return RR.filterWithIndex(predicateWithIndex);\n}\nexports.filterWithIndex = filterWithIndex;\nfunction fromFoldable(M, F) {\n    return RR.fromFoldable(M, F);\n}\nexports.fromFoldable = fromFoldable;\nfunction fromFoldableMap(M, F) {\n    return RR.fromFoldableMap(M, F);\n}\nexports.fromFoldableMap = fromFoldableMap;\n/**\n * @since 2.0.0\n */\nexports.every = RR.every;\n/**\n * @since 2.0.0\n */\nexports.some = RR.some;\n/**\n * @since 2.0.0\n */\nexports.elem = RR.elem;\n/**\n * @since 2.0.0\n */\nexports.record = {\n    URI: exports.URI,\n    map: RR.readonlyRecord.map,\n    reduce: RR.readonlyRecord.reduce,\n    foldMap: RR.readonlyRecord.foldMap,\n    reduceRight: RR.readonlyRecord.reduceRight,\n    traverse: RR.readonlyRecord.traverse,\n    sequence: sequence,\n    compact: RR.readonlyRecord.compact,\n    separate: RR.readonlyRecord.separate,\n    filter: RR.readonlyRecord.filter,\n    filterMap: RR.readonlyRecord.filterMap,\n    partition: RR.readonlyRecord.partition,\n    partitionMap: RR.readonlyRecord.partitionMap,\n    wither: RR.readonlyRecord.wither,\n    wilt: RR.readonlyRecord.wilt,\n    mapWithIndex: RR.readonlyRecord.mapWithIndex,\n    reduceWithIndex: RR.readonlyRecord.reduceWithIndex,\n    foldMapWithIndex: RR.readonlyRecord.foldMapWithIndex,\n    reduceRightWithIndex: RR.readonlyRecord.reduceRightWithIndex,\n    traverseWithIndex: RR.readonlyRecord.traverseWithIndex,\n    partitionMapWithIndex: RR.readonlyRecord.partitionMapWithIndex,\n    partitionWithIndex: RR.readonlyRecord.partitionWithIndex,\n    filterMapWithIndex: RR.readonlyRecord.filterMapWithIndex,\n    filterWithIndex: RR.readonlyRecord.filterWithIndex\n};\nvar _a = pipeable_1.pipeable(exports.record), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.foldMap = foldMap;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Eq_1 = require(\"./Eq\");\nvar function_1 = require(\"./function\");\nvar Option_1 = require(\"./Option\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.5.0\n */\nexports.URI = 'ReadonlyRecord';\n/**\n * @since 2.5.0\n */\nfunction fromRecord(r) {\n    return Object.assign({}, r);\n}\nexports.fromRecord = fromRecord;\n/**\n * @since 2.5.0\n */\nfunction toRecord(r) {\n    return Object.assign({}, r);\n}\nexports.toRecord = toRecord;\n/**\n * @since 2.5.0\n */\nfunction getShow(S) {\n    return {\n        show: function (r) {\n            var elements = collect(function (k, a) { return JSON.stringify(k) + \": \" + S.show(a); })(r).join(', ');\n            return elements === '' ? '{}' : \"{ \" + elements + \" }\";\n        }\n    };\n}\nexports.getShow = getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.5.0\n */\nfunction size(r) {\n    return Object.keys(r).length;\n}\nexports.size = size;\n/**\n * Test whether a record is empty\n *\n * @since 2.5.0\n */\nfunction isEmpty(r) {\n    return Object.keys(r).length === 0;\n}\nexports.isEmpty = isEmpty;\n/**\n * @since 2.5.0\n */\nfunction keys(r) {\n    return Object.keys(r).sort();\n}\nexports.keys = keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/ReadonlyRecord'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.5.0\n */\nfunction collect(f) {\n    return function (r) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        for (var _i = 0, _a = keys(r); _i < _a.length; _i++) {\n            var key = _a[_i];\n            out.push(f(key, r[key]));\n        }\n        return out;\n    };\n}\nexports.collect = collect;\n/**\n * @since 2.5.0\n */\nexports.toReadonlyArray = collect(function (k, a) { return [k, a]; });\nfunction toUnfoldable(U) {\n    return function (r) {\n        var arr = exports.toReadonlyArray(r);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? Option_1.some([arr[b], b + 1]) : Option_1.none); });\n    };\n}\nexports.toUnfoldable = toUnfoldable;\nfunction insertAt(k, a) {\n    return function (r) {\n        if (r[k] === a) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return out;\n    };\n}\nexports.insertAt = insertAt;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 2.5.0\n */\nfunction hasOwnProperty(k, r) {\n    return _hasOwnProperty.call(r, k);\n}\nexports.hasOwnProperty = hasOwnProperty;\nfunction deleteAt(k) {\n    return function (r) {\n        if (!_hasOwnProperty.call(r, k)) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        delete out[k];\n        return out;\n    };\n}\nexports.deleteAt = deleteAt;\n/**\n * @since 2.5.0\n */\nfunction updateAt(k, a) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return Option_1.none;\n        }\n        if (r[k] === a) {\n            return Option_1.some(r);\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return Option_1.some(out);\n    };\n}\nexports.updateAt = updateAt;\n/**\n * @since 2.5.0\n */\nfunction modifyAt(k, f) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return Option_1.none;\n        }\n        var out = Object.assign({}, r);\n        out[k] = f(r[k]);\n        return Option_1.some(out);\n    };\n}\nexports.modifyAt = modifyAt;\nfunction pop(k) {\n    var deleteAtk = deleteAt(k);\n    return function (r) {\n        var oa = lookup(k, r);\n        return Option_1.isNone(oa) ? Option_1.none : Option_1.some([oa.value, deleteAtk(r)]);\n    };\n}\nexports.pop = pop;\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.5.0\n */\nfunction isSubrecord(E) {\n    return function (x, y) {\n        for (var k in x) {\n            if (!_hasOwnProperty.call(y, k) || !E.equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.isSubrecord = isSubrecord;\nfunction getEq(E) {\n    var isSubrecordE = isSubrecord(E);\n    return Eq_1.fromEquals(function (x, y) { return isSubrecordE(x, y) && isSubrecordE(y, x); });\n}\nexports.getEq = getEq;\nfunction getMonoid(S) {\n    return {\n        concat: function (x, y) {\n            if (x === exports.empty) {\n                return y;\n            }\n            if (y === exports.empty) {\n                return x;\n            }\n            var keys = Object.keys(y);\n            var len = keys.length;\n            if (len === 0) {\n                return x;\n            }\n            var r = __assign({}, x);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                r[k] = _hasOwnProperty.call(x, k) ? S.concat(x[k], y[k]) : y[k];\n            }\n            return r;\n        },\n        empty: exports.empty\n    };\n}\nexports.getMonoid = getMonoid;\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.5.0\n */\nfunction lookup(k, r) {\n    return _hasOwnProperty.call(r, k) ? Option_1.some(r[k]) : Option_1.none;\n}\nexports.lookup = lookup;\n/**\n * @since 2.5.0\n */\nexports.empty = {};\nfunction mapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.mapWithIndex(fa, f); };\n}\nexports.mapWithIndex = mapWithIndex;\nfunction map(f) {\n    return mapWithIndex(function (_, a) { return f(a); });\n}\nexports.map = map;\nfunction reduceWithIndex(b, f) {\n    return function (fa) { return exports.readonlyRecord.reduceWithIndex(fa, b, f); };\n}\nexports.reduceWithIndex = reduceWithIndex;\nfunction foldMapWithIndex(M) {\n    var foldMapWithIndexM = exports.readonlyRecord.foldMapWithIndex(M);\n    return function (f) { return function (fa) { return foldMapWithIndexM(fa, f); }; };\n}\nexports.foldMapWithIndex = foldMapWithIndex;\nfunction reduceRightWithIndex(b, f) {\n    return function (fa) { return exports.readonlyRecord.reduceRightWithIndex(fa, b, f); };\n}\nexports.reduceRightWithIndex = reduceRightWithIndex;\n/**\n * Create a record with one key/value pair\n *\n * @since 2.5.0\n */\nfunction singleton(k, a) {\n    var _a;\n    return _a = {}, _a[k] = a, _a;\n}\nexports.singleton = singleton;\nfunction traverseWithIndex(F) {\n    var traverseWithIndexF = exports.readonlyRecord.traverseWithIndex(F);\n    return function (f) { return function (ta) { return traverseWithIndexF(ta, f); }; };\n}\nexports.traverseWithIndex = traverseWithIndex;\nfunction traverse(F) {\n    var traverseWithIndexF = traverseWithIndex(F);\n    return function (f) { return traverseWithIndexF(function (_, a) { return f(a); }); };\n}\nexports.traverse = traverse;\nfunction sequence(F) {\n    return traverseWithIndex(F)(function (_, a) { return a; });\n}\nexports.sequence = sequence;\nfunction partitionMapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.partitionMapWithIndex(fa, f); };\n}\nexports.partitionMapWithIndex = partitionMapWithIndex;\nfunction partitionWithIndex(predicateWithIndex) {\n    return function (fa) { return exports.readonlyRecord.partitionWithIndex(fa, predicateWithIndex); };\n}\nexports.partitionWithIndex = partitionWithIndex;\nfunction filterMapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.filterMapWithIndex(fa, f); };\n}\nexports.filterMapWithIndex = filterMapWithIndex;\nfunction filterWithIndex(predicateWithIndex) {\n    return function (fa) { return exports.readonlyRecord.filterWithIndex(fa, predicateWithIndex); };\n}\nexports.filterWithIndex = filterWithIndex;\nfunction fromFoldable(M, F) {\n    var fromFoldableMapM = fromFoldableMap(M, F);\n    return function (fka) { return fromFoldableMapM(fka, function_1.identity); };\n}\nexports.fromFoldable = fromFoldable;\nfunction fromFoldableMap(M, F) {\n    return function (ta, f) {\n        return F.reduce(ta, {}, function (r, a) {\n            var _a = f(a), k = _a[0], b = _a[1];\n            r[k] = _hasOwnProperty.call(r, k) ? M.concat(r[k], b) : b;\n            return r;\n        });\n    };\n}\nexports.fromFoldableMap = fromFoldableMap;\n/**\n * @since 2.5.0\n */\nfunction every(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (!predicate(r[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.every = every;\n/**\n * @since 2.5.0\n */\nfunction some(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (predicate(r[k])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.some = some;\n/**\n * @since 2.5.0\n */\nfunction elem(E) {\n    return function (a, fa) {\n        for (var k in fa) {\n            if (E.equals(fa[k], a)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.elem = elem;\n/**\n * @since 2.5.0\n */\nexports.readonlyRecord = {\n    URI: exports.URI,\n    map: function (fa, f) { return exports.readonlyRecord.mapWithIndex(fa, function (_, a) { return f(a); }); },\n    reduce: function (fa, b, f) { return exports.readonlyRecord.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = exports.readonlyRecord.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return exports.readonlyRecord.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    traverse: function (F) {\n        var traverseWithIndexF = exports.readonlyRecord.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: sequence,\n    compact: function (fa) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var optionA = fa[key];\n            if (Option_1.isSome(optionA)) {\n                r[key] = optionA.value;\n            }\n        }\n        return r;\n    },\n    separate: function (fa) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var e = fa[key];\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, predicate) {\n        return exports.readonlyRecord.filterWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    filterMap: function (fa, f) { return exports.readonlyRecord.filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return exports.readonlyRecord.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return exports.readonlyRecord.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    wither: function (F) {\n        var traverseF = exports.readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyRecord.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = exports.readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyRecord.separate); };\n    },\n    mapWithIndex: function (fa, f) {\n        var out = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n            var key = keys_3[_i];\n            out[key] = f(key, fa[key]);\n        }\n        return out;\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = f(k, out, fa[k]);\n        }\n        return out;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) {\n        var out = M.empty;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = M.concat(out, f(k, fa[k]));\n        }\n        return out;\n    }; },\n    reduceRightWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = keys[i];\n            out = f(k, fa[k], out);\n        }\n        return out;\n    },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        var keys = Object.keys(ta);\n        if (keys.length === 0) {\n            return F.of(exports.empty);\n        }\n        var fr = F.of({});\n        var _loop_1 = function (key) {\n            fr = F.ap(F.map(fr, function (r) { return function (b) {\n                r[key] = b;\n                return r;\n            }; }), f(key, ta[key]));\n        };\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var key = keys_4[_i];\n            _loop_1(key);\n        }\n        return fr;\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\n            var key = keys_5[_i];\n            var e = f(key, fa[key]);\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_6 = keys; _i < keys_6.length; _i++) {\n            var key = keys_6[_i];\n            var a = fa[key];\n            if (predicateWithIndex(key, a)) {\n                right[key] = a;\n            }\n            else {\n                left[key] = a;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_7 = keys; _i < keys_7.length; _i++) {\n            var key = keys_7[_i];\n            var optionB = f(key, fa[key]);\n            if (Option_1.isSome(optionB)) {\n                r[key] = optionB.value;\n            }\n        }\n        return r;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        var out = {};\n        var changed = false;\n        for (var key in fa) {\n            if (_hasOwnProperty.call(fa, key)) {\n                var a = fa[key];\n                if (predicateWithIndex(key, a)) {\n                    out[key] = a;\n                }\n                else {\n                    changed = true;\n                }\n            }\n        }\n        return changed ? out : fa;\n    }\n};\nvar _a = pipeable_1.pipeable(exports.readonlyRecord), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.foldMap = foldMap;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\n/* tested in wave */\n/* istanbul ignore next */\nexports.natNumber = function (msg) { return function (n) {\n    return n < 0 || Math.round(n) !== n ? T.raiseAbort(msg) : T.unit;\n}; };\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar S = __importStar(require(\"./stream\"));\nvar Sink = __importStar(require(\"./sink\"));\nvar Q = __importStar(require(\"../queue\"));\nvar T = __importStar(require(\"../effect\"));\nvar M = __importStar(require(\"../managed\"));\nvar Option_1 = require(\"fp-ts/lib/Option\");\nvar pipeable_1 = require(\"fp-ts/lib/pipeable\");\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar support_1 = require(\"./support\");\nfunction subject(_) {\n    var listeners = new Map();\n    function next(_) {\n        listeners.forEach(function (f) {\n            f(_);\n        });\n    }\n    return Do_1.Do(T.effect)\n        .bind(\"q\", Q.unboundedQueue())\n        .bindL(\"into\", function (_a) {\n        var q = _a.q;\n        return pipeable_1.pipe(_, S.into(Sink.queueOptionSink(q)), T.chainError(function (e) {\n            return pipeable_1.pipe(T.sync(function () {\n                next({ _tag: \"error\", e: e });\n            }), T.chain(function () { return T.raiseError(e); }));\n        }), T.fork);\n    })\n        .bindL(\"extract\", function (_a) {\n        var q = _a.q;\n        return pipeable_1.pipe(q.take, T.chainTap(function (_) {\n            return T.sync(function () { return next(Option_1.isSome(_) ? { _tag: \"offer\", a: _.value } : { _tag: \"complete\" }); });\n        }), T.forever, T.fork);\n    })[\"return\"](function (_a) {\n        var into = _a.into, extract = _a.extract;\n        var interrupt = pipeable_1.pipe(T.sequenceT(into.interrupt, extract.interrupt, T.sync(function () {\n            next({ _tag: \"complete\" });\n        })), T.asUnit);\n        var subscribe = T.sync(function () {\n            var _a = support_1.queueUtils(), next = _a.next, ops = _a.ops, hasCB = _a.hasCB;\n            var push = function (_) {\n                next(_);\n            };\n            listeners.set(push, push);\n            return S.fromSource(pipeable_1.pipe(M.bracket(T.unit, function () {\n                return T.sync(function () {\n                    listeners[\"delete\"](push);\n                });\n            }), M.chain(function () { return support_1.emitter(ops, hasCB); })));\n        });\n        return {\n            interrupt: interrupt,\n            subscribe: subscribe\n        };\n    });\n}\nexports.subject = subject;\n"],"sourceRoot":""}