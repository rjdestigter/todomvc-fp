{"version":3,"sources":["../node_modules/fp-ts/es6/Functor.js","../node_modules/fp-ts/es6/Applicative.js","../node_modules/fp-ts/es6/boolean.js","../node_modules/fp-ts/es6/BooleanAlgebra.js","../node_modules/fp-ts/es6/Bounded.js","../node_modules/fp-ts/es6/DistributiveLattice.js","../node_modules/fp-ts/es6/BoundedDistributiveLattice.js","../node_modules/fp-ts/es6/Choice.js","../node_modules/fp-ts/es6/Compactable.js","../node_modules/fp-ts/es6/Console.js","../node_modules/fp-ts/es6/Const.js","../node_modules/fp-ts/es6/Date.js","../node_modules/fp-ts/es6/EitherT.js","../node_modules/fp-ts/es6/Field.js","../node_modules/fp-ts/es6/Filterable.js","../node_modules/fp-ts/es6/Foldable.js","../node_modules/fp-ts/es6/FoldableWithIndex.js","../node_modules/fp-ts/es6/FunctorWithIndex.js","../node_modules/fp-ts/es6/Identity.js","../node_modules/fp-ts/es6/IO.js","../node_modules/fp-ts/es6/ValidationT.js","../node_modules/fp-ts/es6/IOEither.js","../node_modules/fp-ts/es6/IORef.js","../node_modules/fp-ts/es6/ReadonlyMap.js","../node_modules/fp-ts/es6/Map.js","../node_modules/fp-ts/es6/Semigroup.js","../node_modules/fp-ts/es6/Monoid.js","../node_modules/fp-ts/es6/ReadonlyNonEmptyArray.js","../node_modules/fp-ts/es6/NonEmptyArray.js","../node_modules/fp-ts/es6/OptionT.js","../node_modules/fp-ts/es6/Random.js","../node_modules/fp-ts/es6/ReaderT.js","../node_modules/fp-ts/es6/Reader.js","../node_modules/fp-ts/es6/ReaderEither.js","../node_modules/fp-ts/es6/Task.js","../node_modules/fp-ts/es6/ReaderTask.js","../node_modules/fp-ts/es6/TaskEither.js","../node_modules/fp-ts/es6/ReaderTaskEither.js","../node_modules/fp-ts/es6/ReadonlySet.js","../node_modules/fp-ts/es6/ReadonlyTuple.js","../node_modules/fp-ts/es6/Semiring.js","../node_modules/fp-ts/es6/Ring.js","../node_modules/fp-ts/es6/Set.js","../node_modules/fp-ts/es6/Show.js","../node_modules/fp-ts/es6/StateT.js","../node_modules/fp-ts/es6/State.js","../node_modules/fp-ts/es6/StateReaderTaskEither.js","../node_modules/fp-ts/es6/Store.js","../node_modules/fp-ts/es6/Strong.js","../node_modules/fp-ts/es6/These.js","../node_modules/fp-ts/es6/TheseT.js","../node_modules/fp-ts/es6/TaskThese.js","../node_modules/fp-ts/es6/Traced.js","../node_modules/fp-ts/es6/Traversable.js","../node_modules/fp-ts/es6/Tuple.js","../node_modules/fp-ts/es6/WriterT.js","../node_modules/fp-ts/es6/Writer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@matechs/effect/es6/original/exit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@matechs/effect/es6/listc.js","../node_modules/@matechs/effect/es6/defs.js","../node_modules/@matechs/effect/es6/original/runtime.js","../node_modules/@matechs/effect/es6/list.js","../node_modules/@matechs/effect/es6/driverSync.js","../node_modules/@matechs/effect/es6/driver.js","../node_modules/@matechs/effect/es6/original/support/util.js","../node_modules/@matechs/effect/es6/ref.js","../node_modules/@matechs/effect/es6/original/support/completable.js","../node_modules/@matechs/effect/es6/deferred.js","../node_modules/fp-ts-contrib/es6/Do.js","../node_modules/@matechs/effect/es6/effect.js","../node_modules/@matechs/effect/es6/managed.js","../node_modules/@matechs/effect/es6/original/support/list.js","../node_modules/@matechs/effect/es6/original/support/dequeue.js","../node_modules/@matechs/effect/es6/ticket.js","../node_modules/@matechs/effect/es6/semaphore.js","../node_modules/@matechs/effect/es6/queue.js","../node_modules/@matechs/effect/es6/sanity.js","../node_modules/@matechs/effect/es6/stream/step.js","../node_modules/@matechs/effect/es6/stream/sink.js","../node_modules/@matechs/effect/es6/stream/support.js","../node_modules/@matechs/effect/es6/stream/stream.js","../node_modules/@matechs/effect/es6/stream/subject.js","../node_modules/@matechs/effect/es6/freeEnv.js","../node_modules/fp-ts/es6/ReadonlyArray.js","../node_modules/fp-ts/es6/Option.js","../node_modules/fp-ts/lib/pipeable.js","../node_modules/fp-ts/es6/pipeable.js","../node_modules/fp-ts/es6/Either.js","../node_modules/fp-ts/es6/ReadonlyRecord.js","../node_modules/fp-ts/lib/function.js","../node_modules/fp-ts/es6/function.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/fp-ts/lib/Option.js","../node_modules/@matechs/effect/lib/effect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/fp-ts/es6/Apply.js","../node_modules/fp-ts/es6/Array.js","../node_modules/fp-ts/lib/ReadonlyArray.js","../node_modules/fp-ts/es6/Ord.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/fp-ts/es6/Eq.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/fp-ts/es6/Record.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/io-ts/es6/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/webpack/buildin/global.js","../node_modules/fp-ts-contrib/lib/Do.js","../node_modules/fp-ts/es6/ChainRec.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@matechs/console/es6/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/core-util-is/lib/util.js","../node_modules/fp-ts/es6/Tree.js","../node_modules/fp-ts/lib/Eq.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/process/browser.js","../node_modules/process-nextick-args/index.js","../node_modules/@matechs/effect/lib/original/exit.js","../node_modules/@matechs/effect/lib/ref.js","../node_modules/@matechs/effect/lib/deferred.js","../node_modules/fp-ts/lib/Apply.js","../node_modules/fp-ts/es6/Ordering.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/stream-browserify/index.js","../node_modules/fp-ts/lib/Either.js","../node_modules/events/events.js","../node_modules/readable-stream/readable-browser.js","../node_modules/readable-stream/node_modules/safe-buffer/index.js","../node_modules/buffer/index.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/@matechs/effect/lib/managed.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/isarray/index.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/@matechs/effect/lib/stream/stream.js","../node_modules/@matechs/effect/lib/original/runtime.js","../node_modules/@matechs/effect/lib/listc.js","../node_modules/@matechs/effect/lib/list.js","../node_modules/fp-ts/lib/Array.js","../node_modules/@matechs/effect/lib/queue.js","../node_modules/@matechs/effect/lib/semaphore.js","../node_modules/@matechs/effect/lib/original/support/dequeue.js","../node_modules/@matechs/effect/lib/original/support/list.js","../node_modules/@matechs/effect/lib/ticket.js","../node_modules/@matechs/effect/lib/stream/sink.js","../node_modules/@matechs/effect/lib/stream/step.js","../node_modules/@matechs/effect/lib/stream/support.js","../node_modules/@matechs/effect/lib/stream/index.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","../node_modules/util-deprecate/browser.js","../node_modules/string_decoder/node_modules/safe-buffer/index.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/writable-browser.js","../node_modules/readable-stream/duplex-browser.js","../node_modules/readable-stream/transform.js","../node_modules/readable-stream/passthrough.js","../node_modules/fp-ts/lib/ChainRec.js","../node_modules/fp-ts/lib/Ord.js","../node_modules/fp-ts/lib/Ordering.js","../node_modules/@matechs/effect/lib/driverSync.js","../node_modules/@matechs/effect/lib/driver.js","../node_modules/@matechs/effect/lib/original/support/util.js","../node_modules/@matechs/effect/lib/defs.js","../node_modules/@matechs/effect/lib/original/support/completable.js","../node_modules/fp-ts/lib/Tree.js","../node_modules/fp-ts/lib/Record.js","../node_modules/fp-ts/lib/ReadonlyRecord.js","../node_modules/@matechs/effect/lib/sanity.js","../node_modules/@matechs/effect/lib/stream/subject.js"],"names":["getFunctorComposition","F","G","map","fa","f","ga","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","getApplicativeComposition","of","a","ap","fgab","fga","h","fold","onFalse","onTrue","value","booleanAlgebraBoolean","meet","x","y","join","zero","one","implies","not","booleanAlgebraVoid","undefined","getFunctionBooleanAlgebra","B","getDualBooleanAlgebra","boundedNumber","ordNumber","top","Infinity","bottom","getMinMaxDistributiveLattice","O","min","max","getMinMaxBoundedDistributiveLattice","splitChoice","pab","pcd","compose","left","right","fanin","splitChoiceF","pac","pbc","promap","id","e","_tag","identity","getCompactableComposition","FC","CC","compact","separate","fge","getLeft","getRight","log","console","warn","error","info","URI","make","unsafeCoerce","getShow","S","show","c","getEq","getApply","_E","const_","fab","concat","getApplicative","M","empty","contramap","_a","pipeable","create","Date","now","getTime","getEitherM","A","either","chain","ma","isLeft","alt","fx","bimap","g","mapLeft","onLeft","onRight","getOrElse","orElse","swap","rightM","leftM","ml","fieldNumber","add","mul","sub","degree","_","div","mod","gcd","E","field","equals","lcm","gcdSF","getFilterableComposition","partitionMap","filterMap","partition","filter","getFoldableComposition","reduce","b","foldMap","foldMapF","foldMapG","reduceRight","foldM","mb","intercalate","sep","fm","init","acc","traverse_","mu","constant","applyFirst","getFoldableWithIndexComposition","reduceWithIndex","fi","gi","foldMapWithIndex","foldMapWithIndexF","foldMapWithIndexG","reduceRightWithIndex","getFunctorWithIndexComposition","mapWithIndex","mab","traverse","ta","sequence","extract","extend","wa","chainRec","tailRec","apFirst","apSecond","chainFirst","duplicate","flatten","getSemigroup","getMonoid","io","fromIO","getValidationM","getValidation","e1","isRight","e2","T","rightIO","leftIO","getIOSemigroup","getApplySemigroup","getApplyMonoid","tryCatch","onError","bracket","acquire","use","release","getIOValidation","ioEither","getFilterable","fromEitherK","_i","fromEither","chainEitherK","throwError","fromOption","fromPredicate","filterOrElse","IORef","_this","read","write","bind","modify","newIORef","fromMap","m","Map","toMap","SK","SA","elements","forEach","k","substring","size","d","isEmpty","member","lookupE","lookup","isSome","elem","values","next","done","v","keys","Array","from","sort","compare","collect","keysO","out","ks_1","key","push","get","toReadonlyArray","toUnfoldable","U","toArrayO","arr","len","unfold","some","none","insertAt","lookupWithKeyE","lookupWithKey","r","found","isNone","set","deleteAt","delete","updateAt","modifyAt","pop","deleteAtE","deleteAtEk","option","entries","ka","isSubmap","lookupWithKeyS","d1","d2","d2OptA","isSubmap_","fromEquals","mx","my","mxOptA","singleton","fromFoldable","fka","bOpt","_mapWithIndex","_partitionMapWithIndex","ei","_partitionWithIndex","_filterMapWithIndex","o","_filterWithIndex","getFilterableWithIndex","readonlyMap","partitionMapWithIndex","partitionWithIndex","filterMapWithIndex","filterWithIndex","getWitherable","ks","traverseWithIndex","_loop_1","traverseWithIndexF","foldMapWithIndexM","wilt","traverseF","wither","oa","predicate","RM","toArray","map_","as","getFirstSemigroup","getLastSemigroup","getTupleSemigroup","semigroups","getDualSemigroup","getFunctionSemigroup","getStructSemigroup","getMeetSemigroup","getJoinSemigroup","getObjectSemigroup","semigroupAll","semigroupAny","semigroupSum","semigroupProduct","semigroupString","semigroupVoid","getIntercalateSemigroup","monoidAll","monoidAny","monoidSum","monoidProduct","monoidString","monoidVoid","foldSemigroup","getTupleMonoid","monoids","getDualMonoid","getFunctionMonoid","getEndomorphismMonoid","getStructMonoid","getMeetMonoid","getJoinMonoid","cons","RA","snoc","fromReadonlyArray","fromArray","head","nea","tail","slice","reverse","ord","group","groupSort","sortO","groupO","groupBy","as_1","last","fy","zipWith","zip","unzip","readonlyNonEmptyArray","RNEA","copy","l","nonEmptyArray","getOptionM","fnone","onNone","onSome","fromM","random","Math","randomInt","low","high","floor","randomRange","randomBool","getReaderM","ask","asks","local","q","fromReader","reader","mbc","ab","la","first","second","rightReader","leftReader","getReaderSemigroup","getReaderValidation","readerEither","never","Promise","then","rx","ry","task","getRaceMonoid","race","delay","millis","resolve","setTimeout","fromIOK","chainIOK","all","fromTask","taskSeq","TA","run","fromTaskK","chainTaskK","readerTask","readerTaskSeq","rightTask","me","leftTask","fromIOEither","getTaskSemigroup","onRejected","reason","taskify","args","getTaskValidation","taskEither","fromIOEitherK","chainIOEitherK","tryCatchK","taskEitherSeq","TE","fromTaskEither","leftReaderTask","rightReaderTask","fromReaderEither","pipe","aquire","getReaderTaskValidation","readerTaskEither","fromTaskEitherK","chainTaskEitherK","readerTaskEitherSeq","fromSet","Set","toSet","subsetE","isSubset","elemE","every","union","intersection","EB","EC","hasB","hasC","difference","getUnionMonoid","getIntersectionSemigroup","insert","remove","ax","has","EE","EA","elemEE","elemEA","ob","fst","sa","snd","readonlyTuple","getChain","getMonad","getChainRec","result","ba","ae","fea","fas","getFunctionSemiring","getFunctionRing","ring","negate","getTupleRing","rings","R","RS","subset","toggle","removeE","insertE","showString","JSON","stringify","showNumber","showBoolean","getStructShow","shows","getTupleShow","getStateM","s1","put","gets","fromState","evalState","execState","state","RTE","fromReaderTaskEither","rightState","leftState","fromReaderTaskEitherK","chainReaderTaskEitherK","stateReaderTaskEither","stateReaderTaskEitherSeq","seek","peek","pos","seeks","peeks","experiment","store","splitStrong","fanout","splitStrongF","split","both","onBoth","SE","isBoth","fb","these","toTuple","leftOrBoth","rightOrBoth","getLeftOnly","getRightOnly","fromOptions","fe","getTheseM","mapT","leftT","TH","taskThese","tracks","listen","listens","censor","getComonad","monoid","traced","p1","p2","getTraversableComposition","H","traverseG","sequenceF","sequenceG","fgha","RT","tuple","getWriterM","w","evalWriter","execWriter","tell","pass","_b","W","w1","w2","writer","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","raise","interrupt","_createForOfIteratorHelper","Symbol","iterator","isArray","unsupportedIterableToArray","_e","TypeError","it","err","normalCompletion","didErr","step","_e2","EffectTag","LinkedListNode","LinkedList","newNode","deletedHead","DoublyLinkedListNode","previous","DoublyLinkedList","deletedTail","defaultRuntime","running","array","isRunning","deleteHead","thunk","append","ms","handle","dispatch","cb","clearTimeout","list","isNotEmpty","newLast","prev","singleNode","isSingleton","popUnsafe","popLastUnsafe","lastUnsafe","Frame","FoldFrame","recover","MapFrame","makeInterruptFrame","interruptStatus","u","fromEffect","exitRegion","DriverSyncImpl","runtime","completed","started","interrupted","currentFrame","envStack","listeners","Error","interruptRegionStack","frame","isInterruptible","complete","go","interruptExit","loop","dispatchResumeInterrupt","Pure","status","cause","foldResume","current","AccessEnv","env","L","ProvideEnv","f1","foldExit","f0","PureOption","PureEither","Raised","Completed","Suspended","Async","Chain","Collapse","f2","InterruptibleRegion","AccessRuntime","AccessInterruptible","resumeInterrupt","isComplete","DriverImpl","interruptWithError","cancelAsync","op","wrappedCancel","resume","deleteTail","contextSwitch","tuple2","makeRef","initial","update","CompletableImpl","DeferredImpl","wait","callback","exit","source","effect","onInterrupted","makeDeferred","DoClass","do","action","doL","name","bindL","let","letL","sequenceS","sequenceSL","return","Do","Implementation","eff","pure","raised","raiseError","ex","raiseAbort","abortedWith","raiseInterrupt","suspended","sync","trySync","trySyncMap","async","asyncTotal","Ei","interruptibleRegion","inner","flag","chain_","chainOption","onEmpty","encaseOption","chainEither","encaseEither","chainTask","encaseTask","chainTaskEither","encaseTaskEither","failure","success","foldExit_","accessInterruptible","accessRuntime","withRuntime","accessEnvironment","accessM","access","provide","inverted","provideR","r2","provideM","rm","base","lift","liftEither","to","chainTap","chainTap_","asUnit","unit","chainError","chainError_","mapError","mapLeft_","zipWith_","zip_","applySecond","applySecondL","ap__","ioa","iof","flip","forever","interruptible","uninterruptible","after","dispatchLater","makeInterruptMaskCutout","uninterruptibleMask","cutout","interruptibleMask","combineFinalizerExit","fiberExit","releaseExit","bracketExit","finalize","onComplete_","finalizer","onComplete","onInterrupted_","combineInterruptExit","errors","Ar","others","dropLeft","shifted","shiftBefore","shiftAfter","shiftedAsync","shiftAsyncBefore","shiftAsyncAfter","setInterval","clearInterval","liftDelay","FiberImpl","driver","Op","fromNullable","sendInterrupt","onExit","opt","pureNone","makeFiber","fiber","start","fork","completeLatched","latch","channel","combine","other","act","raceFold","onFirstWon","onSecondWon","fiber1","fiber2","i1","i2","timeoutFold","onTimeout","onCompleted","delayFiber","interruptLoser","loser","raceFirst","io1","io2","fallbackToLoser","parZipWith","iob","aExit","bFiber","bExit","aFiber","parZip","parApplyFirst","parApplySecond","parAp","parAp_","orAbort","timeoutOption","actionFiber","fromPromise","catch","fromPromiseMap","runSync","runUnsafeSync","runToPromise","reject","runToPromiseExit","flow","alt_","leftMap","rightMap","DoG","SS","sequenceT","ST","parEffect","_CTX","parDo","parSequenceS","parSequenceT","when","or_","or","condWith","cond","fromNullableM","getCauseSemigroup","ca","getCauseValidationM","fabe","fae","fbe","effectify","ManagedTag","sequenceOption","traverseOption","wiltOption","witherOption","sequenceEither","traverseEither","sequenceTree","TR","tree","traverseTree","sequenceTreePar","traverseTreePar","sequenceArray","traverseArray","traverseArrayWithIndex","wiltArray","witherArray","sequenceArrayPar","traverseArrayPar","traverseArrayWithIndexPar","wiltArrayPar","witherArrayPar","sequenceRecord","RE","record","traverseRecord","traverseRecordWithIndex","wiltRecord","witherRecord","sequenceRecordPar","traverseRecordPar","traverseRecordWithIndexPar","wiltRecordPar","witherRecordPar","encaseEffect","rio","Encase","Bracket","BracketExit","suspend","provideAll","res","resa","resb","resfab","chainTapWith","consume","allocate","leak","innerLeak","man","managed","Semigroup","Monoid","isCons","isNil","nil","foldl","iter","seed","foldlc","foldr","P","cata","ifCons","ifNil","catac","find","front","back","ct","fns","DequeueImpl","ticketExit","ticket","cleanup","ticketUse","makeTicket","isReservationFor","rsv","sanityCheck","round","makeSemaphoreImpl","ref","releaseN","waiting","take","needed","ready","cancelWait","pending","acquireN","offer","ticketN","withPermitsN","available","withPermit","makeSemaphore","poption","unboundedOffer","queue","makeConcurrentQueueImpl","factory","overflowStrategy","offerGate","takeGate","cleanupLatch","item","unboundedQueue","msg","SinkStepTag","natCapacity","slidingQueue","capacity","droppingQueue","boundedQueue","sem","sinkCont","Cont","sinkDone","leftover","Done","isSinkCont","sinkStepLeftover","sinkStepState","stepMany","sink","multi","isSinkDone","drainWhileSink","_state","queueSink","queueUtils","ops","hasCB","runFromQueue","emitter","rangeIterator","iteratorSource","interval","end","fromSource","pull","cont","cell","arrayFold","fromIterator","fromRange","fromIteratorUnsafe","once","repeatedly","periodically","_cont","_f","aborted","zipWithIndex","stream","folded","concatL_","stream1","stream2","fold1","intermediate","fold2","concatL","concat_","repeat","outer","as_","filter_","distinctAdjacent_","eq","seen","distinctAdjacent","foldM_","fold_","t2","scanM_","accum","scanM","scan_","scan","outerfold","innerfold","mapM_","mapM","transduce_","derivedInitial","initSink","feedSink","foldState","sinkState","chunk","nextSinkStep","nextFoldState","nextNextSinkState","transduce","drop_","drop","take_","t2s","takeWhile_","pred","takeWhile","takeUntil_","until","wrappedUntil","type","wrappedStream","mergeAll","wrapped","takeUntil","into_","into","intoManaged_","managedSink","intoManaged","intoLeftover_","intoLeftover","sinkQueue","cq","deferred","bs","aq","alatch","bq","blatch","agrab","bgrab","aOpt","queueBreakerSource","breaker","streamQueueSource","peel_","pullStream","peel","peelManaged_","peelManaged","interruptFiberSlot","slot","optFiber","switchLatest","pushQueue","pushBreaker","internalBreaker","fiberSlot","interruptPushFiber","downstreamSource","advanceStreams","breakerError","nextOpt","spawnPushFiber","chainSwitchLatest_","chainSwitchLatest","interruptWeaveHandles","fibers","makeWeave","attach","AP","handles","merge_","maxActive","semaphore","weave","merge","chainMerge_","chainMerge","streams","dropWhile_","rest","dropWhile","collectArray","drain","_next","sfab","fromObjectReadStream","su","on","toError","Writable","objectMode","getSourceFromObjectReadStream","fromObjectReadStreamB","batch","open","splice","getSourceFromObjectReadStreamB","subject","Q","subscribe","sp","derived","specURI","Reflect","ownKeys","define","cn","fn","providing","sym","entry","implement","implementWith","instance","opaque","__spreadArrays","il","j","jl","ras","lenx","leny","xs","ys","getOrd","fromCompare","aLen","bLen","ordering","makeBy","range","replicate","mma","rLen","foldLeft","onNil","onCons","foldRight","scanLeft","scanRight","isNonEmpty","isOutOfBound","takeLeft","takeRight","takeLeftWhile","spanIndexUncurry","spanLeft","dropRight","dropLeftWhile","findIndex","findFirst","findFirstMap","findLast","findLastMap","findLastIndex","unsafeInsertAt","unsafeUpdateAt","unsafeDeleteAt","rights","lefts","fc","rotate","abs","element","uniq","elemS","sortBy","ords","getOrdMonoid","chop","cs","splitAt","chunksOf","comprehension","input","scope","readonlyArray","fa_1","resLen","temp","l_1","ret","bb","mt","b_1","fbs","predicateWithIndex","optionB","toNullable","toUndefined","exists","getRefinement","getOption","mapNullable","getFirstMonoid","getLastMonoid","defaultSeparate","exports","function_1","require","bc","cd","de","ef","fg","gh","hi","ij","I","isFunctor","isContravariant","isFunctorWithIndex","isApply","isChain","isBifunctor","isExtend","isFoldable","foldMapM","isFoldableWithIndex","isAlt","that","isCompactable","isFilterable","isFilterableWithIndex","isProfunctor","isSemigroupoid","isMonadThrow","String","EL","parseJSON","parse","stringifyJSON","getValidationSemigroup","getValidationMonoid","fromRecord","toRecord","optionSome","_hasOwnProperty","deleteAtk","isSubrecord","isSubrecordE","readonlyRecord","fromFoldableMapM","fromFoldableMap","keys_1","optionA","keys_2","keys_3","fr","keys_4","keys_5","keys_6","keys_7","changed","constTrue","constFalse","constNull","constUndefined","constVoid","increment","decrement","absurd","tupled","untupled","_slicedToArray","_arr","_n","_d","_s","_classCallCheck","pipeable_1","__importStar","__esModule","fp_ts_1","driverSync_1","driver_1","util_1","defs_1","ref_1","deferred_1","Do_1","Apply_1","_TAG","_A","_S","_R","abort","interruptWithErrorAndOthers","_defineProperty","obj","curried","combined","tupleConstructors","getTupleConstructor","getRecordConstructor","Option_1","Ord_1","strictEqual","ordString","ordBoolean","lt","gt","leq","geq","clamp","minO","maxO","between","lessThanO","greaterThanO","optimizedCompare","monoidOrdering","getTupleOrd","getDualOrd","ordDate","date","valueOf","object","enumerableOnly","getOwnPropertySymbols","symbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","eqStrict","eqString","eqNumber","eqBoolean","getStructEq","eqs","getTupleEq","eqDate","_toConsumableArray","arrayLikeToArray","RR","pna","objectKeys","module","Duplex","util","inherits","Readable","method","options","readable","allowHalfOpen","onend","_writableState","ended","nextTick","onEndNT","self","highWaterMark","_readableState","destroyed","_destroy","__extends","extendStatics","setPrototypeOf","__proto__","__","constructor","Type","is","validate","encode","decode","asDecoder","asEncoder","actual","appendContext","decoder","failures","context","message","pushAll","undefinedType","_super","NullType","UndefinedType","string","VoidType","UnknownType","StringType","number","NumberType","boolean","BigIntType","BooleanType","UnknownArray","AnyArrayType","UnknownRecord","AnyDictionaryType","toString","RefinementType","FunctionType","refinement","Number","isInteger","LiteralType","KeyofType","RecursiveType","runDefinition","ArrayType","InterfaceType","getNameFromProps","useIdentity","codecs","getInterfaceTypeName","types","uk","ak","type_1","vak","PartialType","DictionaryType","domain","codomain","UnionType","IntersectionType","TupleType","ReadonlyType","ReadonlyArrayType","codec","arrayType","us","ui","ai","TaggedUnionType","tag","ExactType","NeverType","AnyType","ObjectType","displayName","StrictType","ctor","superCtor","super_","TempCtor","Function","window","_unsupportedIterableToArray","minLen","test","_setPrototypeOf","consoleURI","Console_","assert","time","clear","count","countReset","debug","dir","dirxml","groupCollapsed","groupEnd","table","timeEnd","timeLog","trace","Console","provideConsole","_inherits","subClass","superClass","_typeof","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","Super","getPrototypeOf","isNativeReflectConstruct","NewTarget","construct","Parent","Class","_cache","indexOf","Wrapper","objectToString","arg","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","isBuffer","Buffer","forest","getArrayEq","drawForest","draw","indentation","isLast","drawTree","unfoldTree","unfoldForest","unfoldTreeM","unfoldForestMM","unfoldForestM","ts","traverseM","_arrayLikeToArray","arr2","_getPrototypeOf","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","title","browser","argv","version","versions","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","arg1","arg2","arg3","completable_1","effect_1","sign","eqOrdering","semigroupOrdering","invert","_isNativeReflectConstruct","sham","Proxy","Stream","EventEmitter","Transform","PassThrough","dest","ondata","pause","ondrain","_isStdio","onclose","didOnEnd","destroy","onerror","er","listenerCount","ChainRec_1","ReflectOwnKeys","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","isNaN","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","unshift","warned","onceWrapper","fired","wrapFn","_onceWrap","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","RangeError","setMaxListeners","getMaxListeners","doError","handler","position","originalListener","shift","index","spliceOne","rawListeners","eventNames","buffer","copyProps","src","dst","SafeBuffer","encodingOrOffset","alloc","allocUnsafe","allocUnsafeSlow","fill","encoding","buf","SlowBuffer","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","Uint8Array","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","isEncoding","fromString","checked","val","data","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","_isBuffer","swap16","swap32","swap64","inspect","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","setImmediate","WritableState","internalUtil","deprecate","OurUint8Array","realHasInstance","destroyImpl","nop","isDuplex","writableObjectMode","hwm","writableHwm","writableHighWaterMark","defaultHwm","finalCalled","needDrain","ending","finished","noDecode","decodeStrings","defaultEncoding","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","_write","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","hasInstance","_uint8ArrayToBuffer","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_undestroy","undestroy","exit_1","ReadableState","EElistenerCount","debugUtil","debuglog","StringDecoder","BufferList","kProxyEvents","readableObjectMode","readableHwm","readableHighWaterMark","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","awaitDrain","readingMore","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","addChunk","maybeReadMore","needMoreData","isPaused","setEncoding","enc","howMuchToRead","computeNewHighWaterMark","emitReadable_","maybeReadMore_","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","nOrig","doRead","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onfinish","cleanedUp","pipeOnDrain","increasedAwaitDrain","event","dests","ev","wrap","paused","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","afterTransform","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","_this2","err2","__generator","thisArg","body","label","sent","trys","verb","stream_1","sink_1","step_1","atake","btake","collectArraySink","drainSink","listc_1","RuntimeImpl","deletedTail_1","headUnsafe","last_1","sanity_1","semaphore_1","dequeue_1","ticket_1","natNumber","list_1","nonEmpty","findc","foldrc","filterc","instances","liftPureSink","constSink","headSink","lastSink","evalSink","queueOptionSink","mapWith","op_1","subject_1","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","skipTempReset","charAt","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","custom","Timeout","clearFn","_id","_clearFn","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","addEventListener","attachEvent","installPostMessageImplementation","MessageChannel","port1","port2","installMessageChannelImplementation","createElement","html","documentElement","script","onreadystatechange","removeChild","appendChild","installReadyStateChangeImplementation","config","localStorage","Ordering_1","runtime_1","tryComplete","Array_1","Eq_1","Sink","support_1"],"mappings":"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","file":"static/js/2.9cc0db7c.chunk.js","sourcesContent":["export function getFunctorComposition(F, G) {\n    return {\n        map: function (fa, f) { return F.map(fa, function (ga) { return G.map(ga, f); }); }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nexport function getApplicativeComposition(F, G) {\n    return __assign(__assign({}, getFunctorComposition(F, G)), { of: function (a) { return F.of(G.of(a)); }, ap: function (fgab, fga) {\n            return F.ap(F.map(fgab, function (h) { return function (ga) { return G.ap(h, ga); }; }), fga);\n        } });\n}\n","/**\n * @since 2.2.0\n */\n/**\n * Defines the fold over a boolean value.\n * Takes two thunks `onTrue`, `onFalse` and a `boolean` value.\n * If `value` is false, `onFalse()` is returned, otherwise `onTrue()`.\n *\n * @example\n * import { some, map } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/boolean'\n *\n * assert.deepStrictEqual(\n *  pipe(\n *    some(true),\n *    map(fold(() => 'false', () => 'true'))\n *  ),\n *  some('true')\n * )\n *\n * @since 2.2.0\n */\nexport function fold(onFalse, onTrue) {\n    return function (value) { return (value ? onTrue() : onFalse()); };\n}\n","/**\n * @since 2.0.0\n */\nexport var booleanAlgebraBoolean = {\n    meet: function (x, y) { return x && y; },\n    join: function (x, y) { return x || y; },\n    zero: false,\n    one: true,\n    implies: function (x, y) { return !x || y; },\n    not: function (x) { return !x; }\n};\n/**\n * @since 2.0.0\n */\nexport var booleanAlgebraVoid = {\n    meet: function () { return undefined; },\n    join: function () { return undefined; },\n    zero: undefined,\n    one: undefined,\n    implies: function () { return undefined; },\n    not: function () { return undefined; }\n};\n/**\n * @since 2.0.0\n */\nexport function getFunctionBooleanAlgebra(B) {\n    return function () { return ({\n        meet: function (x, y) { return function (a) { return B.meet(x(a), y(a)); }; },\n        join: function (x, y) { return function (a) { return B.join(x(a), y(a)); }; },\n        zero: function () { return B.zero; },\n        one: function () { return B.one; },\n        implies: function (x, y) { return function (a) { return B.implies(x(a), y(a)); }; },\n        not: function (x) { return function (a) { return B.not(x(a)); }; }\n    }); };\n}\n/**\n * Every boolean algebras has a dual algebra, which involves reversing one/zero as well as join/meet.\n *\n * @since 2.0.0\n */\nexport function getDualBooleanAlgebra(B) {\n    return {\n        meet: function (x, y) { return B.join(x, y); },\n        join: function (x, y) { return B.meet(x, y); },\n        zero: B.one,\n        one: B.zero,\n        implies: function (x, y) { return B.join(B.not(x), y); },\n        not: B.not\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * The `Bounded` type class represents totally ordered types that have an upper and lower boundary.\n *\n * Instances should satisfy the following law in addition to the `Ord` laws:\n *\n * - Bounded: `bottom <= a <= top`\n *\n * @since 2.0.0\n */\nimport { ordNumber } from './Ord';\n/**\n * @since 2.0.0\n */\nexport var boundedNumber = __assign(__assign({}, ordNumber), { top: Infinity, bottom: -Infinity });\n","import { max, min } from './Ord';\n/**\n * @since 2.0.0\n */\nexport function getMinMaxDistributiveLattice(O) {\n    return {\n        meet: min(O),\n        join: max(O)\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getMinMaxDistributiveLattice } from './DistributiveLattice';\n/**\n * @since 2.0.0\n */\nexport function getMinMaxBoundedDistributiveLattice(O) {\n    return function (min, max) { return (__assign(__assign({}, getMinMaxDistributiveLattice(O)), { zero: min, one: max })); };\n}\n","import { identity } from './function';\nexport function splitChoice(F) {\n    return function (pab, pcd) { return F.compose(F.left(pab), F.right(pcd)); };\n}\nexport function fanin(F) {\n    var splitChoiceF = splitChoice(F);\n    return function (pac, pbc) {\n        var join = F.promap(F.id(), function (e) { return (e._tag === 'Left' ? e.left : e.right); }, identity);\n        return F.compose(join, splitChoiceF(pac, pbc));\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nimport { getLeft, getRight } from './Option';\nexport function getCompactableComposition(F, G) {\n    var FC = getFunctorComposition(F, G);\n    var CC = __assign(__assign({}, FC), { compact: function (fga) { return F.map(fga, G.compact); }, separate: function (fge) {\n            var left = CC.compact(FC.map(fge, getLeft));\n            var right = CC.compact(FC.map(fge, getRight));\n            return { left: left, right: right };\n        } });\n    return CC;\n}\n","/**\n * @since 2.0.0\n */\nexport function log(s) {\n    return function () { return console.log(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function warn(s) {\n    return function () { return console.warn(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function error(s) {\n    return function () { return console.error(s); }; // tslint:disable-line:no-console\n}\n/**\n * @since 2.0.0\n */\nexport function info(s) {\n    return function () { return console.info(s); }; // tslint:disable-line:no-console\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { unsafeCoerce, identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Const';\n/**\n * @since 2.0.0\n */\nexport var make = unsafeCoerce;\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    return {\n        show: function (c) { return \"make(\" + S.show(c) + \")\"; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var getEq = identity;\n/**\n * @since 2.0.0\n */\nexport function getApply(S) {\n    return {\n        URI: URI,\n        _E: undefined,\n        map: const_.map,\n        ap: function (fab, fa) { return make(S.concat(fab, fa)); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplicative(M) {\n    return __assign(__assign({}, getApply(M)), { of: function () { return make(M.empty); } });\n}\n/**\n * @since 2.0.0\n */\nexport var const_ = {\n    URI: URI,\n    map: unsafeCoerce,\n    contramap: unsafeCoerce\n};\nvar _a = pipeable(const_), contramap = _a.contramap, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap, \n/**\n * @since 2.0.0\n */\nmap };\n","/**\n * Returns the current `Date`\n *\n * @since 2.0.0\n */\nexport var create = function () { return new Date(); };\n/**\n * Returns the number of milliseconds elapsed since January 1, 1970, 00:00:00 UTC\n *\n * @since 2.0.0\n */\nexport var now = function () { return new Date().getTime(); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { either, fold, isLeft, left, right, swap } from './Either';\nexport function getEitherM(M) {\n    var A = getApplicativeComposition(M, either);\n    return __assign(__assign({}, A), { chain: function (ma, f) { return M.chain(ma, function (e) { return (isLeft(e) ? M.of(left(e.left)) : f(e.right)); }); }, alt: function (fx, f) { return M.chain(fx, function (e) { return (isLeft(e) ? f() : A.of(e.right)); }); }, bimap: function (ma, f, g) { return M.map(ma, function (e) { return either.bimap(e, f, g); }); }, mapLeft: function (ma, f) { return M.map(ma, function (e) { return either.mapLeft(e, f); }); }, fold: function (ma, onLeft, onRight) { return M.chain(ma, fold(onLeft, onRight)); }, getOrElse: function (ma, onLeft) { return M.chain(ma, fold(onLeft, M.of)); }, orElse: function (ma, f) {\n            return M.chain(ma, fold(f, function (a) { return A.of(a); }));\n        }, swap: function (ma) { return M.map(ma, swap); }, rightM: function (ma) { return M.map(ma, right); }, leftM: function (ml) { return M.map(ml, left); }, left: function (e) { return M.of(left(e)); } });\n}\n","/**\n * @since 2.0.0\n */\nexport var fieldNumber = {\n    add: function (x, y) { return x + y; },\n    zero: 0,\n    mul: function (x, y) { return x * y; },\n    one: 1,\n    sub: function (x, y) { return x - y; },\n    degree: function (_) { return 1; },\n    div: function (x, y) { return x / y; },\n    mod: function (x, y) { return x % y; }\n};\n/**\n * The *greatest common divisor* of two values\n *\n * @since 2.0.0\n */\nexport function gcd(E, field) {\n    var zero = field.zero;\n    var f = function (x, y) { return (E.equals(y, zero) ? x : f(y, field.mod(x, y))); };\n    return f;\n}\n/**\n * The *least common multiple* of two values\n *\n * @since 2.0.0\n */\nexport function lcm(E, F) {\n    var zero = F.zero;\n    var gcdSF = gcd(E, F);\n    return function (x, y) { return (E.equals(x, zero) || E.equals(y, zero) ? zero : F.div(F.mul(x, y), gcdSF(x, y))); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * `Filterable` represents data structures which can be _partitioned_/_filtered_.\n *\n * Adapted from https://github.com/LiamGoodacre/purescript-filterable/blob/master/src/Data/Filterable.purs\n *\n * @since 2.0.0\n */\nimport { getCompactableComposition } from './Compactable';\nimport { getLeft, getRight } from './Option';\nexport function getFilterableComposition(F, G) {\n    var FC = __assign(__assign({}, getCompactableComposition(F, G)), { partitionMap: function (fga, f) {\n            var left = FC.filterMap(fga, function (a) { return getLeft(f(a)); });\n            var right = FC.filterMap(fga, function (a) { return getRight(f(a)); });\n            return { left: left, right: right };\n        }, partition: function (fga, p) {\n            var left = FC.filter(fga, function (a) { return !p(a); });\n            var right = FC.filter(fga, p);\n            return { left: left, right: right };\n        }, filterMap: function (fga, f) { return F.map(fga, function (ga) { return G.filterMap(ga, f); }); }, filter: function (fga, f) { return F.map(fga, function (ga) { return G.filter(ga, f); }); } });\n    return FC;\n}\n","import { constant } from './function';\nexport function getFoldableComposition(F, G) {\n    return {\n        reduce: function (fga, b, f) { return F.reduce(fga, b, function (b, ga) { return G.reduce(ga, b, f); }); },\n        foldMap: function (M) {\n            var foldMapF = F.foldMap(M);\n            var foldMapG = G.foldMap(M);\n            return function (fa, f) { return foldMapF(fa, function (ga) { return foldMapG(ga, f); }); };\n        },\n        reduceRight: function (fa, b, f) { return F.reduceRight(fa, b, function (ga, b) { return G.reduceRight(ga, b, f); }); }\n    };\n}\nexport function foldM(M, F) {\n    return function (fa, b, f) { return F.reduce(fa, M.of(b), function (mb, a) { return M.chain(mb, function (b) { return f(b, a); }); }); };\n}\nexport function intercalate(M, F) {\n    return function (sep, fm) {\n        var go = function (_a, x) {\n            var init = _a.init, acc = _a.acc;\n            return init ? { init: false, acc: x } : { init: false, acc: M.concat(M.concat(acc, sep), x) };\n        };\n        return F.reduce(fm, { init: true, acc: M.empty }, go).acc;\n    };\n}\nexport function traverse_(M, F) {\n    var applyFirst = function (mu, mb) { return M.ap(M.map(mu, constant), mb); };\n    var mu = M.of(undefined);\n    return function (fa, f) { return F.reduce(fa, mu, function (mu, a) { return applyFirst(mu, f(a)); }); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * A `Foldable` with an additional index.\n * A `FoldableWithIndex` instance must be compatible with its `Foldable` instance\n *\n * ```ts\n * reduce(fa, b, f) = reduceWithIndex(fa, b, (_, b, a) => f(b, a))\n * foldMap(M)(fa, f) = foldMapWithIndex(M)(fa, (_, a) => f(a))\n * reduceRight(fa, b, f) = reduceRightWithIndex(fa, b, (_, a, b) => f(a, b))\n * ```\n *\n * @since 2.0.0\n */\nimport { getFoldableComposition } from './Foldable';\nexport function getFoldableWithIndexComposition(F, G) {\n    return __assign(__assign({}, getFoldableComposition(F, G)), { reduceWithIndex: function (fga, b, f) {\n            return F.reduceWithIndex(fga, b, function (fi, b, ga) { return G.reduceWithIndex(ga, b, function (gi, b, a) { return f([fi, gi], b, a); }); });\n        }, foldMapWithIndex: function (M) {\n            var foldMapWithIndexF = F.foldMapWithIndex(M);\n            var foldMapWithIndexG = G.foldMapWithIndex(M);\n            return function (fga, f) { return foldMapWithIndexF(fga, function (fi, ga) { return foldMapWithIndexG(ga, function (gi, a) { return f([fi, gi], a); }); }); };\n        }, reduceRightWithIndex: function (fga, b, f) {\n            return F.reduceRightWithIndex(fga, b, function (fi, ga, b) { return G.reduceRightWithIndex(ga, b, function (gi, a, b) { return f([fi, gi], a, b); }); });\n        } });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFunctorComposition } from './Functor';\nexport function getFunctorWithIndexComposition(F, G) {\n    return __assign(__assign({}, getFunctorComposition(F, G)), { mapWithIndex: function (fga, f) { return F.mapWithIndex(fga, function (fi, ga) { return G.mapWithIndex(ga, function (gi, a) { return f([fi, gi], a); }); }); } });\n}\n","import { tailRec } from './ChainRec';\nimport { identity as id } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Identity';\n/**\n * @since 2.0.0\n */\nexport var getShow = id;\n/**\n * @since 2.0.0\n */\nexport var getEq = id;\n/**\n * @since 2.0.0\n */\nexport var identity = {\n    URI: URI,\n    map: function (ma, f) { return f(ma); },\n    of: id,\n    ap: function (mab, ma) { return mab(ma); },\n    chain: function (ma, f) { return f(ma); },\n    reduce: function (fa, b, f) { return f(b, fa); },\n    foldMap: function (_) { return function (fa, f) { return f(fa); }; },\n    reduceRight: function (fa, b, f) { return f(fa, b); },\n    traverse: function (F) { return function (ta, f) {\n        return F.map(f(ta), id);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return F.map(ta, id);\n    }; },\n    alt: id,\n    extract: id,\n    extend: function (wa, f) { return f(wa); },\n    chainRec: tailRec\n};\nvar _a = pipeable(identity), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","/**\n * `IO<A>` represents a non-deterministic synchronous computation that can cause side effects, yields a value of\n * type `A` and **never fails**. If you want to represent a synchronous computation that may fail, please see\n * `IOEither`.\n *\n * `IO` actions are _thunks_ so they are terminated by calling their `()` function application that executes the\n * computation and returns the result. Ideally each application should call `()` only once for a root value of type\n * `Task` or `IO` that represents the entire application. However, this might vary a bit depending on how you construct\n * your application.  An application framework with `fp-ts` types might take care of calling `()` for you, while another\n * application framework without `fp-ts` typing might force you to call `()` at multiple locations whenever the\n * framework demands less strictly typed values as inputs for its method calls.\n *\n * Below are some basic examples of how you can wrap values and function calls with `IO`.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n *\n * const constant: IO<number> = io.of(123)\n * constant()  // returns 123\n *\n * const random: IO<number> = () => Math.random()\n * random()  // returns a random number\n * random()  // returns another random number\n *\n * const log = (...args): IO<void> => () => console.log(...args)\n * log('hello world')()  // returns undefined and outputs \"hello world\" to console\n * ```\n *\n * In the example above we implemented type safe alternatives for `Math.random()` and `console.log()`. The main\n * motivation was to explain how you can wrap values. However, `fp-ts` provides type safe alternatives for such basic\n * tools through `Console` and `Random` modules. So you don't need to constantly redefine them.\n *\n * The next code snippet below is an example of a case where type safety affects the end result. Using `console.log()`\n * directly would break the code, resulting in both logging actions being executed when the value is not `null`.  You\n * can confirm this by removing `()` from the end of the example code and replacing calls to `log()` with standard\n * `console.log()`.\n *\n * ```ts\n * import { fromNullable, fold } from 'fp-ts/lib/Option'\n * import { log } from 'fp-ts/lib/Console'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * const logger = (input: number | null) =>\n *  pipe(\n *    fromNullable(input),\n *    fold(log('Received null'), value => log(`Received ${value}`)),\n *  );\n *\n * logger(123)() // returns undefined and outputs \"Received 123\" to console\n * ```\n *\n * In addition to creating `IO` actions we need a way to combine them to build the application. For\n * example, we might want to combine several `IO<void>` actions into one `IO<void[]>` action for\n * sequential execution. This can be done with `array.sequence(io)` as follows.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n * import { array } from 'fp-ts/lib/Array'\n * import { log } from 'fp-ts/lib/Console'\n *\n * const logGiraffe: IO<void> = log('giraffe');\n * const logZebra: IO<void> = log('zebra');\n *\n * const logGiraffeThenZebra: IO<void[]> = array.sequence(io)([ logGiraffe, logZebra ])\n *\n * logGiraffeThenZebra() // returns undefined and outputs words \"giraffe\" and \"zebra\" to console\n * ```\n *\n * We might also have several `IO` actions that yield some values that we want to capture. We can combine them by using\n * `sequenceS(io)` over an object matching the structure of the expected result. This is useful when you care about the\n * results but do not care about the execution order.\n *\n * ```ts\n * import { IO, io } from 'fp-ts/lib/IO'\n * import { sequenceS } from 'fp-ts/lib/Apply'\n *\n * interface Result {\n *   name: string,\n *   age: number,\n * }\n *\n * const computations: { [K in keyof Result]: IO<Result[K]> } = {\n *   name: io.of('Aristotle'),\n *   age: io.of(60),\n * }\n *\n * const computation: IO<Result> = sequenceS(io)(computations)\n *\n * computation() // returns { name: 'Aristotle', age: 60 }\n * ```\n *\n * @since 2.0.0\n */\nimport { identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'IO';\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function () { return S.concat(x(), y()); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: io.of(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var of = function (a) { return function () { return a; }; };\n/**\n * @since 2.0.0\n */\nexport var io = {\n    URI: URI,\n    map: function (ma, f) { return function () { return f(ma()); }; },\n    of: of,\n    ap: function (mab, ma) { return function () { return mab()(ma()); }; },\n    chain: function (ma, f) { return function () { return f(ma())(); }; },\n    fromIO: identity,\n    chainRec: function (a, f) { return function () {\n        var e = f(a)();\n        while (e._tag === 'Left') {\n            e = f(e.left)();\n        }\n        return e.right;\n    }; }\n};\nvar _a = pipeable(io), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { getValidation, isLeft, isRight, left } from './Either';\nexport function getValidationM(S, M) {\n    var A = getApplicativeComposition(M, getValidation(S));\n    return __assign(__assign({}, A), { chain: function (ma, f) { return M.chain(ma, function (e) { return (isLeft(e) ? M.of(left(e.left)) : f(e.right)); }); }, alt: function (fx, f) {\n            return M.chain(fx, function (e1) {\n                return isRight(e1) ? A.of(e1.right) : M.map(f(), function (e2) { return (isLeft(e2) ? left(S.concat(e1.left, e2.left)) : e2); });\n            });\n        } });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { getFilterableComposition } from './Filterable';\nimport { getSemigroup as getIOSemigroup, io } from './IO';\nimport { pipeable } from './pipeable';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(io);\n/**\n * @since 2.0.0\n */\nexport var URI = 'IOEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport var rightIO = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftIO = T.leftM;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getIOSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getIOSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * Constructs a new `IOEither` from a function that performs a side effect and might throw\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onError) {\n    return function () { return E.tryCatch(f, onError); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.0\n */\nexport function bracket(acquire, use, release) {\n    return T.chain(acquire, function (a) {\n        return T.chain(io.map(use(a), E.right), function (e) { return T.chain(release(a, e), function () { return (E.isLeft(e) ? T.left(e.left) : T.of(e.right)); }); });\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getIOValidation(S) {\n    var T = getValidationM(S, io);\n    return __assign(__assign({ _E: undefined }, ioEither), T);\n}\n/**\n * @since 2.1.0\n */\nexport function getFilterable(M) {\n    var F = E.getWitherable(M);\n    return __assign({ URI: URI, _E: undefined }, getFilterableComposition(io, F));\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var ioEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    fromIO: rightIO,\n    throwError: left\n};\nvar _a = pipeable(ioEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","/**\n * @example\n * import { io } from 'fp-ts/lib/IO'\n * import { newIORef } from 'fp-ts/lib/IORef'\n *\n * assert.strictEqual(io.chain(newIORef(1), ref => io.chain(ref.write(2), () => ref.read))(), 2)\n *\n * @since 2.0.0\n */\nvar IORef = /** @class */ (function () {\n    function IORef(value) {\n        var _this = this;\n        this.value = value;\n        this.read = function () { return _this.value; };\n        this.write = this.write.bind(this);\n        this.modify = this.modify.bind(this);\n    }\n    /**\n     * @since 2.0.0\n     */\n    IORef.prototype.write = function (a) {\n        var _this = this;\n        return function () {\n            _this.value = a;\n        };\n    };\n    /**\n     * @since 2.0.0\n     */\n    IORef.prototype.modify = function (f) {\n        var _this = this;\n        return function () {\n            _this.value = f(_this.value);\n        };\n    };\n    return IORef;\n}());\nexport { IORef };\n/**\n * @since 2.0.0\n */\nexport function newIORef(a) {\n    return function () { return new IORef(a); };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isLeft } from './Either';\nimport { fromEquals } from './Eq';\nimport { isNone, isSome, none, option, some } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyMap';\n/**\n * @since 2.5.0\n */\nexport function fromMap(m) {\n    return new Map(m);\n}\n/**\n * @since 2.5.0\n */\nexport function toMap(m) {\n    return new Map(m);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(SK, SA) {\n    return {\n        show: function (m) {\n            var elements = '';\n            m.forEach(function (a, k) {\n                elements += \"[\" + SK.show(k) + \", \" + SA.show(a) + \"], \";\n            });\n            if (elements !== '') {\n                elements = elements.substring(0, elements.length - 2);\n            }\n            return \"new Map([\" + elements + \"])\";\n        }\n    };\n}\n/**\n * Calculate the number of key/value pairs in a map\n *\n * @since 2.5.0\n */\nexport function size(d) {\n    return d.size;\n}\n/**\n * Test whether or not a map is empty\n *\n * @since 2.5.0\n */\nexport function isEmpty(d) {\n    return d.size === 0;\n}\n/**\n * Test whether or not a key exists in a map\n *\n * @since 2.5.0\n */\nexport function member(E) {\n    var lookupE = lookup(E);\n    return function (k, m) { return isSome(lookupE(k, m)); };\n}\n/**\n * Test whether or not a value is a member of a map\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, m) {\n        var values = m.values();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var v = e.value;\n            if (E.equals(a, v)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * Get a sorted array of the keys contained in a map\n *\n * @since 2.5.0\n */\nexport function keys(O) {\n    return function (m) { return Array.from(m.keys()).sort(O.compare); };\n}\n/**\n * Get a sorted array of the values contained in a map\n *\n * @since 2.5.0\n */\nexport function values(O) {\n    return function (m) { return Array.from(m.values()).sort(O.compare); };\n}\n/**\n * @since 2.5.0\n */\nexport function collect(O) {\n    var keysO = keys(O);\n    return function (f) { return function (m) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        var ks = keysO(m);\n        for (var _i = 0, ks_1 = ks; _i < ks_1.length; _i++) {\n            var key = ks_1[_i];\n            out.push(f(key, m.get(key)));\n        }\n        return out;\n    }; };\n}\n/**\n * Get a sorted of the key/value pairs contained in a map\n *\n * @since 2.5.0\n */\nexport function toReadonlyArray(O) {\n    return collect(O)(function (k, a) { return [k, a]; });\n}\nexport function toUnfoldable(O, U) {\n    var toArrayO = toReadonlyArray(O);\n    return function (d) {\n        var arr = toArrayO(d);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? some([arr[b], b + 1]) : none); });\n    };\n}\n/**\n * Insert or replace a key/value pair in a map\n *\n * @since 2.5.0\n */\nexport function insertAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, a) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            var r = new Map(m);\n            r.set(k, a);\n            return r;\n        }\n        else if (found.value[1] !== a) {\n            var r = new Map(m);\n            r.set(found.value[0], a);\n            return r;\n        }\n        return m;\n    }; };\n}\n/**\n * Delete a key and value from a map\n *\n * @since 2.5.0\n */\nexport function deleteAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isSome(found)) {\n            var r = new Map(m);\n            r.delete(found.value[0]);\n            return r;\n        }\n        return m;\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, a) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            return none;\n        }\n        var r = new Map(m);\n        r.set(found.value[0], a);\n        return some(r);\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, f) { return function (m) {\n        var found = lookupWithKeyE(k, m);\n        if (isNone(found)) {\n            return none;\n        }\n        var r = new Map(m);\n        r.set(found.value[0], f(found.value[1]));\n        return some(r);\n    }; };\n}\n/**\n * Delete a key and value from a map, returning the value as well as the subsequent map\n *\n * @since 2.5.0\n */\nexport function pop(E) {\n    var lookupE = lookup(E);\n    var deleteAtE = deleteAt(E);\n    return function (k) {\n        var deleteAtEk = deleteAtE(k);\n        return function (m) { return option.map(lookupE(k, m), function (a) { return [a, deleteAtEk(m)]; }); };\n    };\n}\n/**\n * Lookup the value for a key in a `Map`.\n * If the result is a `Some`, the existing key is also returned.\n *\n * @since 2.5.0\n */\nexport function lookupWithKey(E) {\n    return function (k, m) {\n        var entries = m.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, ka = _a[0], a = _a[1];\n            if (E.equals(ka, k)) {\n                return some([ka, a]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Lookup the value for a key in a `Map`.\n *\n * @since 2.5.0\n */\nexport function lookup(E) {\n    var lookupWithKeyE = lookupWithKey(E);\n    return function (k, m) { return option.map(lookupWithKeyE(k, m), function (_a) {\n        var _ = _a[0], a = _a[1];\n        return a;\n    }); };\n}\n/**\n * Test whether or not one Map contains all of the keys and values contained in another Map\n *\n * @since 2.5.0\n */\nexport function isSubmap(SK, SA) {\n    var lookupWithKeyS = lookupWithKey(SK);\n    return function (d1, d2) {\n        var entries = d1.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], a = _a[1];\n            var d2OptA = lookupWithKeyS(k, d2);\n            if (isNone(d2OptA) || !SK.equals(k, d2OptA.value[0]) || !SA.equals(a, d2OptA.value[1])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var empty = new Map();\n/**\n * @since 2.5.0\n */\nexport function getEq(SK, SA) {\n    var isSubmap_ = isSubmap(SK, SA);\n    return fromEquals(function (x, y) { return isSubmap_(x, y) && isSubmap_(y, x); });\n}\n/**\n * Gets `Monoid` instance for Maps given `Semigroup` instance for their values\n *\n * @since 2.5.0\n */\nexport function getMonoid(SK, SA) {\n    var lookupWithKeyS = lookupWithKey(SK);\n    return {\n        concat: function (mx, my) {\n            if (mx === empty) {\n                return my;\n            }\n            if (my === empty) {\n                return mx;\n            }\n            var r = new Map(mx);\n            var entries = my.entries();\n            var e;\n            // tslint:disable-next-line: strict-boolean-expressions\n            while (!(e = entries.next()).done) {\n                var _a = e.value, k = _a[0], a = _a[1];\n                var mxOptA = lookupWithKeyS(k, mx);\n                if (isSome(mxOptA)) {\n                    r.set(mxOptA.value[0], SA.concat(mxOptA.value[1], a));\n                }\n                else {\n                    r.set(k, a);\n                }\n            }\n            return r;\n        },\n        empty: empty\n    };\n}\n/**\n * Create a map with one key/value pair\n *\n * @since 2.5.0\n */\nexport function singleton(k, a) {\n    return new Map([[k, a]]);\n}\nexport function fromFoldable(E, M, F) {\n    return function (fka) {\n        var lookupWithKeyE = lookupWithKey(E);\n        return F.reduce(fka, new Map(), function (b, _a) {\n            var k = _a[0], a = _a[1];\n            var bOpt = lookupWithKeyE(k, b);\n            if (isSome(bOpt)) {\n                b.set(bOpt.value[0], M.concat(bOpt.value[1], a));\n            }\n            else {\n                b.set(k, a);\n            }\n            return b;\n        });\n    };\n}\nvar _mapWithIndex = function (fa, f) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, key = _a[0], a = _a[1];\n        m.set(key, f(key, a));\n    }\n    return m;\n};\nvar _partitionMapWithIndex = function (fa, f) {\n    var left = new Map();\n    var right = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        var ei = f(k, a);\n        if (isLeft(ei)) {\n            left.set(k, ei.left);\n        }\n        else {\n            right.set(k, ei.right);\n        }\n    }\n    return {\n        left: left,\n        right: right\n    };\n};\nvar _partitionWithIndex = function (fa, p) {\n    var left = new Map();\n    var right = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        if (p(k, a)) {\n            right.set(k, a);\n        }\n        else {\n            left.set(k, a);\n        }\n    }\n    return {\n        left: left,\n        right: right\n    };\n};\nvar _filterMapWithIndex = function (fa, f) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        var o = f(k, a);\n        if (isSome(o)) {\n            m.set(k, o.value);\n        }\n    }\n    return m;\n};\nvar _filterWithIndex = function (fa, p) {\n    var m = new Map();\n    var entries = fa.entries();\n    var e;\n    // tslint:disable-next-line: strict-boolean-expressions\n    while (!(e = entries.next()).done) {\n        var _a = e.value, k = _a[0], a = _a[1];\n        if (p(k, a)) {\n            m.set(k, a);\n        }\n    }\n    return m;\n};\n/**\n * @since 2.5.0\n */\nexport function getFilterableWithIndex() {\n    return __assign(__assign({}, readonlyMap), { _E: undefined, mapWithIndex: _mapWithIndex, partitionMapWithIndex: _partitionMapWithIndex, partitionWithIndex: _partitionWithIndex, filterMapWithIndex: _filterMapWithIndex, filterWithIndex: _filterWithIndex });\n}\n/**\n * @since 2.5.0\n */\nexport function getWitherable(O) {\n    var keysO = keys(O);\n    var reduceWithIndex = function (fa, b, f) {\n        var out = b;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = 0; i < len; i++) {\n            var k = ks[i];\n            out = f(k, out, fa.get(k));\n        }\n        return out;\n    };\n    var foldMapWithIndex = function (M) { return function (fa, f) {\n        var out = M.empty;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = 0; i < len; i++) {\n            var k = ks[i];\n            out = M.concat(out, f(k, fa.get(k)));\n        }\n        return out;\n    }; };\n    var reduceRightWithIndex = function (fa, b, f) {\n        var out = b;\n        var ks = keysO(fa);\n        var len = ks.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = ks[i];\n            out = f(k, fa.get(k), out);\n        }\n        return out;\n    };\n    var traverseWithIndex = function (F) {\n        return function (ta, f) {\n            var fm = F.of(empty);\n            var entries = ta.entries();\n            var e;\n            var _loop_1 = function () {\n                var _a = e.value, key = _a[0], a = _a[1];\n                fm = F.ap(F.map(fm, function (m) { return function (b) { return new Map(m).set(key, b); }; }), f(key, a));\n            };\n            // tslint:disable-next-line: strict-boolean-expressions\n            while (!(e = entries.next()).done) {\n                _loop_1();\n            }\n            return fm;\n        };\n    };\n    var traverse = function (F) {\n        var traverseWithIndexF = traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    };\n    var sequence = function (F) {\n        var traverseWithIndexF = traverseWithIndex(F);\n        return function (ta) { return traverseWithIndexF(ta, function (_, a) { return a; }); };\n    };\n    return __assign(__assign({}, readonlyMap), { _E: undefined, reduce: function (fa, b, f) { return reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); }, foldMap: function (M) {\n            var foldMapWithIndexM = foldMapWithIndex(M);\n            return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n        }, reduceRight: function (fa, b, f) { return reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); }, traverse: traverse,\n        sequence: sequence, mapWithIndex: _mapWithIndex, reduceWithIndex: reduceWithIndex,\n        foldMapWithIndex: foldMapWithIndex,\n        reduceRightWithIndex: reduceRightWithIndex,\n        traverseWithIndex: traverseWithIndex, wilt: function (F) {\n            var traverseF = traverse(F);\n            return function (wa, f) { return F.map(traverseF(wa, f), readonlyMap.separate); };\n        }, wither: function (F) {\n            var traverseF = traverse(F);\n            return function (wa, f) { return F.map(traverseF(wa, f), readonlyMap.compact); };\n        } });\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyMap = {\n    URI: URI,\n    map: function (fa, f) { return _mapWithIndex(fa, function (_, a) { return f(a); }); },\n    compact: function (fa) {\n        var m = new Map();\n        var entries = fa.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], oa = _a[1];\n            if (isSome(oa)) {\n                m.set(k, oa.value);\n            }\n        }\n        return m;\n    },\n    separate: function (fa) {\n        var left = new Map();\n        var right = new Map();\n        var entries = fa.entries();\n        var e;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = entries.next()).done) {\n            var _a = e.value, k = _a[0], ei = _a[1];\n            if (isLeft(ei)) {\n                left.set(k, ei.left);\n            }\n            else {\n                right.set(k, ei.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, p) { return _filterWithIndex(fa, function (_, a) { return p(a); }); },\n    filterMap: function (fa, f) { return _filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return _partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return _partitionMapWithIndex(fa, function (_, a) { return f(a); }); }\n};\nvar _a = pipeable(readonlyMap), filter = _a.filter, filterMap = _a.filterMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","import { pipeable } from './pipeable';\nimport * as RM from './ReadonlyMap';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Map';\n/**\n * @since 2.0.0\n */\nexport var getShow = RM.getShow;\n/**\n * Calculate the number of key/value pairs in a map\n *\n * @since 2.0.0\n */\nexport var size = RM.size;\n/**\n * Test whether or not a map is empty\n *\n * @since 2.0.0\n */\nexport var isEmpty = RM.isEmpty;\n/**\n * Test whether or not a key exists in a map\n *\n * @since 2.0.0\n */\nexport var member = RM.member;\n/**\n * Test whether or not a value is a member of a map\n *\n * @since 2.0.0\n */\nexport var elem = RM.elem;\n/**\n * Get a sorted array of the keys contained in a map\n *\n * @since 2.0.0\n */\nexport var keys = RM.keys;\n/**\n * Get a sorted array of the values contained in a map\n *\n * @since 2.0.0\n */\nexport var values = RM.values;\n/**\n * @since 2.0.0\n */\nexport var collect = RM.collect;\n/**\n * Get a sorted of the key/value pairs contained in a map\n *\n * @since 2.0.0\n */\nexport var toArray = RM.toReadonlyArray;\nexport function toUnfoldable(O, U) {\n    return RM.toUnfoldable(O, U);\n}\n/**\n * Insert or replace a key/value pair in a map\n *\n * @since 2.0.0\n */\nexport var insertAt = RM.insertAt;\n/**\n * Delete a key and value from a map\n *\n * @since 2.0.0\n */\nexport var deleteAt = RM.deleteAt;\n/**\n * @since 2.0.0\n */\nexport var updateAt = RM.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RM.modifyAt;\n/**\n * Delete a key and value from a map, returning the value as well as the subsequent map\n *\n * @since 2.0.0\n */\nexport var pop = RM.pop;\n/**\n * Lookup the value for a key in a `Map`.\n * If the result is a `Some`, the existing key is also returned.\n *\n * @since 2.0.0\n */\nexport var lookupWithKey = RM.lookupWithKey;\n/**\n * Lookup the value for a key in a `Map`.\n *\n * @since 2.0.0\n */\nexport var lookup = RM.lookup;\n/**\n * Test whether or not one Map contains all of the keys and values contained in another Map\n *\n * @since 2.0.0\n */\nexport var isSubmap = RM.isSubmap;\n/**\n * @since 2.0.0\n */\nexport var empty = new Map();\n/**\n * @since 2.0.0\n */\nexport var getEq = RM.getEq;\n/**\n * Gets `Monoid` instance for Maps given `Semigroup` instance for their values\n *\n * @since 2.0.0\n */\nexport var getMonoid = RM.getMonoid;\n/**\n * Create a map with one key/value pair\n *\n * @since 2.0.0\n */\nexport var singleton = RM.singleton;\nexport function fromFoldable(E, M, F) {\n    return RM.fromFoldable(E, M, F);\n}\n/**\n * @since 2.0.0\n */\nexport var getFilterableWithIndex = RM.getFilterableWithIndex;\n/**\n * @since 2.0.0\n */\nexport var getWitherable = RM.getWitherable;\n/**\n * @since 2.0.0\n */\nexport var map_ = {\n    URI: URI,\n    map: RM.readonlyMap.map,\n    compact: RM.readonlyMap.compact,\n    separate: RM.readonlyMap.separate,\n    filter: RM.readonlyMap.filter,\n    filterMap: RM.readonlyMap.filterMap,\n    partition: RM.readonlyMap.partition,\n    partitionMap: RM.readonlyMap.partitionMap\n};\nvar _a = pipeable(map_), filter = _a.filter, filterMap = _a.filterMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","/**\n * @since 2.0.0\n */\nimport { identity } from './function';\nimport { max, min } from './Ord';\n/**\n * @since 2.0.0\n */\nexport function fold(S) {\n    return function (a, as) { return as.reduce(S.concat, a); };\n}\n/**\n * @since 2.0.0\n */\nexport function getFirstSemigroup() {\n    return { concat: identity };\n}\n/**\n * @since 2.0.0\n */\nexport function getLastSemigroup() {\n    return { concat: function (_, y) { return y; } };\n}\n/**\n * Given a tuple of semigroups returns a semigroup for the tuple\n *\n * @example\n * import { getTupleSemigroup, semigroupString, semigroupSum, semigroupAll } from 'fp-ts/lib/Semigroup'\n *\n * const S1 = getTupleSemigroup(semigroupString, semigroupSum)\n * assert.deepStrictEqual(S1.concat(['a', 1], ['b', 2]), ['ab', 3])\n *\n * const S2 = getTupleSemigroup(semigroupString, semigroupSum, semigroupAll)\n * assert.deepStrictEqual(S2.concat(['a', 1, true], ['b', 2, false]), ['ab', 3, false])\n *\n * @since 2.0.0\n */\nexport function getTupleSemigroup() {\n    var semigroups = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        semigroups[_i] = arguments[_i];\n    }\n    return {\n        concat: function (x, y) { return semigroups.map(function (s, i) { return s.concat(x[i], y[i]); }); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getDualSemigroup(S) {\n    return {\n        concat: function (x, y) { return S.concat(y, x); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getFunctionSemigroup(S) {\n    return function () { return ({\n        concat: function (f, g) { return function (a) { return S.concat(f(a), g(a)); }; }\n    }); };\n}\n/**\n * @since 2.0.0\n */\nexport function getStructSemigroup(semigroups) {\n    return {\n        concat: function (x, y) {\n            var r = {};\n            for (var _i = 0, _a = Object.keys(semigroups); _i < _a.length; _i++) {\n                var key = _a[_i];\n                r[key] = semigroups[key].concat(x[key], y[key]);\n            }\n            return r;\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMeetSemigroup(O) {\n    return {\n        concat: min(O)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getJoinSemigroup(O) {\n    return {\n        concat: max(O)\n    };\n}\n/**\n * Returns a `Semigroup` instance for objects preserving their type\n *\n * @example\n * import { getObjectSemigroup } from 'fp-ts/lib/Semigroup'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n *\n * const S = getObjectSemigroup<Person>()\n * assert.deepStrictEqual(S.concat({ name: 'name', age: 23 }, { name: 'name', age: 24 }), { name: 'name', age: 24 })\n *\n * @since 2.0.0\n */\nexport function getObjectSemigroup() {\n    return {\n        concat: function (x, y) { return Object.assign({}, x, y); }\n    };\n}\n/**\n * Boolean semigroup under conjunction\n * @since 2.0.0\n */\nexport var semigroupAll = {\n    concat: function (x, y) { return x && y; }\n};\n/**\n * Boolean semigroup under disjunction\n * @since 2.0.0\n */\nexport var semigroupAny = {\n    concat: function (x, y) { return x || y; }\n};\n/**\n * Number `Semigroup` under addition\n * @since 2.0.0\n */\nexport var semigroupSum = {\n    concat: function (x, y) { return x + y; }\n};\n/**\n * Number `Semigroup` under multiplication\n * @since 2.0.0\n */\nexport var semigroupProduct = {\n    concat: function (x, y) { return x * y; }\n};\n/**\n * @since 2.0.0\n */\nexport var semigroupString = {\n    concat: function (x, y) { return x + y; }\n};\n/**\n * @since 2.0.0\n */\nexport var semigroupVoid = {\n    concat: function () { return undefined; }\n};\n/**\n * You can glue items between and stay associative\n *\n * @example\n * import { getIntercalateSemigroup, semigroupString } from 'fp-ts/lib/Semigroup'\n *\n * const S = getIntercalateSemigroup(' ')(semigroupString)\n *\n * assert.strictEqual(S.concat('a', 'b'), 'a b')\n * assert.strictEqual(S.concat(S.concat('a', 'b'), 'c'), S.concat('a', S.concat('b', 'c')))\n *\n * @since 2.5.0\n */\nexport function getIntercalateSemigroup(a) {\n    return function (S) { return ({\n        concat: function (x, y) { return S.concat(x, S.concat(a, y)); }\n    }); };\n}\n","import { identity } from './function';\nimport { fold as foldSemigroup, getDualSemigroup, getFunctionSemigroup, getJoinSemigroup, getMeetSemigroup, getStructSemigroup, getTupleSemigroup, semigroupAll, semigroupAny, semigroupProduct, semigroupString, semigroupSum, semigroupVoid } from './Semigroup';\n/**\n * Boolean monoid under conjunction\n * @since 2.0.0\n */\nexport var monoidAll = {\n    concat: semigroupAll.concat,\n    empty: true\n};\n/**\n * Boolean monoid under disjunction\n * @since 2.0.0\n */\nexport var monoidAny = {\n    concat: semigroupAny.concat,\n    empty: false\n};\n/**\n * Number monoid under addition\n * @since 2.0.0\n */\nexport var monoidSum = {\n    concat: semigroupSum.concat,\n    empty: 0\n};\n/**\n * Number monoid under multiplication\n * @since 2.0.0\n */\nexport var monoidProduct = {\n    concat: semigroupProduct.concat,\n    empty: 1\n};\n/**\n * @since 2.0.0\n */\nexport var monoidString = {\n    concat: semigroupString.concat,\n    empty: ''\n};\n/**\n * @since 2.0.0\n */\nexport var monoidVoid = {\n    concat: semigroupVoid.concat,\n    empty: undefined\n};\n/**\n * @since 2.0.0\n */\nexport function fold(M) {\n    var foldM = foldSemigroup(M);\n    return function (as) { return foldM(M.empty, as); };\n}\n/**\n * Given a tuple of monoids returns a monoid for the tuple\n *\n * @example\n * import { getTupleMonoid, monoidString, monoidSum, monoidAll } from 'fp-ts/lib/Monoid'\n *\n * const M1 = getTupleMonoid(monoidString, monoidSum)\n * assert.deepStrictEqual(M1.concat(['a', 1], ['b', 2]), ['ab', 3])\n *\n * const M2 = getTupleMonoid(monoidString, monoidSum, monoidAll)\n * assert.deepStrictEqual(M2.concat(['a', 1, true], ['b', 2, false]), ['ab', 3, false])\n *\n * @since 2.0.0\n */\nexport function getTupleMonoid() {\n    var monoids = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        monoids[_i] = arguments[_i];\n    }\n    return {\n        concat: getTupleSemigroup.apply(void 0, monoids).concat,\n        empty: monoids.map(function (m) { return m.empty; })\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getDualMonoid(M) {\n    return {\n        concat: getDualSemigroup(M).concat,\n        empty: M.empty\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getFunctionMonoid(M) {\n    return function () { return ({\n        concat: getFunctionSemigroup(M)().concat,\n        empty: function () { return M.empty; }\n    }); };\n}\n/**\n * @since 2.0.0\n */\nexport function getEndomorphismMonoid() {\n    return {\n        concat: function (x, y) { return function (a) { return x(y(a)); }; },\n        empty: identity\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getStructMonoid(monoids) {\n    var empty = {};\n    for (var _i = 0, _a = Object.keys(monoids); _i < _a.length; _i++) {\n        var key = _a[_i];\n        empty[key] = monoids[key].empty;\n    }\n    return {\n        concat: getStructSemigroup(monoids).concat,\n        empty: empty\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMeetMonoid(B) {\n    return {\n        concat: getMeetSemigroup(B).concat,\n        empty: B.top\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getJoinMonoid(B) {\n    return {\n        concat: getJoinSemigroup(B).concat,\n        empty: B.bottom\n    };\n}\n","import { none, some } from './Option';\nimport { pipeable } from './pipeable';\nimport * as RA from './ReadonlyArray';\nimport { getJoinSemigroup, getMeetSemigroup } from './Semigroup';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyNonEmptyArray';\n/**\n * Append an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(cons(1, [2, 3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport var cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport var snoc = RA.snoc;\n/**\n * Builds a `ReadonlyNonEmptyArray` from an array returning `none` if `as` is an empty array\n *\n * @since 2.5.0\n */\nexport function fromReadonlyArray(as) {\n    return RA.isNonEmpty(as) ? some(as) : none;\n}\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function fromArray(as) {\n    return fromReadonlyArray(RA.fromArray(as));\n}\n/**\n * @since 2.5.0\n */\nexport var getShow = RA.getShow;\n/**\n * @since 2.5.0\n */\nexport function head(nea) {\n    return nea[0];\n}\n/**\n * @since 2.5.0\n */\nexport function tail(nea) {\n    return nea.slice(1);\n}\n/**\n * @since 2.5.0\n */\nexport var reverse = RA.reverse;\n/**\n * @since 2.5.0\n */\nexport function min(ord) {\n    var S = getMeetSemigroup(ord);\n    return function (nea) { return nea.reduce(S.concat); };\n}\n/**\n * @since 2.5.0\n */\nexport function max(ord) {\n    var S = getJoinSemigroup(ord);\n    return function (nea) { return nea.reduce(S.concat); };\n}\n/**\n * Builds a `Semigroup` instance for `ReadonlyNonEmptyArray`\n *\n * @since 2.5.0\n */\nexport function getSemigroup() {\n    return {\n        concat: concat\n    };\n}\n/**\n * @example\n * import { getEq, cons } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 2]), true)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 3]), false)\n *\n * @since 2.5.0\n */\nexport var getEq = RA.getEq;\nexport function group(E) {\n    return function (as) {\n        var len = as.length;\n        if (len === 0) {\n            return RA.empty;\n        }\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var head = as[0];\n        var nea = [head];\n        for (var i = 1; i < len; i++) {\n            var x = as[i];\n            if (E.equals(x, head)) {\n                nea.push(x);\n            }\n            else {\n                r.push(nea);\n                head = x;\n                nea = [head];\n            }\n        }\n        r.push(nea);\n        return r;\n    };\n}\n/**\n * Sort and then group the elements of an array into non empty arrays.\n *\n * @example\n * import { cons, groupSort } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(groupSort(ordNumber)([1, 2, 1, 1]), [cons(1, [1, 1]), cons(2, [])])\n *\n * @since 2.5.0\n */\nexport function groupSort(O) {\n    var sortO = RA.sort(O);\n    var groupO = group(O);\n    return function (as) { return groupO(sortO(as)); };\n}\n/**\n * Splits an array into sub-non-empty-arrays stored in an object, based on the result of calling a `string`-returning\n * function on each element, and grouping the results according to values returned\n *\n * @example\n * import { cons, groupBy } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(groupBy((s: string) => String(s.length))(['foo', 'bar', 'foobar']), {\n *   '3': cons('foo', ['bar']),\n *   '6': cons('foobar', [])\n * })\n *\n * @since 2.5.0\n */\nexport function groupBy(f) {\n    return function (as) {\n        var r = {};\n        for (var _i = 0, as_1 = as; _i < as_1.length; _i++) {\n            var a = as_1[_i];\n            var k = f(a);\n            if (r.hasOwnProperty(k)) {\n                r[k].push(a);\n            }\n            else {\n                r[k] = [a];\n            }\n        }\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function last(nea) {\n    return nea[nea.length - 1];\n}\n/**\n * Get all but the last element of a non empty array, creating a new array.\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyNonEmptyArray'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), [1, 2])\n * assert.deepStrictEqual(init([1]), [])\n *\n * @since 2.5.0\n */\nexport function init(nea) {\n    return nea.slice(0, -1);\n}\n/**\n * @since 2.5.0\n */\nexport function sort(O) {\n    return RA.sort(O);\n}\n/**\n * @since 2.5.0\n */\nexport function insertAt(i, a) {\n    return RA.insertAt(i, a);\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(i, a) {\n    return RA.updateAt(i, a);\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(i, f) {\n    return RA.modifyAt(i, f);\n}\nexport function filter(predicate) {\n    return filterWithIndex(function (_, a) { return predicate(a); });\n}\n/**\n * @since 2.5.0\n */\nexport function filterWithIndex(predicate) {\n    return function (nea) { return fromReadonlyArray(nea.filter(function (a, i) { return predicate(i, a); })); };\n}\n/**\n * @since 2.5.0\n */\nexport var of = RA.of;\nexport function concat(fx, fy) {\n    return fx.concat(fy);\n}\n/**\n * @since 2.5.0\n */\nexport function fold(S) {\n    return function (fa) { return fa.reduce(S.concat); };\n}\n/**\n * @since 2.5.1\n */\nexport var zipWith = RA.zipWith;\n/**\n * @since 2.5.1\n */\nexport var zip = RA.zip;\n/**\n * @since 2.5.1\n */\nexport var unzip = RA.unzip;\n/**\n * @since 2.5.0\n */\nexport var readonlyNonEmptyArray = {\n    URI: URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    of: of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    extend: RA.readonlyArray.extend,\n    extract: head,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    alt: function (fx, fy) { return concat(fx, fy()); }\n};\nvar _a = pipeable(readonlyNonEmptyArray), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, map = _a.map, mapWithIndex = _a.mapWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex;\nvar foldMapWithIndex = function (S) { return function (f) { return function (fa) {\n    return fa.slice(1).reduce(function (s, a, i) { return S.concat(s, f(i + 1, a)); }, f(0, fa[0]));\n}; }; };\nvar foldMap = function (S) { return function (f) { return function (fa) {\n    return fa.slice(1).reduce(function (s, a) { return S.concat(s, f(a)); }, f(fa[0]));\n}; }; };\nexport { \n/**\n * @since 2.5.0\n */\nap, \n/**\n * @since 2.5.0\n */\napFirst, \n/**\n * @since 2.5.0\n */\napSecond, \n/**\n * @since 2.5.0\n */\nchain, \n/**\n * @since 2.5.0\n */\nchainFirst, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nflatten, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapWithIndex, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.5.0\n */\nreduceWithIndex };\n","import { pipeable } from './pipeable';\nimport * as RNEA from './ReadonlyNonEmptyArray';\n/**\n * @since 2.0.0\n */\nexport var URI = 'NonEmptyArray';\n/* tslint:enable:readonly-keyword */\n/**\n * Append an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(cons(1, [2, 3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var cons = RNEA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var snoc = RNEA.snoc;\n/**\n * Builds a `NonEmptyArray` from an `Array` returning `none` if `as` is an empty array\n *\n * @since 2.0.0\n */\nexport var fromArray = RNEA.fromArray;\n/**\n * @since 2.0.0\n */\nexport var getShow = RNEA.getShow;\n/**\n * @since 2.0.0\n */\nexport var head = RNEA.head;\n/**\n * @since 2.0.0\n */\nexport var tail = RNEA.tail;\n/**\n * @since 2.0.0\n */\nexport var reverse = RNEA.reverse;\n/**\n * @since 2.0.0\n */\nexport var min = RNEA.min;\n/**\n * @since 2.0.0\n */\nexport var max = RNEA.max;\n/**\n * Builds a `Semigroup` instance for `NonEmptyArray`\n *\n * @since 2.0.0\n */\nexport var getSemigroup = RNEA.getSemigroup;\n/**\n * @example\n * import { getEq, cons } from 'fp-ts/lib/NonEmptyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 2]), true)\n * assert.strictEqual(E.equals(cons(1, [2]), [1, 3]), false)\n *\n * @since 2.0.0\n */\nexport var getEq = RNEA.getEq;\nexport function group(E) {\n    return RNEA.group(E);\n}\n/**\n * Sort and then group the elements of an array into non empty arrays.\n *\n * @example\n * import { cons, groupSort } from 'fp-ts/lib/NonEmptyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(groupSort(ordNumber)([1, 2, 1, 1]), [cons(1, [1, 1]), cons(2, [])])\n *\n * @since 2.0.0\n */\nexport var groupSort = RNEA.groupSort;\n/**\n * Splits an array into sub-non-empty-arrays stored in an object, based on the result of calling a `string`-returning\n * function on each element, and grouping the results according to values returned\n *\n * @example\n * import { cons, groupBy } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(groupBy((s: string) => String(s.length))(['foo', 'bar', 'foobar']), {\n *   '3': cons('foo', ['bar']),\n *   '6': cons('foobar', [])\n * })\n *\n * @since 2.0.0\n */\nexport var groupBy = RNEA.groupBy;\n/**\n * @since 2.0.0\n */\nexport var last = RNEA.last;\n/**\n * Get all but the last element of a non empty array, creating a new array.\n *\n * @example\n * import { init } from 'fp-ts/lib/NonEmptyArray'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), [1, 2])\n * assert.deepStrictEqual(init([1]), [])\n *\n * @since 2.2.0\n */\nexport var init = RNEA.init;\n/**\n * @since 2.0.0\n */\nexport var sort = RNEA.sort;\n/**\n * @since 2.0.0\n */\nexport var insertAt = RNEA.insertAt;\n/**\n * @since 2.0.0\n */\nexport var updateAt = RNEA.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RNEA.modifyAt;\n/**\n * @since 2.0.0\n */\nexport function copy(nea) {\n    var l = nea.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = nea[i];\n    }\n    return as;\n}\nexport function filter(predicate) {\n    return RNEA.filter(predicate);\n}\n/**\n * @since 2.0.0\n */\nexport var filterWithIndex = RNEA.filterWithIndex;\n/**\n * @since 2.0.0\n */\nexport var of = RNEA.of;\nexport function concat(fx, fy) {\n    return RNEA.concat(fx, fy);\n}\n/**\n * @since 2.5.0\n */\nexport var fold = RNEA.fold;\n/**\n * @since 2.5.1\n */\nexport var zipWith = RNEA.zipWith;\n/**\n * @since 2.5.1\n */\nexport var zip = RNEA.zip;\n/**\n * @since 2.5.1\n */\nexport var unzip = RNEA.unzip;\n/**\n * @since 2.0.0\n */\nexport var nonEmptyArray = {\n    URI: URI,\n    map: RNEA.readonlyNonEmptyArray.map,\n    mapWithIndex: RNEA.readonlyNonEmptyArray.mapWithIndex,\n    of: of,\n    ap: RNEA.readonlyNonEmptyArray.ap,\n    chain: RNEA.readonlyNonEmptyArray.chain,\n    extend: RNEA.readonlyNonEmptyArray.extend,\n    extract: head,\n    reduce: RNEA.readonlyNonEmptyArray.reduce,\n    foldMap: RNEA.readonlyNonEmptyArray.foldMap,\n    reduceRight: RNEA.readonlyNonEmptyArray.reduceRight,\n    traverse: RNEA.readonlyNonEmptyArray.traverse,\n    sequence: RNEA.readonlyNonEmptyArray.sequence,\n    reduceWithIndex: RNEA.readonlyNonEmptyArray.reduceWithIndex,\n    foldMapWithIndex: RNEA.readonlyNonEmptyArray.foldMapWithIndex,\n    reduceRightWithIndex: RNEA.readonlyNonEmptyArray.reduceRightWithIndex,\n    traverseWithIndex: RNEA.readonlyNonEmptyArray.traverseWithIndex,\n    alt: RNEA.readonlyNonEmptyArray.alt\n};\nvar _a = pipeable(nonEmptyArray), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, map = _a.map, mapWithIndex = _a.mapWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex;\nvar foldMapWithIndex = RNEA.foldMapWithIndex;\nvar foldMap = RNEA.foldMap;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapWithIndex, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.0.0\n */\nreduceWithIndex };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * @since 2.0.0\n */\nimport { getApplicativeComposition } from './Applicative';\nimport { fold, none, option, some } from './Option';\nexport function getOptionM(M) {\n    var A = getApplicativeComposition(M, option);\n    var fnone = M.of(none);\n    return __assign(__assign({}, A), { chain: function (ma, f) {\n            return M.chain(ma, fold(function () { return fnone; }, f));\n        }, alt: function (fx, fy) {\n            return M.chain(fx, fold(fy, function (a) { return M.of(some(a)); }));\n        }, fold: function (ma, onNone, onSome) { return M.chain(ma, fold(onNone, onSome)); }, getOrElse: function (ma, onNone) { return M.chain(ma, fold(onNone, M.of)); }, fromM: function (ma) { return M.map(ma, some); }, none: function () { return fnone; } });\n}\n","/**\n * @since 2.0.0\n */\nimport { io } from './IO';\n/**\n * Returns a random number between 0 (inclusive) and 1 (exclusive). This is a direct wrapper around JavaScript's\n * `Math.random()`.\n *\n * @since 2.0.0\n */\nexport var random = function () { return Math.random(); };\n/**\n * Takes a range specified by `low` (the first argument) and `high` (the second), and returns a random integer uniformly\n * distributed in the closed interval `[low, high]`. It is unspecified what happens if `low > high`, or if either of\n * `low` or `high` is not an integer.\n *\n * @since 2.0.0\n */\nexport function randomInt(low, high) {\n    return io.map(random, function (n) { return Math.floor((high - low + 1) * n + low); });\n}\n/**\n * Returns a random number between a minimum value (inclusive) and a maximum value (exclusive). It is unspecified what\n * happens if `maximum < minimum`.\n *\n * @since 2.0.0\n */\nexport function randomRange(min, max) {\n    return io.map(random, function (n) { return (max - min) * n + min; });\n}\n/**\n * Returns a random boolean value with an equal chance of being `true` or `false`\n *\n * @since 2.0.0\n */\nexport var randomBool = io.map(random, function (n) { return n < 0.5; });\n","export function getReaderM(M) {\n    return {\n        map: function (ma, f) { return function (r) { return M.map(ma(r), f); }; },\n        of: function (a) { return function () { return M.of(a); }; },\n        ap: function (mab, ma) { return function (r) { return M.ap(mab(r), ma(r)); }; },\n        chain: function (ma, f) { return function (r) { return M.chain(ma(r), function (a) { return f(a)(r); }); }; },\n        ask: function () { return M.of; },\n        asks: function (f) { return function (r) { return M.map(M.of(r), f); }; },\n        local: function (ma, f) { return function (q) { return ma(f(q)); }; },\n        fromReader: function (ma) { return function (r) { return M.of(ma(r)); }; },\n        fromM: function (ma) { return function () { return ma; }; }\n    };\n}\n","import * as E from './Either';\nimport { identity as id } from './function';\nimport { identity } from './Identity';\nimport { getReaderM } from './ReaderT';\nimport { pipeable } from './pipeable';\nvar T = getReaderM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'Reader';\n/**\n * Reads the current context\n *\n * @since 2.0.0\n */\nexport var ask = T.ask;\n/**\n * Projects a value from the global context in a Reader\n *\n * @since 2.0.0\n */\nexport var asks = T.asks;\n/**\n * Changes the value of the local context during the execution of the action `ma` (similar to `Contravariant`'s\n * `contramap`).\n *\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function (e) { return S.concat(x(e), y(e)); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: function () { return M.empty; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var of = T.of;\n/**\n * @since 2.0.0\n */\nexport var reader = {\n    URI: URI,\n    map: function (ma, f) { return function (e) { return f(ma(e)); }; },\n    of: of,\n    ap: T.ap,\n    chain: T.chain,\n    promap: function (mbc, f, g) { return function (a) { return g(mbc(f(a))); }; },\n    compose: function (ab, la) { return function (l) { return ab(la(l)); }; },\n    id: function () { return id; },\n    first: function (pab) { return function (_a) {\n        var a = _a[0], c = _a[1];\n        return [pab(a), c];\n    }; },\n    second: function (pbc) { return function (_a) {\n        var a = _a[0], b = _a[1];\n        return [a, pbc(b)];\n    }; },\n    left: function (pab) {\n        return E.fold(function (a) { return E.left(pab(a)); }, E.right);\n    },\n    right: function (pbc) {\n        return E.fold(E.left, function (b) { return E.right(pbc(b)); });\n    }\n};\nvar _a = pipeable(reader), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, compose = _a.compose, flatten = _a.flatten, map = _a.map, promap = _a.promap;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\ncompose, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npromap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup, reader } from './Reader';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(reader);\n/**\n * @since 2.0.0\n */\nexport var URI = 'ReaderEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport var rightReader = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftReader = T.leftM;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getReaderSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function ask() {\n    return E.right;\n}\n/**\n * @since 2.0.0\n */\nexport function asks(f) {\n    return function (r) { return E.right(f(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return function (q) { return ma(f(q)); }; };\n}\n/**\n * @since 2.3.0\n */\nexport function getReaderValidation(S) {\n    var T = getValidationM(S, reader);\n    return __assign(__assign({ _E: undefined }, readerEither), T);\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var readerEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    throwError: left\n};\nvar _a = pipeable(readerEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Task';\n/**\n * @since 2.0.0\n */\nexport var never = function () { return new Promise(function (_) { return undefined; }); };\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return function () { return x().then(function (rx) { return y().then(function (ry) { return S.concat(rx, ry); }); }); }; }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: task.of(M.empty)\n    };\n}\n/**\n * Note: uses `Promise.race` internally\n *\n * @since 2.0.0\n */\nexport function getRaceMonoid() {\n    return {\n        concat: function (x, y) { return function () { return Promise.race([x(), y()]); }; },\n        empty: never\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function delay(millis) {\n    return function (ma) { return function () {\n        return new Promise(function (resolve) {\n            setTimeout(function () {\n                // tslint:disable-next-line: no-floating-promises\n                ma().then(resolve);\n            }, millis);\n        });\n    }; };\n}\n/**\n * @since 2.0.0\n */\nexport function fromIO(ma) {\n    return function () { return Promise.resolve(ma()); };\n}\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexport function of(a) {\n    return function () { return Promise.resolve(a); };\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIO(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOK(f) {\n    return chain(fromIOK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var task = {\n    URI: URI,\n    map: function (ma, f) { return function () { return ma().then(f); }; },\n    of: of,\n    ap: function (mab, ma) { return function () { return Promise.all([mab(), ma()]).then(function (_a) {\n        var f = _a[0], a = _a[1];\n        return f(a);\n    }); }; },\n    chain: function (ma, f) { return function () { return ma().then(function (a) { return f(a)(); }); }; },\n    fromIO: fromIO,\n    fromTask: identity\n};\n/**\n * Like `Task` but `ap` is sequential\n *\n * @since 2.0.0\n */\nexport var taskSeq = __assign(__assign({}, task), { ap: function (mab, ma) { return function () { return mab().then(function (f) { return ma().then(function (a) { return f(a); }); }); }; } });\nvar _a = pipeable(task), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup } from './Reader';\nimport { getReaderM } from './ReaderT';\nimport * as TA from './Task';\nvar T = getReaderM(TA.task);\n/**\n * @since 2.3.0\n */\nexport var URI = 'ReaderTask';\n/**\n * @since 2.4.0\n */\nexport function run(ma, r) {\n    return ma(r)();\n}\n/**\n * @since 2.3.0\n */\nexport var fromTask = T.fromM;\n/**\n * @since 2.3.0\n */\nexport var fromReader = T.fromReader;\n/**\n * @since 2.3.0\n */\nexport function fromIO(ma) {\n    return fromTask(TA.fromIO(ma));\n}\n/**\n * @since 2.3.0\n */\nexport var of = T.of;\n/**\n * @since 2.3.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(TA.getSemigroup(S));\n}\n/**\n * @since 2.3.0\n */\nexport function getMonoid(M) {\n    return {\n        concat: getSemigroup(M).concat,\n        empty: of(M.empty)\n    };\n}\n/**\n * @since 2.3.0\n */\nexport var ask = T.ask;\n/**\n * @since 2.3.0\n */\nexport var asks = T.asks;\n/**\n * @since 2.3.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIO(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOK(f) {\n    return chain(fromIOK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTask(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskK(f) {\n    return chain(fromTaskK(f));\n}\n/**\n * @since 2.3.0\n */\nexport var readerTask = {\n    URI: URI,\n    map: T.map,\n    of: of,\n    ap: T.ap,\n    chain: T.chain,\n    fromIO: fromIO,\n    fromTask: fromTask\n};\n/**\n * Like `readerTask` but `ap` is sequential\n * @since 2.3.0\n */\nexport var readerTaskSeq = __assign(__assign({}, readerTask), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(readerTask), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.3.0\n */\nap, \n/**\n * @since 2.3.0\n */\napFirst, \n/**\n * @since 2.3.0\n */\napSecond, \n/**\n * @since 2.3.0\n */\nchain, \n/**\n * @since 2.3.0\n */\nchainFirst, \n/**\n * @since 2.3.0\n */\nflatten, \n/**\n * @since 2.3.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as E from './Either';\nimport { getEitherM } from './EitherT';\nimport { getFilterableComposition } from './Filterable';\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getTaskSemigroup, task } from './Task';\nimport { getValidationM } from './ValidationT';\nvar T = getEitherM(task);\n/**\n * @since 2.0.0\n */\nexport var URI = 'TaskEither';\n/**\n * @since 2.0.0\n */\nexport var left = T.left;\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return rightTask(task.fromIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return leftTask(task.fromIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport var rightTask = T.rightM;\n/**\n * @since 2.0.0\n */\nexport var leftTask = T.leftM;\n/**\n * @since 2.0.0\n */\nexport var fromIOEither = task.fromIO;\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return T.fold(ma, onLeft, onRight); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return T.getOrElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return T.orElse(ma, onLeft); };\n}\n/**\n * @since 2.0.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getTaskSemigroup(E.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getTaskSemigroup(E.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * Transforms a `Promise` that may reject to a `Promise` that never rejects and returns an `Either` instead.\n *\n * Note: `f` should never `throw` errors, they are not caught.\n *\n * @example\n * import { left, right } from 'fp-ts/lib/Either'\n * import { tryCatch } from 'fp-ts/lib/TaskEither'\n *\n * tryCatch(() => Promise.resolve(1), String)().then(result => {\n *   assert.deepStrictEqual(result, right(1))\n * })\n * tryCatch(() => Promise.reject('error'), String)().then(result => {\n *   assert.deepStrictEqual(result, left('error'))\n * })\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onRejected) {\n    return function () { return f().then(E.right, function (reason) { return E.left(onRejected(reason)); }); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.0\n */\nexport function bracket(acquire, use, release) {\n    return T.chain(acquire, function (a) {\n        return T.chain(task.map(use(a), E.right), function (e) {\n            return T.chain(release(a, e), function () { return (E.isLeft(e) ? T.left(e.left) : T.of(e.right)); });\n        });\n    });\n}\nexport function taskify(f) {\n    return function () {\n        var args = Array.prototype.slice.call(arguments);\n        return function () {\n            return new Promise(function (resolve) {\n                var cbResolver = function (e, r) { return (e != null ? resolve(E.left(e)) : resolve(E.right(r))); };\n                f.apply(null, args.concat(cbResolver));\n            });\n        };\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getTaskValidation(S) {\n    var T = getValidationM(S, task);\n    return __assign(__assign({ _E: undefined }, taskEither), T);\n}\n/**\n * @since 2.1.0\n */\nexport function getFilterable(M) {\n    var F = E.getWitherable(M);\n    return __assign({ URI: URI, _E: undefined }, getFilterableComposition(task, F));\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * Converts a function returning a `Promise` to one returning a `TaskEither`.\n *\n * @since 2.5.0\n */\nexport function tryCatchK(f, onRejected) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return tryCatch(function () { return f.apply(void 0, a); }, onRejected);\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var taskEither = {\n    URI: URI,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft,\n    map: T.map,\n    of: T.of,\n    ap: T.ap,\n    chain: T.chain,\n    alt: T.alt,\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `TaskEither` but `ap` is sequential\n *\n * @since 2.0.0\n */\nexport var taskEitherSeq = __assign(__assign({}, taskEither), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(taskEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipe, pipeable } from './pipeable';\nimport { getSemigroup as getReaderSemigroup } from './Reader';\nimport { getReaderM } from './ReaderT';\nimport { readerTask } from './ReaderTask';\nimport * as TE from './TaskEither';\nimport { getValidationM } from './ValidationT';\nvar T = getReaderM(TE.taskEither);\n/**\n * @since 2.0.0\n */\nexport var URI = 'ReaderTaskEither';\n/**\n * @since 2.0.0\n */\nexport function run(ma, r) {\n    return ma(r)();\n}\n/**\n * @since 2.0.0\n */\nexport function left(e) {\n    return fromTaskEither(TE.left(e));\n}\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightTask(ma) {\n    return fromTaskEither(TE.rightTask(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftTask(me) {\n    return fromTaskEither(TE.leftTask(me));\n}\n/**\n * @since 2.0.0\n */\nexport var fromTaskEither = T.fromM;\n/**\n * @since 2.0.0\n */\nexport var rightReader = T.fromReader;\n/**\n * @since 2.5.0\n */\nexport function leftReaderTask(me) {\n    return function (r) { return TE.leftTask(me(r)); };\n}\n/**\n * @since 2.5.0\n */\nexport function rightReaderTask(ma) {\n    return function (r) { return TE.rightTask(ma(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function leftReader(me) {\n    return function (r) { return TE.left(me(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function fromIOEither(ma) {\n    return fromTaskEither(TE.fromIOEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function fromReaderEither(ma) {\n    return function (r) { return TE.fromEither(ma(r)); };\n}\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return fromTaskEither(TE.rightIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return fromTaskEither(TE.leftIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return function (r) {\n        return pipe(ma(r), TE.fold(function (e) { return onLeft(e)(r); }, function (a) { return onRight(a)(r); }));\n    }; };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return function (r) { return TE.getOrElse(function (e) { return onLeft(e)(r); })(ma(r)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return function (r) { return TE.orElse(function (e) { return onLeft(e)(r); })(ma(r)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function swap(ma) {\n    return function (e) { return TE.swap(ma(e)); };\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return getReaderSemigroup(TE.getSemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return getReaderSemigroup(TE.getApplySemigroup(S));\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return {\n        concat: getApplySemigroup(M).concat,\n        empty: right(M.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var ask = T.ask;\n/**\n * @since 2.0.0\n */\nexport var asks = T.asks;\n/**\n * @since 2.0.0\n */\nexport function local(f) {\n    return function (ma) { return T.local(ma, f); };\n}\n/**\n * Make sure that a resource is cleaned up in the event of an exception (*). The release action is called regardless of\n * whether the body action throws (*) or returns.\n *\n * (*) i.e. returns a `Left`\n *\n * @since 2.0.4\n */\nexport function bracket(aquire, use, release) {\n    return function (r) {\n        return TE.bracket(aquire(r), function (a) { return use(a)(r); }, function (a, e) { return release(a, e)(r); });\n    };\n}\n/**\n * @since 2.3.0\n */\nexport function getReaderTaskValidation(S) {\n    var T = getValidationM(S, readerTask);\n    return __assign(__assign({ _E: undefined }, readerTaskEither), T);\n}\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskEitherK(f) {\n    return chain(fromTaskEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var readerTaskEither = {\n    URI: URI,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    alt: function (fx, fy) { return function (r) { return TE.taskEither.alt(fx(r), function () { return fy()(r); }); }; },\n    bimap: function (ma, f, g) { return function (e) { return TE.taskEither.bimap(ma(e), f, g); }; },\n    mapLeft: function (ma, f) { return function (e) { return TE.taskEither.mapLeft(ma(e), f); }; },\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `readerTaskEither` but `ap` is sequential\n * @since 2.0.0\n */\nexport var readerTaskEitherSeq = __assign(__assign({}, readerTaskEither), { ap: function (mab, ma) { return T.chain(mab, function (f) { return T.map(ma, f); }); } });\nvar _a = pipeable(readerTaskEither), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, mapLeft = _a.mapLeft, fromOption = _a.fromOption, fromEither = _a.fromEither, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","import { fromEquals } from './Eq';\nimport { not, identity } from './function';\n/**\n * @since 2.5.0\n */\nexport function fromSet(s) {\n    return new Set(s);\n}\n/**\n * @since 2.5.0\n */\nexport function toSet(s) {\n    return new Set(s);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (s) {\n            var elements = '';\n            s.forEach(function (a) {\n                elements += S.show(a) + ', ';\n            });\n            if (elements !== '') {\n                elements = elements.substring(0, elements.length - 2);\n            }\n            return \"new Set([\" + elements + \"])\";\n        }\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var empty = new Set();\n/**\n * @since 2.5.0\n */\nexport function toReadonlyArray(O) {\n    return function (x) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        x.forEach(function (e) { return r.push(e); });\n        return r.sort(O.compare);\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function getEq(E) {\n    var subsetE = isSubset(E);\n    return fromEquals(function (x, y) { return subsetE(x, y) && subsetE(y, x); });\n}\n/**\n * @since 2.5.0\n */\nexport function some(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var found = false;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!found && !(e = values.next()).done) {\n            found = predicate(e.value);\n        }\n        return found;\n    };\n}\n/**\n * Projects a Set through a function\n *\n * @since 2.5.0\n */\nexport function map(E) {\n    var elemE = elem(E);\n    return function (f) { return function (set) {\n        var r = new Set();\n        set.forEach(function (e) {\n            var v = f(e);\n            if (!elemE(v, r)) {\n                r.add(v);\n            }\n        });\n        return r;\n    }; };\n}\n/**\n * @since 2.5.0\n */\nexport function every(predicate) {\n    return not(some(not(predicate)));\n}\n/**\n * @since 2.5.0\n */\nexport function chain(E) {\n    var elemE = elem(E);\n    return function (f) { return function (set) {\n        var r = new Set();\n        set.forEach(function (e) {\n            f(e).forEach(function (e) {\n                if (!elemE(e, r)) {\n                    r.add(e);\n                }\n            });\n        });\n        return r;\n    }; };\n}\n/**\n * `true` if and only if every element in the first set is an element of the second set\n *\n * @since 2.5.0\n */\nexport function isSubset(E) {\n    var elemE = elem(E);\n    return function (x, y) { return every(function (a) { return elemE(a, y); })(x); };\n}\nexport function filter(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var r = new Set();\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var value = e.value;\n            if (predicate(value)) {\n                r.add(value);\n            }\n        }\n        return r;\n    };\n}\nexport function partition(predicate) {\n    return function (set) {\n        var values = set.values();\n        var e;\n        var right = new Set();\n        var left = new Set();\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var value = e.value;\n            if (predicate(value)) {\n                right.add(value);\n            }\n            else {\n                left.add(value);\n            }\n        }\n        return { left: left, right: right };\n    };\n}\n/**\n * Test if a value is a member of a set\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, set) {\n        var values = set.values();\n        var e;\n        var found = false;\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!found && !(e = values.next()).done) {\n            found = E.equals(a, e.value);\n        }\n        return found;\n    };\n}\n/**\n * Form the union of two sets\n *\n * @since 2.5.0\n */\nexport function union(E) {\n    var elemE = elem(E);\n    return function (x, y) {\n        if (x === empty) {\n            return y;\n        }\n        if (y === empty) {\n            return x;\n        }\n        var r = new Set(x);\n        y.forEach(function (e) {\n            if (!elemE(e, r)) {\n                r.add(e);\n            }\n        });\n        return r;\n    };\n}\n/**\n * The set of elements which are in both the first and second set\n *\n * @since 2.5.0\n */\nexport function intersection(E) {\n    var elemE = elem(E);\n    return function (x, y) {\n        if (x === empty || y === empty) {\n            return empty;\n        }\n        var r = new Set();\n        x.forEach(function (e) {\n            if (elemE(e, y)) {\n                r.add(e);\n            }\n        });\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function partitionMap(EB, EC) {\n    return function (f) { return function (set) {\n        var values = set.values();\n        var e;\n        var left = new Set();\n        var right = new Set();\n        var hasB = elem(EB);\n        var hasC = elem(EC);\n        // tslint:disable-next-line: strict-boolean-expressions\n        while (!(e = values.next()).done) {\n            var v = f(e.value);\n            switch (v._tag) {\n                case 'Left':\n                    if (!hasB(v.left, left)) {\n                        left.add(v.left);\n                    }\n                    break;\n                case 'Right':\n                    if (!hasC(v.right, right)) {\n                        right.add(v.right);\n                    }\n                    break;\n            }\n        }\n        return { left: left, right: right };\n    }; };\n}\n/**\n * Form the set difference (`x` - `y`)\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlySet'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)(new Set([1, 2]), new Set([1, 3])), new Set([2]))\n *\n *\n * @since 2.5.0\n */\nexport function difference(E) {\n    var elemE = elem(E);\n    return function (x, y) { return filter(function (a) { return !elemE(a, y); })(x); };\n}\n/**\n * @since 2.5.0\n */\nexport function getUnionMonoid(E) {\n    return {\n        concat: union(E),\n        empty: empty\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function getIntersectionSemigroup(E) {\n    return {\n        concat: intersection(E)\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function reduce(O) {\n    var toArrayO = toReadonlyArray(O);\n    return function (b, f) { return function (fa) { return toArrayO(fa).reduce(f, b); }; };\n}\n/**\n * @since 2.5.0\n */\nexport function foldMap(O, M) {\n    var toArrayO = toReadonlyArray(O);\n    return function (f) { return function (fa) { return toArrayO(fa).reduce(function (b, a) { return M.concat(b, f(a)); }, M.empty); }; };\n}\n/**\n * Create a set with one element\n *\n * @since 2.5.0\n */\nexport function singleton(a) {\n    return new Set([a]);\n}\n/**\n * Insert a value into a set\n *\n * @since 2.5.0\n */\nexport function insert(E) {\n    var elemE = elem(E);\n    return function (a) { return function (set) {\n        if (!elemE(a, set)) {\n            var r = new Set(set);\n            r.add(a);\n            return r;\n        }\n        else {\n            return set;\n        }\n    }; };\n}\n/**\n * Delete a value from a set\n *\n * @since 2.5.0\n */\nexport function remove(E) {\n    return function (a) { return function (set) { return filter(function (ax) { return !E.equals(a, ax); })(set); }; };\n}\n/**\n * Create a set from an array\n *\n * @since 2.5.0\n */\nexport function fromArray(E) {\n    return function (as) {\n        var len = as.length;\n        var r = new Set();\n        var has = elem(E);\n        for (var i = 0; i < len; i++) {\n            var a = as[i];\n            if (!has(a, r)) {\n                r.add(a);\n            }\n        }\n        return r;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function compact(E) {\n    return filterMap(E)(identity);\n}\n/**\n * @since 2.5.0\n */\nexport function separate(EE, EA) {\n    return function (fa) {\n        var elemEE = elem(EE);\n        var elemEA = elem(EA);\n        var left = new Set();\n        var right = new Set();\n        fa.forEach(function (e) {\n            switch (e._tag) {\n                case 'Left':\n                    if (!elemEE(e.left, left)) {\n                        left.add(e.left);\n                    }\n                    break;\n                case 'Right':\n                    if (!elemEA(e.right, right)) {\n                        right.add(e.right);\n                    }\n                    break;\n            }\n        });\n        return { left: left, right: right };\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function filterMap(E) {\n    var elemE = elem(E);\n    return function (f) { return function (fa) {\n        var r = new Set();\n        fa.forEach(function (a) {\n            var ob = f(a);\n            if (ob._tag === 'Some' && !elemE(ob.value, r)) {\n                r.add(ob.value);\n            }\n        });\n        return r;\n    }; };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyTuple';\n/**\n * @since 2.5.0\n */\nexport function fst(sa) {\n    return sa[0];\n}\n/**\n * @since 2.5.0\n */\nexport function snd(sa) {\n    return sa[1];\n}\n/**\n * @since 2.5.0\n */\nexport function swap(sa) {\n    return [snd(sa), fst(sa)];\n}\n/**\n * @since 2.5.0\n */\nexport function getApply(S) {\n    return {\n        URI: URI,\n        _E: undefined,\n        map: readonlyTuple.map,\n        ap: function (fab, fa) { return [fst(fab)(fst(fa)), S.concat(snd(fab), snd(fa))]; }\n    };\n}\nvar of = function (M) { return function (a) {\n    return [a, M.empty];\n}; };\n/**\n * @since 2.5.0\n */\nexport function getApplicative(M) {\n    return __assign(__assign({}, getApply(M)), { of: of(M) });\n}\n/**\n * @since 2.5.0\n */\nexport function getChain(S) {\n    return __assign(__assign({}, getApply(S)), { chain: function (fa, f) {\n            var _a = f(fst(fa)), b = _a[0], s = _a[1];\n            return [b, S.concat(snd(fa), s)];\n        } });\n}\n/**\n * @since 2.5.0\n */\nexport function getMonad(M) {\n    return __assign(__assign({}, getChain(M)), { of: of(M) });\n}\n/**\n * @since 2.5.0\n */\nexport function getChainRec(M) {\n    var chainRec = function (a, f) {\n        var result = f(a);\n        var acc = M.empty;\n        var s = fst(result);\n        while (s._tag === 'Left') {\n            acc = M.concat(acc, snd(result));\n            result = f(s.left);\n            s = fst(result);\n        }\n        return [s.right, M.concat(acc, snd(result))];\n    };\n    return __assign(__assign({}, getChain(M)), { chainRec: chainRec });\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyTuple = {\n    URI: URI,\n    compose: function (ba, ae) { return [fst(ba), snd(ae)]; },\n    map: function (ae, f) { return [f(fst(ae)), snd(ae)]; },\n    bimap: function (fea, f, g) { return [g(fst(fea)), f(snd(fea))]; },\n    mapLeft: function (fea, f) { return [fst(fea), f(snd(fea))]; },\n    extract: fst,\n    extend: function (ae, f) { return [f(ae), snd(ae)]; },\n    reduce: function (ae, b, f) { return f(b, fst(ae)); },\n    foldMap: function (_) { return function (ae, f) { return f(fst(ae)); }; },\n    reduceRight: function (ae, b, f) { return f(fst(ae), b); },\n    traverse: function (F) { return function (as, f) {\n        return F.map(f(fst(as)), function (b) { return [b, snd(as)]; });\n    }; },\n    sequence: function (F) { return function (fas) {\n        return F.map(fst(fas), function (a) { return [a, snd(fas)]; });\n    }; }\n};\nvar _a = pipeable(readonlyTuple), bimap = _a.bimap, compose = _a.compose, duplicate = _a.duplicate, extend = _a.extend, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.5.0\n */\nbimap, \n/**\n * @since 2.5.0\n */\ncompose, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapLeft, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight };\n","/**\n * The `Semiring` class is for types that support an addition and multiplication operation.\n *\n * Instances must satisfy the following laws:\n *\n * - Commutative monoid under addition:\n *   - Associativity: `(a + b) + c = a + (b + c)`\n *   - Identity: `zero + a = a + zero = a`\n *   - Commutative: `a + b = b + a`\n * - Monoid under multiplication:\n *   - Associativity: `(a * b) * c = a * (b * c)`\n *   - Identity: `one * a = a * one = a`\n * - Multiplication distributes over addition:\n *   - Left distributivity: `a * (b + c) = (a * b) + (a * c)`\n *   - Right distributivity: `(a + b) * c = (a * c) + (b * c)`\n * - Annihilation: `zero * a = a * zero = zero`\n *\n * **Note:** The `number` type is not fully law abiding members of this class hierarchy due to the potential\n * for arithmetic overflows, and the presence of `NaN` and `Infinity` values. The behaviour is\n * unspecified in these cases.\n *\n * @since 2.0.0\n */\n/**\n * @since 2.0.0\n */\nexport function getFunctionSemiring(S) {\n    return {\n        add: function (f, g) { return function (x) { return S.add(f(x), g(x)); }; },\n        zero: function () { return S.zero; },\n        mul: function (f, g) { return function (x) { return S.mul(f(x), g(x)); }; },\n        one: function () { return S.one; }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/**\n * The `Ring` class is for types that support addition, multiplication, and subtraction operations.\n *\n * Instances must satisfy the following law in addition to the `Semiring` laws:\n *\n * - Additive inverse: `a - a = (zero - a) + a = zero`\n *\n * Adapted from https://github.com/purescript/purescript-prelude/blob/master/src/Data/Ring.purs\n *\n * @since 2.0.0\n */\nimport { getFunctionSemiring } from './Semiring';\n/**\n * @since 2.0.0\n */\nexport function getFunctionRing(ring) {\n    return __assign(__assign({}, getFunctionSemiring(ring)), { sub: function (f, g) { return function (x) { return ring.sub(f(x), g(x)); }; } });\n}\n/**\n * `negate x` can be used as a shorthand for `zero - x`\n *\n * @since 2.0.0\n */\nexport function negate(ring) {\n    return function (a) { return ring.sub(ring.zero, a); };\n}\n/**\n * Given a tuple of `Ring`s returns a `Ring` for the tuple\n *\n * @example\n * import { getTupleRing } from 'fp-ts/lib/Ring'\n * import { fieldNumber } from 'fp-ts/lib/Field'\n *\n * const R = getTupleRing(fieldNumber, fieldNumber, fieldNumber)\n * assert.deepStrictEqual(R.add([1, 2, 3], [4, 5, 6]), [5, 7, 9])\n * assert.deepStrictEqual(R.mul([1, 2, 3], [4, 5, 6]), [4, 10, 18])\n * assert.deepStrictEqual(R.one, [1, 1, 1])\n * assert.deepStrictEqual(R.sub([1, 2, 3], [4, 5, 6]), [-3, -3, -3])\n * assert.deepStrictEqual(R.zero, [0, 0, 0])\n *\n * @since 2.0.0\n */\nexport function getTupleRing() {\n    var rings = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        rings[_i] = arguments[_i];\n    }\n    return {\n        add: function (x, y) { return rings.map(function (R, i) { return R.add(x[i], y[i]); }); },\n        zero: rings.map(function (R) { return R.zero; }),\n        mul: function (x, y) { return rings.map(function (R, i) { return R.mul(x[i], y[i]); }); },\n        one: rings.map(function (R) { return R.one; }),\n        sub: function (x, y) { return rings.map(function (R, i) { return R.sub(x[i], y[i]); }); }\n    };\n}\n","import * as RS from './ReadonlySet';\n/**\n * @since 2.0.0\n */\nexport var getShow = RS.getShow;\n/**\n * @since 2.0.0\n */\nexport var empty = new Set();\n/**\n * @since 2.0.0\n */\n// tslint:disable-next-line: readonly-array\nexport var toArray = RS.toReadonlyArray;\n/**\n * @since 2.0.0\n */\nexport var getEq = RS.getEq;\n/**\n * @since 2.0.0\n */\nexport var some = RS.some;\n/**\n * Projects a Set through a function\n *\n * @since 2.0.0\n */\nexport var map = RS.map;\n/**\n * @since 2.0.0\n */\nexport var every = RS.every;\n/**\n * @since 2.0.0\n */\nexport var chain = RS.chain;\n/**\n * `true` if and only if every element in the first set is an element of the second set\n *\n * @since 2.0.0\n */\nexport var subset = RS.isSubset;\nexport function filter(predicate) {\n    return RS.filter(predicate);\n}\nexport function partition(predicate) {\n    return RS.partition(predicate);\n}\n/**\n * Test if a value is a member of a set\n *\n * @since 2.0.0\n */\nexport var elem = RS.elem;\n/**\n * Form the union of two sets\n *\n * @since 2.0.0\n */\nexport var union = RS.union;\n/**\n * The set of elements which are in both the first and second set\n *\n * @since 2.0.0\n */\nexport var intersection = RS.intersection;\n/**\n * @since 2.0.0\n */\nexport var partitionMap = RS.partitionMap;\n/**\n * Form the set difference (`x` - `y`)\n *\n * @example\n * import { difference } from 'fp-ts/lib/Set'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)(new Set([1, 2]), new Set([1, 3])), new Set([2]))\n *\n *\n * @since 2.0.0\n */\nexport var difference = RS.difference;\n/**\n * @since 2.0.0\n */\nexport var getUnionMonoid = RS.getUnionMonoid;\n/**\n * @since 2.0.0\n */\nexport var getIntersectionSemigroup = RS.getIntersectionSemigroup;\n/**\n * @since 2.0.0\n */\nexport var reduce = RS.reduce;\n/**\n * @since 2.0.0\n */\nexport var foldMap = RS.foldMap;\n/**\n * Create a set with one element\n *\n * @since 2.0.0\n */\nexport var singleton = RS.singleton;\n/**\n * Insert a value into a set\n *\n * @since 2.0.0\n */\nexport var insert = RS.insert;\n/**\n * Delete a value from a set\n *\n * @since 2.0.0\n */\nexport var remove = RS.remove;\n/**\n * Checks an element is a member of a set;\n * If yes, removes the value from the set\n * If no, inserts the value to the set\n *\n * @since 2.5.0\n */\nexport function toggle(E) {\n    var elemE = elem(E);\n    var removeE = remove(E);\n    var insertE = insert(E);\n    return function (a) { return function (set) { return (elemE(a, set) ? removeE : insertE)(a)(set); }; };\n}\n/**\n * Create a set from an array\n *\n * @since 2.0.0\n */\n// tslint:disable-next-line: readonly-array\nexport var fromArray = RS.fromArray;\n/**\n * @since 2.0.0\n */\nexport var compact = RS.compact;\n/**\n * @since 2.0.0\n */\nexport var separate = RS.separate;\n/**\n * @since 2.0.0\n */\nexport var filterMap = RS.filterMap;\n","/**\n * @since 2.0.0\n */\nexport var showString = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport var showNumber = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport var showBoolean = {\n    show: function (a) { return JSON.stringify(a); }\n};\n/**\n * @since 2.0.0\n */\nexport function getStructShow(shows) {\n    return {\n        show: function (s) {\n            return \"{ \" + Object.keys(shows)\n                .map(function (k) { return k + \": \" + shows[k].show(s[k]); })\n                .join(', ') + \" }\";\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getTupleShow() {\n    var shows = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        shows[_i] = arguments[_i];\n    }\n    return {\n        show: function (t) { return \"[\" + t.map(function (a, i) { return shows[i].show(a); }).join(', ') + \"]\"; }\n    };\n}\n","export function getStateM(M) {\n    return {\n        map: function (fa, f) { return function (s) { return M.map(fa(s), function (_a) {\n            var a = _a[0], s1 = _a[1];\n            return [f(a), s1];\n        }); }; },\n        of: function (a) { return function (s) { return M.of([a, s]); }; },\n        ap: function (fab, fa) { return function (s) { return M.chain(fab(s), function (_a) {\n            var f = _a[0], s = _a[1];\n            return M.map(fa(s), function (_a) {\n                var a = _a[0], s = _a[1];\n                return [f(a), s];\n            });\n        }); }; },\n        chain: function (fa, f) { return function (s) { return M.chain(fa(s), function (_a) {\n            var a = _a[0], s1 = _a[1];\n            return f(a)(s1);\n        }); }; },\n        get: function () { return function (s) { return M.of([s, s]); }; },\n        put: function (s) { return function () { return M.of([undefined, s]); }; },\n        modify: function (f) { return function (s) { return M.of([undefined, f(s)]); }; },\n        gets: function (f) { return function (s) { return M.of([f(s), s]); }; },\n        fromState: function (sa) { return function (s) { return M.of(sa(s)); }; },\n        fromM: function (ma) { return function (s) { return M.map(ma, function (a) { return [a, s]; }); }; },\n        evalState: function (ma, s) { return M.map(ma(s), function (_a) {\n            var a = _a[0];\n            return a;\n        }); },\n        execState: function (ma, s) { return M.map(ma(s), function (_a) {\n            var _ = _a[0], s = _a[1];\n            return s;\n        }); }\n    };\n}\n","import { getStateM } from './StateT';\nimport { identity } from './Identity';\nimport { pipeable } from './pipeable';\nvar T = getStateM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'State';\n/* tslint:enable:readonly-array */\n/**\n * Run a computation in the `State` monad, discarding the final state\n *\n * @since 2.0.0\n */\nexport var evalState = T.evalState;\n/**\n * Run a computation in the `State` monad discarding the result\n *\n * @since 2.0.0\n */\nexport var execState = T.execState;\n/**\n * Get the current state\n *\n * @since 2.0.0\n */\nexport var get = T.get;\n/**\n * Set the state\n *\n * @since 2.0.0\n */\nexport var put = T.put;\n/**\n * Modify the state by applying a function to the current state\n *\n * @since 2.0.0\n */\nexport var modify = T.modify;\n/**\n * Get a value which depends on the current state\n *\n * @since 2.0.0\n */\nexport var gets = T.gets;\n/**\n * @since 2.0.0\n */\nexport var of = T.of;\n/**\n * @since 2.0.0\n */\nexport var state = {\n    URI: URI,\n    map: T.map,\n    of: of,\n    ap: T.ap,\n    chain: T.chain\n};\nvar _a = pipeable(state), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport * as RTE from './ReaderTaskEither';\nimport { getStateM } from './StateT';\nvar T = getStateM(RTE.readerTaskEither);\n/**\n * @since 2.0.0\n */\nexport var URI = 'StateReaderTaskEither';\n/* tslint:enable:readonly-array */\n/* tslint:disable:readonly-array */\n/**\n * @since 2.0.0\n */\nexport function run(ma, s, r) {\n    return ma(s)(r)();\n}\n/* tslint:enable:readonly-array */\n/**\n * Run a computation in the `StateReaderTaskEither` monad, discarding the final state\n *\n * @since 2.0.0\n */\nexport var evalState = T.evalState;\n/**\n * Run a computation in the `StateReaderTaskEither` monad discarding the result\n *\n * @since 2.0.0\n */\nexport var execState = T.execState;\n/**\n * @since 2.0.0\n */\nexport function left(e) {\n    return fromReaderTaskEither(RTE.left(e));\n}\n/**\n * @since 2.0.0\n */\nexport var right = T.of;\n/**\n * @since 2.0.0\n */\nexport function rightTask(ma) {\n    return fromReaderTaskEither(RTE.rightTask(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftTask(me) {\n    return fromReaderTaskEither(RTE.leftTask(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fromTaskEither(ma) {\n    return fromReaderTaskEither(RTE.fromTaskEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function rightReader(ma) {\n    return fromReaderTaskEither(RTE.rightReader(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftReader(me) {\n    return fromReaderTaskEither(RTE.leftReader(me));\n}\n/**\n * @since 2.0.0\n */\nexport function fromIOEither(ma) {\n    return fromReaderTaskEither(RTE.fromIOEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function fromReaderEither(ma) {\n    return fromReaderTaskEither(RTE.fromReaderEither(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function rightIO(ma) {\n    return fromReaderTaskEither(RTE.rightIO(ma));\n}\n/**\n * @since 2.0.0\n */\nexport function leftIO(me) {\n    return fromReaderTaskEither(RTE.leftIO(me));\n}\n/**\n * @since 2.0.0\n */\nexport var rightState = T.fromState;\n/**\n * @since 2.0.0\n */\nexport function leftState(me) {\n    return function (s) { return RTE.left(me(s)[0]); };\n}\n/**\n * @since 2.0.0\n */\nexport var fromReaderTaskEither = T.fromM;\n/**\n * Get the current state\n *\n * @since 2.0.0\n */\nexport var get = T.get;\n/**\n * Set the state\n *\n * @since 2.0.0\n */\nexport var put = T.put;\n/**\n * Modify the state by applying a function to the current state\n *\n * @since 2.0.0\n */\nexport var modify = T.modify;\n/**\n * Get a value which depends on the current state\n *\n * @since 2.0.0\n */\nexport var gets = T.gets;\n/**\n * @since 2.4.0\n */\nexport function fromEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainEitherK(f) {\n    return chain(fromEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromIOEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromIOEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainIOEitherK(f) {\n    return chain(fromIOEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainTaskEitherK(f) {\n    return chain(fromTaskEitherK(f));\n}\n/**\n * @since 2.4.0\n */\nexport function fromReaderTaskEitherK(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return fromReaderTaskEither(f.apply(void 0, a));\n    };\n}\n/**\n * @since 2.4.0\n */\nexport function chainReaderTaskEitherK(f) {\n    return chain(fromReaderTaskEitherK(f));\n}\n/**\n * @since 2.0.0\n */\nexport var stateReaderTaskEither = {\n    URI: URI,\n    map: T.map,\n    of: right,\n    ap: T.ap,\n    chain: T.chain,\n    bimap: function (fea, f, g) { return function (s) { return RTE.readerTaskEither.bimap(fea(s), f, function (_a) {\n        var a = _a[0], s = _a[1];\n        return [g(a), s];\n    }); }; },\n    mapLeft: function (fea, f) { return function (s) { return RTE.readerTaskEither.mapLeft(fea(s), f); }; },\n    alt: function (fx, fy) { return function (s) { return RTE.readerTaskEither.alt(fx(s), function () { return fy()(s); }); }; },\n    fromIO: rightIO,\n    fromTask: rightTask,\n    throwError: left\n};\n/**\n * Like `stateReaderTaskEither` but `ap` is sequential\n * @since 2.0.0\n */\nexport var stateReaderTaskEitherSeq = __assign(__assign({}, stateReaderTaskEither), { ap: function (mab, ma) { return stateReaderTaskEither.chain(mab, function (f) { return stateReaderTaskEither.map(ma, f); }); } });\nvar _a = pipeable(stateReaderTaskEither), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, flatten = _a.flatten, map = _a.map, fromEither = _a.fromEither, fromOption = _a.fromOption, filterOrElse = _a.filterOrElse, fromPredicate = _a.fromPredicate;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nfromEither, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.4.4\n */\nfromPredicate, \n/**\n * @since 2.4.4\n */\nfilterOrElse };\n","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Store';\n/**\n * Reposition the focus at the specified position\n *\n * @since 2.0.0\n */\nexport function seek(s) {\n    return function (wa) { return ({ peek: wa.peek, pos: s }); };\n}\n/**\n * Reposition the focus at the specified position, which depends on the current position\n *\n * @since 2.0.0\n */\nexport function seeks(f) {\n    return function (wa) { return ({ peek: wa.peek, pos: f(wa.pos) }); };\n}\n/**\n * Extract a value from a position which depends on the current position\n *\n * @since 2.0.0\n */\nexport function peeks(f) {\n    return function (wa) { return wa.peek(f(wa.pos)); };\n}\nexport function experiment(F) {\n    return function (f) { return function (wa) { return F.map(f(wa.pos), function (s) { return wa.peek(s); }); }; };\n}\n/**\n * @since 2.0.0\n */\nexport var store = {\n    URI: URI,\n    map: function (wa, f) { return ({\n        peek: function (s) { return f(wa.peek(s)); },\n        pos: wa.pos\n    }); },\n    extract: function (wa) { return wa.peek(wa.pos); },\n    extend: function (wa, f) { return ({\n        peek: function (s) { return f({ peek: wa.peek, pos: s }); },\n        pos: wa.pos\n    }); }\n};\nvar _a = pipeable(store), duplicate = _a.duplicate, extend = _a.extend, map = _a.map;\nexport { \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nmap };\n","import { identity } from './function';\nexport function splitStrong(F) {\n    return function (pab, pcd) { return F.compose(F.first(pab), F.second(pcd)); };\n}\nexport function fanout(F) {\n    var splitStrongF = splitStrong(F);\n    return function (pab, pac) {\n        var split = F.promap(F.id(), identity, function (a) { return [a, a]; });\n        return F.compose(splitStrongF(pab, pac), split);\n    };\n}\n","import { fromEquals } from './Eq';\nimport { isNone, none, some } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'These';\n/**\n * @since 2.0.0\n */\nexport function left(left) {\n    return { _tag: 'Left', left: left };\n}\n/**\n * @since 2.0.0\n */\nexport function right(right) {\n    return { _tag: 'Right', right: right };\n}\n/**\n * @since 2.0.0\n */\nexport function both(left, right) {\n    return { _tag: 'Both', left: left, right: right };\n}\n/**\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight, onBoth) {\n    return function (fa) {\n        switch (fa._tag) {\n            case 'Left':\n                return onLeft(fa.left);\n            case 'Right':\n                return onRight(fa.right);\n            case 'Both':\n                return onBoth(fa.left, fa.right);\n        }\n    };\n}\n/**\n * @since 2.4.0\n */\nexport var swap = fold(right, left, function (e, a) { return both(a, e); });\n/**\n * @since 2.0.0\n */\nexport function getShow(SE, SA) {\n    return {\n        show: fold(function (l) { return \"left(\" + SE.show(l) + \")\"; }, function (a) { return \"right(\" + SA.show(a) + \")\"; }, function (l, a) { return \"both(\" + SE.show(l) + \", \" + SA.show(a) + \")\"; })\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(EE, EA) {\n    return fromEquals(function (x, y) {\n        return isLeft(x)\n            ? isLeft(y) && EE.equals(x.left, y.left)\n            : isRight(x)\n                ? isRight(y) && EA.equals(x.right, y.right)\n                : isBoth(y) && EE.equals(x.left, y.left) && EA.equals(x.right, y.right);\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getSemigroup(SE, SA) {\n    return {\n        concat: function (x, y) {\n            return isLeft(x)\n                ? isLeft(y)\n                    ? left(SE.concat(x.left, y.left))\n                    : isRight(y)\n                        ? both(x.left, y.right)\n                        : both(SE.concat(x.left, y.left), y.right)\n                : isRight(x)\n                    ? isLeft(y)\n                        ? both(y.left, x.right)\n                        : isRight(y)\n                            ? right(SA.concat(x.right, y.right))\n                            : both(y.left, SA.concat(x.right, y.right))\n                    : isLeft(y)\n                        ? both(SE.concat(x.left, y.left), x.right)\n                        : isRight(y)\n                            ? both(x.left, SA.concat(x.right, y.right))\n                            : both(SE.concat(x.left, y.left), SA.concat(x.right, y.right));\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonad(S) {\n    var chain = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        if (isRight(ma)) {\n            return f(ma.right);\n        }\n        var fb = f(ma.right);\n        return isLeft(fb)\n            ? left(S.concat(ma.left, fb.left))\n            : isRight(fb)\n                ? both(ma.left, fb.right)\n                : both(S.concat(ma.left, fb.left), fb.right);\n    };\n    return {\n        URI: URI,\n        _E: undefined,\n        map: these.map,\n        of: right,\n        ap: function (mab, ma) { return chain(mab, function (f) { return these.map(ma, f); }); },\n        chain: chain,\n        throwError: left\n    };\n}\n/* tslint:disable:readonly-array */\n/**\n * @example\n * import { toTuple, left, right, both } from 'fp-ts/lib/These'\n *\n * assert.deepStrictEqual(toTuple('a', 1)(left('b')), ['b', 1])\n * assert.deepStrictEqual(toTuple('a', 1)(right(2)), ['a', 2])\n * assert.deepStrictEqual(toTuple('a', 1)(both('b', 2)), ['b', 2])\n *\n * @since 2.0.0\n */\nexport function toTuple(e, a) {\n    return function (fa) { return (isLeft(fa) ? [fa.left, a] : isRight(fa) ? [e, fa.right] : [fa.left, fa.right]); };\n}\n/* tslint:enable:readonly-array */\n/**\n * Returns an `E` value if possible\n *\n * @example\n * import { getLeft, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getLeft(left('a')), some('a'))\n * assert.deepStrictEqual(getLeft(right(1)), none)\n * assert.deepStrictEqual(getLeft(both('a', 1)), some('a'))\n *\n * @since 2.0.0\n */\nexport function getLeft(fa) {\n    return isLeft(fa) ? some(fa.left) : isRight(fa) ? none : some(fa.left);\n}\n/**\n * Returns an `A` value if possible\n *\n * @example\n * import { getRight, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getRight(left('a')), none)\n * assert.deepStrictEqual(getRight(right(1)), some(1))\n * assert.deepStrictEqual(getRight(both('a', 1)), some(1))\n *\n * @since 2.0.0\n */\nexport function getRight(fa) {\n    return isLeft(fa) ? none : isRight(fa) ? some(fa.right) : some(fa.right);\n}\n/**\n * Returns `true` if the these is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isLeft(fa) {\n    return fa._tag === 'Left';\n}\n/**\n * Returns `true` if the these is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isRight(fa) {\n    return fa._tag === 'Right';\n}\n/**\n * Returns `true` if the these is an instance of `Both`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isBoth(fa) {\n    return fa._tag === 'Both';\n}\n/**\n * @example\n * import { leftOrBoth, left, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(leftOrBoth('a')(none), left('a'))\n * assert.deepStrictEqual(leftOrBoth('a')(some(1)), both('a', 1))\n *\n * @since 2.0.0\n */\nexport function leftOrBoth(e) {\n    return function (ma) { return (isNone(ma) ? left(e) : both(e, ma.value)); };\n}\n/**\n * @example\n * import { rightOrBoth, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(rightOrBoth(1)(none), right(1))\n * assert.deepStrictEqual(rightOrBoth(1)(some('a')), both('a', 1))\n *\n * @since 2.0.0\n */\nexport function rightOrBoth(a) {\n    return function (me) { return (isNone(me) ? right(a) : both(me.value, a)); };\n}\n/**\n * Returns the `E` value if and only if the value is constructed with `Left`\n *\n * @example\n * import { getLeftOnly, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getLeftOnly(left('a')), some('a'))\n * assert.deepStrictEqual(getLeftOnly(right(1)), none)\n * assert.deepStrictEqual(getLeftOnly(both('a', 1)), none)\n *\n * @since 2.0.0\n */\nexport function getLeftOnly(fa) {\n    return isLeft(fa) ? some(fa.left) : none;\n}\n/**\n * Returns the `A` value if and only if the value is constructed with `Right`\n *\n * @example\n * import { getRightOnly, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(getRightOnly(left('a')), none)\n * assert.deepStrictEqual(getRightOnly(right(1)), some(1))\n * assert.deepStrictEqual(getRightOnly(both('a', 1)), none)\n *\n *\n * @since 2.0.0\n */\nexport function getRightOnly(fa) {\n    return isRight(fa) ? some(fa.right) : none;\n}\n/**\n * Takes a pair of `Option`s and attempts to create a `These` from them\n *\n * @example\n * import { fromOptions, left, right, both } from 'fp-ts/lib/These'\n * import { none, some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromOptions(none, none), none)\n * assert.deepStrictEqual(fromOptions(some('a'), none), some(left('a')))\n * assert.deepStrictEqual(fromOptions(none, some(1)), some(right(1)))\n * assert.deepStrictEqual(fromOptions(some('a'), some(1)), some(both('a', 1)))\n *\n * @since 2.0.0\n */\nexport function fromOptions(fe, fa) {\n    return isNone(fe)\n        ? isNone(fa)\n            ? none\n            : some(right(fa.value))\n        : isNone(fa)\n            ? some(left(fe.value))\n            : some(both(fe.value, fa.value));\n}\n/**\n * @since 2.0.0\n */\nexport var these = {\n    URI: URI,\n    map: function (fa, f) { return (isLeft(fa) ? fa : isRight(fa) ? right(f(fa.right)) : both(fa.left, f(fa.right))); },\n    bimap: function (fea, f, g) {\n        return isLeft(fea) ? left(f(fea.left)) : isRight(fea) ? right(g(fea.right)) : both(f(fea.left), g(fea.right));\n    },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : isBoth(fea) ? both(f(fea.left), fea.right) : fea); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : isRight(fa) ? f(b, fa.right) : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : isRight(fa) ? f(fa.right) : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : isRight(fa) ? f(fa.right, b) : f(fa.right, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isLeft(ta) ? F.of(ta) : isRight(ta) ? F.map(f(ta.right), right) : F.map(f(ta.right), function (b) { return both(ta.left, b); });\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isLeft(ta) ? F.of(ta) : isRight(ta) ? F.map(ta.right, right) : F.map(ta.right, function (b) { return both(ta.left, b); });\n    }; }\n};\nvar _a = pipeable(these), bimap = _a.bimap, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","import { bimap, both, fold, left, map, mapLeft, right, swap, toTuple } from './These';\nexport function getTheseM(M) {\n    function mapT(fa, f) {\n        return M.map(fa, map(f));\n    }\n    function of(a) {\n        return M.of(right(a));\n    }\n    function leftT(e) {\n        return M.of(left(e));\n    }\n    return {\n        map: mapT,\n        bimap: function (fa, f, g) { return M.map(fa, bimap(f, g)); },\n        mapLeft: function (fa, f) { return M.map(fa, mapLeft(f)); },\n        fold: function (fa, onLeft, onRight, onBoth) { return M.chain(fa, fold(onLeft, onRight, onBoth)); },\n        swap: function (fa) { return M.map(fa, swap); },\n        rightM: function (ma) { return M.map(ma, right); },\n        leftM: function (me) { return M.map(me, left); },\n        left: leftT,\n        right: of,\n        both: function (e, a) { return M.of(both(e, a)); },\n        toTuple: function (fa, e, a) { return M.map(fa, toTuple(e, a)); },\n        getMonad: function (E) {\n            function chain(fa, f) {\n                return M.chain(fa, fold(leftT, f, function (e1, a) {\n                    return M.map(f(a), fold(function (e2) { return left(E.concat(e1, e2)); }, right, function (e2, b) { return both(E.concat(e1, e2), b); }));\n                }));\n            }\n            return {\n                _E: undefined,\n                map: mapT,\n                of: of,\n                ap: function (mab, ma) {\n                    return chain(mab, function (f) { return mapT(ma, f); });\n                },\n                chain: chain\n            };\n        }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\nimport { getSemigroup as getTaskSemigroup, task } from './Task';\nimport * as TH from './These';\nimport { getTheseM } from './TheseT';\nvar T = getTheseM(task);\n/**\n * @since 2.4.0\n */\nexport var URI = 'TaskThese';\n/**\n * @since 2.4.0\n */\nexport var left = T.left;\n/**\n * @since 2.4.0\n */\nexport var right = T.right;\n/**\n * @since 2.4.0\n */\nexport var both = T.both;\n/**\n * @since 2.4.0\n */\nexport function rightIO(ma) {\n    return rightTask(task.fromIO(ma));\n}\n/**\n * @since 2.4.0\n */\nexport function leftIO(me) {\n    return leftTask(task.fromIO(me));\n}\n/**\n * @since 2.4.0\n */\nexport var leftTask = T.leftM;\n/**\n * @since 2.4.0\n */\nexport var rightTask = T.rightM;\n/**\n * @since 2.4.0\n */\nexport var fromIOEither = task.fromIO;\n/**\n * @since 2.4.0\n */\nexport function fold(onLeft, onRight, onBoth) {\n    return function (fa) { return T.fold(fa, onLeft, onRight, onBoth); };\n}\n/**\n * @since 2.4.0\n */\nexport var swap = T.swap;\n/**\n * @since 2.4.0\n */\nexport function getSemigroup(SE, SA) {\n    return getTaskSemigroup(TH.getSemigroup(SE, SA));\n}\n/**\n * @since 2.4.0\n */\nexport function getMonad(S) {\n    return __assign(__assign({ URI: URI }, T.getMonad(S)), { fromIO: rightIO, fromTask: rightTask });\n}\n/* tslint:disable:readonly-array */\n/**\n * @since 2.4.0\n */\nexport function toTuple(e, a) {\n    return function (fa) { return T.toTuple(fa, e, a); };\n}\n/* tslint:enable:readonly-array */\n/**\n * @since 2.4.0\n */\nexport var taskThese = {\n    URI: URI,\n    map: T.map,\n    bimap: T.bimap,\n    mapLeft: T.mapLeft\n};\nvar _a = pipeable(taskThese), bimap = _a.bimap, map = _a.map, mapLeft = _a.mapLeft;\nexport { \n/**\n * @since 2.4.0\n */\nbimap, \n/**\n * @since 2.4.0\n */\nmap, \n/**\n * @since 2.4.0\n */\nmapLeft };\n","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Traced';\n/**\n * Extracts a value at a relative position which depends on the current value.\n *\n * @since 2.0.0\n */\nexport function tracks(M, f) {\n    return function (wa) { return wa(f(wa(M.empty))); };\n}\n// tslint:disable:readonly-array\n/**\n * Get the current position\n *\n * @since 2.0.0\n */\nexport function listen(wa) {\n    return function (e) { return [wa(e), e]; };\n}\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Get a value which depends on the current position\n *\n * @since 2.0.0\n */\nexport function listens(f) {\n    return function (wa) { return function (e) { return [wa(e), f(e)]; }; };\n}\n// tslint:enable:readonly-array\n/**\n * Apply a function to the current position\n *\n * @since 2.0.0\n */\nexport function censor(f) {\n    return function (wa) { return function (e) { return wa(f(e)); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function getComonad(monoid) {\n    function extend(wa, f) {\n        return function (p1) { return f(function (p2) { return wa(monoid.concat(p1, p2)); }); };\n    }\n    function extract(wa) {\n        return wa(monoid.empty);\n    }\n    return {\n        URI: URI,\n        _E: undefined,\n        map: traced.map,\n        extend: extend,\n        extract: extract\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var traced = {\n    URI: URI,\n    map: function (wa, f) { return function (p) { return f(wa(p)); }; }\n};\nvar map = pipeable(traced).map;\nexport { \n/**\n * @since 2.0.0\n */\nmap };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getFoldableComposition } from './Foldable';\nimport { getFunctorComposition } from './Functor';\nexport function getTraversableComposition(F, G) {\n    return __assign(__assign(__assign({}, getFunctorComposition(F, G)), getFoldableComposition(F, G)), { traverse: function (H) {\n            var traverseF = F.traverse(H);\n            var traverseG = G.traverse(H);\n            return function (fga, f) { return traverseF(fga, function (ga) { return traverseG(ga, f); }); };\n        }, sequence: function (H) {\n            var sequenceF = F.sequence(H);\n            var sequenceG = G.sequence(H);\n            return function (fgha) { return sequenceF(F.map(fgha, sequenceG)); };\n        } });\n}\n","import { pipeable } from './pipeable';\nimport * as RT from './ReadonlyTuple';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Tuple';\n/**\n * @since 2.0.0\n */\nexport var fst = RT.fst;\n/**\n * @since 2.0.0\n */\nexport var snd = RT.snd;\n/**\n * @since 2.0.0\n */\nexport var swap = RT.swap;\n/**\n * @since 2.0.0\n */\nexport var getApply = RT.getApply;\n/**\n * @since 2.0.0\n */\nexport var getApplicative = RT.getApplicative;\n/**\n * @since 2.0.0\n */\nexport var getChain = RT.getChain;\n/**\n * @since 2.0.0\n */\nexport var getMonad = RT.getMonad;\n/**\n * @since 2.0.0\n */\nexport var getChainRec = RT.getChainRec;\n/**\n * @since 2.0.0\n */\nexport var tuple = {\n    URI: URI,\n    compose: RT.readonlyTuple.compose,\n    map: RT.readonlyTuple.map,\n    bimap: RT.readonlyTuple.bimap,\n    mapLeft: RT.readonlyTuple.mapLeft,\n    extract: fst,\n    extend: RT.readonlyTuple.extend,\n    reduce: RT.readonlyTuple.reduce,\n    foldMap: RT.readonlyTuple.foldMap,\n    reduceRight: RT.readonlyTuple.reduceRight,\n    traverse: RT.readonlyTuple.traverse,\n    sequence: RT.readonlyTuple.sequence\n};\nvar _a = pipeable(tuple), bimap = _a.bimap, compose = _a.compose, duplicate = _a.duplicate, extend = _a.extend, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\ncompose, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","export function getWriterM(M) {\n    var map = function (fa, f) { return function () {\n        return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [f(a), w];\n        });\n    }; };\n    return {\n        map: map,\n        evalWriter: function (fa) { return M.map(fa(), function (_a) {\n            var a = _a[0];\n            return a;\n        }); },\n        execWriter: function (fa) { return M.map(fa(), function (_a) {\n            var _ = _a[0], w = _a[1];\n            return w;\n        }); },\n        tell: function (w) { return function () { return M.of([undefined, w]); }; },\n        listen: function (fa) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [[a, w], w];\n        }); }; },\n        pass: function (fa) { return function () { return M.map(fa(), function (_a) {\n            var _b = _a[0], a = _b[0], f = _b[1], w = _a[1];\n            return [a, f(w)];\n        }); }; },\n        listens: function (fa, f) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [[a, f(w)], w];\n        }); }; },\n        censor: function (fa, f) { return function () { return M.map(fa(), function (_a) {\n            var a = _a[0], w = _a[1];\n            return [a, f(w)];\n        }); }; },\n        getMonad: function (W) {\n            return {\n                _E: undefined,\n                map: map,\n                of: function (a) { return function () { return M.of([a, W.empty]); }; },\n                ap: function (mab, ma) { return function () { return M.chain(mab(), function (_a) {\n                    var f = _a[0], w1 = _a[1];\n                    return M.map(ma(), function (_a) {\n                        var a = _a[0], w2 = _a[1];\n                        return [f(a), W.concat(w1, w2)];\n                    });\n                }); }; },\n                chain: function (ma, f) { return function () { return M.chain(ma(), function (_a) {\n                    var a = _a[0], w1 = _a[1];\n                    return M.map(f(a)(), function (_a) {\n                        var b = _a[0], w2 = _a[1];\n                        return [b, W.concat(w1, w2)];\n                    });\n                }); }; }\n            };\n        }\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { identity } from './Identity';\nimport { pipeable } from './pipeable';\nimport { getWriterM } from './WriterT';\nvar T = getWriterM(identity);\n/**\n * @since 2.0.0\n */\nexport var URI = 'Writer';\n// tslint:enable:readonly-array\n/**\n * @since 2.0.0\n */\nexport var evalWriter = T.evalWriter;\n/**\n * @since 2.0.0\n */\nexport var execWriter = T.execWriter;\n/**\n * Appends a value to the accumulator\n *\n * @since 2.0.0\n */\nexport var tell = T.tell;\n// tslint:disable:readonly-array\n/**\n * Modifies the result to include the changes to the accumulator\n *\n * @since 2.0.0\n */\nexport var listen = T.listen;\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Applies the returned function to the accumulator\n *\n * @since 2.0.0\n */\nexport var pass = T.pass;\n// tslint:enable:readonly-array\n// tslint:disable:readonly-array\n/**\n * Projects a value from modifications made to the accumulator during an action\n *\n * @since 2.0.0\n */\nexport function listens(f) {\n    return function (fa) { return T.listens(fa, f); };\n}\n// tslint:enable:readonly-array\n/**\n * Modify the final accumulator value by applying a function\n *\n * @since 2.0.0\n */\nexport function censor(f) {\n    return function (fa) { return T.censor(fa, f); };\n}\n/**\n * @since 2.0.0\n */\nexport function getMonad(M) {\n    return __assign({ URI: URI }, T.getMonad(M));\n}\n/**\n * @since 2.0.0\n */\nexport var writer = {\n    URI: URI,\n    map: T.map\n};\nvar map = pipeable(writer).map;\nexport { \n/**\n * @since 2.0.0\n */\nmap };\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport function done(v) {\n    return {\n        _tag: \"Done\",\n        value: v\n    };\n}\nexport function raise(e) {\n    return {\n        _tag: \"Raise\",\n        error: e\n    };\n}\nexport function abort(a) {\n    return {\n        _tag: \"Abort\",\n        abortedWith: a\n    };\n}\nexport const interrupt = {\n    _tag: \"Interrupt\"\n};\nexport const interruptWithError = (err) => err\n    ? {\n        _tag: \"Interrupt\",\n        error: err\n    }\n    : {\n        _tag: \"Interrupt\"\n    };\nexport const interruptWithErrorAndOthers = (err, others) => others\n    ? {\n        _tag: \"Interrupt\",\n        error: err,\n        others\n    }\n    : {\n        _tag: \"Interrupt\",\n        error: err\n    };\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/* istanbul ignore file */\nexport class LinkedListNode {\n    constructor(value, next = null) {\n        this.value = value;\n        this.next = next;\n    }\n}\nexport class LinkedList {\n    constructor(head = null, tail = null) {\n        this.head = head;\n        this.tail = tail;\n        this.head = null;\n        this.tail = null;\n    }\n    empty() {\n        return this.head === null;\n    }\n    prepend(value) {\n        const newNode = new LinkedListNode(value, this.head);\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    }\n    append(value) {\n        const newNode = new LinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        this.tail = newNode;\n        return this;\n    }\n    deleteHead() {\n        if (!this.head) {\n            return null;\n        }\n        const deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    }\n}\nexport class DoublyLinkedListNode {\n    constructor(value, next = null, previous = null) {\n        this.value = value;\n        this.next = next;\n        this.previous = previous;\n    }\n}\nexport class DoublyLinkedList {\n    constructor(head = null, tail = null) {\n        this.head = head;\n        this.tail = tail;\n    }\n    prepend(value) {\n        const newNode = new DoublyLinkedListNode(value, this.head);\n        if (this.head) {\n            this.head.previous = newNode;\n        }\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    }\n    append(value) {\n        const newNode = new DoublyLinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        newNode.previous = this.tail;\n        this.tail = newNode;\n        return this;\n    }\n    deleteTail() {\n        if (!this.tail) {\n            return null;\n        }\n        if (this.head === this.tail) {\n            const deletedTail = this.tail;\n            this.head = null;\n            this.tail = null;\n            return deletedTail;\n        }\n        const deletedTail = this.tail;\n        this.tail = this.tail.previous;\n        this.tail.next = null;\n        return deletedTail;\n    }\n    deleteHead() {\n        if (!this.head) {\n            return null;\n        }\n        const deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n            this.head.previous = null;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    }\n    empty() {\n        return this.head === null;\n    }\n}\n","export var EffectTag;\n(function (EffectTag) {\n    EffectTag[EffectTag[\"Pure\"] = 0] = \"Pure\";\n    EffectTag[EffectTag[\"PureOption\"] = 1] = \"PureOption\";\n    EffectTag[EffectTag[\"PureEither\"] = 2] = \"PureEither\";\n    EffectTag[EffectTag[\"Raised\"] = 3] = \"Raised\";\n    EffectTag[EffectTag[\"Completed\"] = 4] = \"Completed\";\n    EffectTag[EffectTag[\"Suspended\"] = 5] = \"Suspended\";\n    EffectTag[EffectTag[\"Async\"] = 6] = \"Async\";\n    EffectTag[EffectTag[\"Chain\"] = 7] = \"Chain\";\n    EffectTag[EffectTag[\"Collapse\"] = 8] = \"Collapse\";\n    EffectTag[EffectTag[\"InterruptibleRegion\"] = 9] = \"InterruptibleRegion\";\n    EffectTag[EffectTag[\"AccessInterruptible\"] = 10] = \"AccessInterruptible\";\n    EffectTag[EffectTag[\"AccessRuntime\"] = 11] = \"AccessRuntime\";\n    EffectTag[EffectTag[\"AccessEnv\"] = 12] = \"AccessEnv\";\n    EffectTag[EffectTag[\"ProvideEnv\"] = 13] = \"ProvideEnv\";\n    EffectTag[EffectTag[\"Map\"] = 14] = \"Map\";\n})(EffectTag || (EffectTag = {}));\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { LinkedList } from \"../listc\";\nclass RuntimeImpl {\n    constructor() {\n        this.running = false;\n        this.array = new LinkedList();\n        this.isRunning = () => this.running;\n    }\n    run() {\n        var _a, _b;\n        this.running = true;\n        let next = (_a = this.array.deleteHead()) === null || _a === void 0 ? void 0 : _a.value;\n        while (next) {\n            next[0](next[1]);\n            next = (_b = this.array.deleteHead()) === null || _b === void 0 ? void 0 : _b.value;\n        }\n        this.running = false;\n    }\n    dispatch(thunk, a) {\n        this.array.append([thunk, a]);\n        if (!this.running) {\n            this.run();\n        }\n    }\n    dispatchLater(thunk, a, ms) {\n        const handle = setTimeout(() => this.dispatch(thunk, a), ms);\n        return (cb) => {\n            clearTimeout(handle);\n            cb();\n        };\n    }\n}\nexport const defaultRuntime = new RuntimeImpl();\n","import { option as O } from \"fp-ts\";\nfunction singleNode(a) {\n    const l = { a, prev: null, next: null };\n    l.prev = l;\n    l.next = l;\n    return l;\n}\n/**\n * Push an Elem at the end of the List\n */\nexport function push(list, a) {\n    if (isNotEmpty(list)) {\n        const last = list.last;\n        const first = list.first;\n        const newLast = { a, next: first, prev: last };\n        last.next = newLast;\n        first.prev = newLast;\n        list.last = newLast;\n    }\n    else {\n        const l = singleNode(a);\n        list.first = l;\n        list.last = l;\n    }\n}\n/**\n * Creates an empty List\n */\nexport function empty() {\n    return { first: null, last: null };\n}\n/**\n * Indicates if a List is a singleton\n */\nfunction isSingleton(list) {\n    return list.first === list.last && isNotEmpty(list);\n}\n/**\n * Indicates if a List is not empty\n */\nexport function isNotEmpty(list) {\n    return list.first !== null;\n}\n/**\n * Pops the first element of a List (A | null)\n */\nexport function popUnsafe(list) {\n    const first = list.first;\n    if (first) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            first.next.prev = first.prev;\n            first.prev.next = first.next;\n            list.first = first.next;\n        }\n        return first.a;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Pops the first element of a List (A | null)\n */\nexport function popLastUnsafe(list) {\n    const last = list.last;\n    if (last) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            last.prev.next = last.next;\n            last.next.prev = last.prev;\n            list.last = last.prev;\n        }\n        return last.a;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Pops the first element of a List Option<A>\n */\nexport function pop(list) {\n    return O.fromNullable(popUnsafe(list));\n}\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nexport function headUnsafe(list) {\n    return list.first !== null ? list.first.a : null;\n}\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nexport function head(list) {\n    return O.fromNullable(headUnsafe(list));\n}\n/**\n * Gets the last element of the List as A |null (does not change the List)\n */\nexport function lastUnsafe(list) {\n    return list.last !== null ? list.last.a : null;\n}\n/**\n * Gets the last element of the List as Option<A> (does not change the List)\n */\nexport function last(list) {\n    return O.fromNullable(lastUnsafe(list));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nimport { option as O, either as E } from \"fp-ts\";\nimport { done, interrupt as interruptExit, raise } from \"./original/exit\";\nimport { defaultRuntime } from \"./original/runtime\";\nimport * as T from \"./effect\";\nimport * as L from \"./list\";\nclass Frame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n}\nclass FoldFrame {\n    constructor(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n}\nclass MapFrame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n}\nconst makeInterruptFrame = (interruptStatus, prev) => ({\n    prev,\n    _tag: \"interrupt-frame\",\n    apply(u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion() {\n        interruptStatus.pop();\n    }\n});\nexport class DriverSyncImpl {\n    constructor(runtime = defaultRuntime) {\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = L.empty();\n    }\n    set(a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (const f of this.listeners) {\n                f(a);\n            }\n        }\n    }\n    isComplete() {\n        return this.completed !== null;\n    }\n    complete(a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    isInterruptible() {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    }\n    handle(e) {\n        var _a, _b;\n        let frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    }\n    dispatchResumeInterrupt() {\n        const go = this.handle(interruptExit);\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    }\n    resumeInterrupt() {\n        this.dispatchResumeInterrupt();\n    }\n    next(value) {\n        var _a;\n        const frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(done(value));\n        return;\n    }\n    foldResume(status) {\n        E.fold((cause) => {\n            const go = this.handle(raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        }, (value) => {\n            const go = this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        })(status);\n    }\n    resume(status) {\n        this.foldResume(status);\n    }\n    // tslint:disable-next-line: cyclomatic-complexity\n    loop(go) {\n        let current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        const env = L.isNotEmpty(this.envStack) ? L.lastUnsafe(this.envStack) : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        L.push(this.envStack, current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, (e) => T.effect.chain(T.sync(() => {\n                            L.popLastUnsafe(this.envStack);\n                            return {};\n                        }), (_) => T.raised(e)), (r) => T.sync(() => {\n                            L.popLastUnsafe(this.envStack);\n                            return r;\n                        })));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (O.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (E.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(`Die: Unrecognized current type ${current}`);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    }\n    start(run) {\n        this.loop(run);\n        if (this.completed !== null) {\n            return E.right(this.completed);\n        }\n        this.interrupt();\n        return E.left(new Error(\"async operations running\"));\n    }\n    interrupt() {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n    }\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nimport { either as E, option as O } from \"fp-ts\";\nimport { done, interruptWithError, raise } from \"./original/exit\";\nimport { defaultRuntime } from \"./original/runtime\";\nimport * as T from \"./effect\";\nimport { DoublyLinkedList } from \"./listc\";\nclass Frame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n}\nclass FoldFrame {\n    constructor(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n}\nclass MapFrame {\n    constructor(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n}\nconst makeInterruptFrame = (interruptStatus, prev) => ({\n    prev,\n    _tag: \"interrupt-frame\",\n    apply(u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion() {\n        interruptStatus.pop();\n    }\n});\nexport class DriverImpl {\n    constructor(runtime = defaultRuntime) {\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = new DoublyLinkedList();\n    }\n    set(a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (const f of this.listeners) {\n                f(a);\n            }\n        }\n    }\n    isComplete() {\n        return this.completed !== null;\n    }\n    complete(a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    onExit(f) {\n        if (this.completed !== null) {\n            f(this.completed);\n        }\n        if (this.listeners === undefined) {\n            this.listeners = [f];\n        }\n        else {\n            this.listeners.push(f);\n        }\n        // TODO: figure how to trigger if possible\n        /* istanbul ignore next */\n        return () => {\n            if (this.listeners !== undefined) {\n                this.listeners = this.listeners.filter((cb) => cb !== f);\n            }\n        };\n    }\n    exit() {\n        return this.completed;\n    }\n    isInterruptible() {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    }\n    handle(e) {\n        var _a, _b;\n        let frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    }\n    dispatchResumeInterrupt(err) {\n        const go = this.handle(interruptWithError(err));\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    }\n    resumeInterrupt(err) {\n        this.runtime.dispatch(this.dispatchResumeInterrupt.bind(this), err);\n    }\n    next(value) {\n        var _a;\n        const frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(done(value));\n        return;\n    }\n    foldResume(status) {\n        E.fold((cause) => {\n            const go = this.handle(raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        }, (value) => {\n            const go = this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                this.loop(go);\n            }\n        })(status);\n    }\n    resume(status) {\n        this.cancelAsync = undefined;\n        this.runtime.dispatch(this.foldResume.bind(this), status);\n    }\n    contextSwitch(op) {\n        let complete = false;\n        const wrappedCancel = op((status) => {\n            if (complete) {\n                return;\n            }\n            complete = true;\n            this.resume(status);\n        });\n        this.cancelAsync = (cb) => {\n            complete = true;\n            wrappedCancel((err) => {\n                cb(err);\n            });\n        };\n    }\n    // tslint:disable-next-line: cyclomatic-complexity\n    loop(go) {\n        let current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        const env = !this.envStack.empty() ? this.envStack.tail.value : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        this.envStack.append(current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, (e) => T.effect.chain(T.sync(() => {\n                            this.envStack.deleteTail();\n                            return {};\n                        }), (_) => T.raised(e)), (r) => T.sync(() => {\n                            this.envStack.deleteTail();\n                            return r;\n                        })));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (O.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (E.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        this.contextSwitch(current.f0);\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(`Die: Unrecognized current type ${current}`);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    }\n    start(run) {\n        if (this.started) {\n            /* istanbul ignore next */\n            throw new Error(\"Bug: Runtime may not be started multiple times\");\n        }\n        this.started = true;\n        this.runtime.dispatch(this.loop.bind(this), run);\n    }\n    interrupt() {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n        if (this.cancelAsync && this.isInterruptible()) {\n            this.cancelAsync((err) => {\n                this.resumeInterrupt(err);\n            });\n        }\n    }\n}\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\n// Some utilities\nexport function tuple2(a, b) {\n    return [a, b];\n}\nexport function fst(a) {\n    // eslint-disable-line no-unused-vars\n    return a;\n}\nexport function snd(_, b) {\n    return b;\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ref.ts\n */\nimport * as T from \"./effect\";\n/**\n * Creates an IO that will allocate a Ref.\n * Curried form of makeRef_ to allow for inference on the initial type\n */\nexport const makeRef = (initial) => T.sync(() => {\n    let value = initial;\n    const get = T.sync(() => value);\n    const set = (a) => T.sync(() => {\n        const prev = value;\n        value = a;\n        return prev;\n    });\n    const update = (f) => T.sync(() => (value = f(value)));\n    const modify = (f) => T.sync(() => {\n        const [b, a] = f(value);\n        value = a;\n        return b;\n    });\n    return {\n        get,\n        set,\n        update,\n        modify\n    };\n});\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { option as O } from \"fp-ts\";\nexport class CompletableImpl {\n    constructor() {\n        this.completed = O.none;\n        this.listeners = [];\n    }\n    set(a) {\n        this.completed = O.some(a);\n        this.listeners.forEach((f) => f(a));\n    }\n    value() {\n        return this.completed;\n    }\n    isComplete() {\n        return O.isSome(this.completed);\n    }\n    complete(a) {\n        if (O.isSome(this.completed)) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    }\n    tryComplete(a) {\n        if (O.isSome(this.completed)) {\n            return false;\n        }\n        this.set(a);\n        return true;\n    }\n    listen(f) {\n        if (O.isSome(this.completed)) {\n            f(this.completed.value);\n        }\n        this.listeners.push(f);\n        return (cb) => {\n            this.listeners = this.listeners.filter((cb) => cb !== f);\n            cb();\n        };\n    }\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/deferred.ts\n */\nimport { CompletableImpl } from \"./original/support/completable\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nexport class DeferredImpl {\n    constructor(r) {\n        this.r = r;\n        this.c = new CompletableImpl();\n        this.wait = T.flatten(T.asyncTotal((callback) => this.c.listen(callback)));\n        this.interrupt = T.sync(() => {\n            this.c.complete(T.raiseInterrupt);\n        });\n    }\n    done(a) {\n        return T.sync(() => {\n            this.c.complete(T.pure(a));\n        });\n    }\n    error(e) {\n        return T.sync(() => {\n            this.c.complete(T.raiseError(e));\n        });\n    }\n    abort(e) {\n        return T.sync(() => {\n            this.c.complete(T.raiseAbort(e));\n        });\n    }\n    cause(e) {\n        return T.sync(() => {\n            this.c.complete(T.raised(e));\n        });\n    }\n    complete(exit) {\n        return T.sync(() => {\n            this.c.complete(T.completed(exit));\n        });\n    }\n    from(source) {\n        const completed = effect.chain(T.result(T.provide(this.r)(source)), (e) => this.complete(e));\n        return T.effect.onInterrupted(completed, this.interrupt);\n    }\n}\nexport function makeDeferred() {\n    return T.access((r) => new DeferredImpl(r));\n}\n","/**\n * This module provides a simuation of Haskell do notation.\n *\n * @since 0.1.0\n */\nimport { sequenceS } from 'fp-ts/es6/Apply';\nvar DoClass = /** @class */ (function () {\n    function DoClass(M, result) {\n        this.M = M;\n        this.result = result;\n    }\n    DoClass.prototype.do = function (action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function () { return s; }); }));\n    };\n    DoClass.prototype.doL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function () { return s; }); }));\n    };\n    DoClass.prototype.bind = function (name, action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.bindL = function (name, f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.let = function (name, a) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = a, _a));\n        }));\n    };\n    DoClass.prototype.letL = function (name, f) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = f(s), _a));\n        }));\n    };\n    DoClass.prototype.sequenceS = function (r) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(sequenceS(_this.M)(r), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.sequenceSL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(sequenceS(_this.M)(f(s)), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.return = function (f) {\n        return this.M.map(this.result, f);\n    };\n    DoClass.prototype.done = function () {\n        return this.result;\n    };\n    return DoClass;\n}());\nvar init = {};\nexport function Do(M) {\n    return new DoClass(M, M.of(init));\n}\n","import { either as Ei, function as F, option as Op, array as Ar, tree as TR, record as RE } from \"fp-ts\";\nimport { pipeable, pipe } from \"fp-ts/es6/pipeable\";\nimport * as ex from \"./original/exit\";\nimport { DriverSyncImpl } from \"./driverSync\";\nimport { DriverImpl } from \"./driver\";\nimport { fst, snd, tuple2 } from \"./original/support/util\";\nimport { EffectTag } from \"./defs\";\nimport { makeRef } from \"./ref\";\nimport { makeDeferred } from \"./deferred\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\n// WIP\n/* istanbul ignore file */\nexport { EffectTag };\nexport const URI = \"matechs/Effect\";\nexport class Implementation {\n    constructor(_tag, f0 = undefined, f1 = undefined, f2 = undefined) {\n        this._tag = _tag;\n        this.f0 = f0;\n        this.f1 = f1;\n        this.f2 = f2;\n    }\n    static fromEffect(eff) {\n        return eff;\n    }\n    /* istanbul ignore next */\n    _TAG() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _A() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _E() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _S() {\n        return undefined;\n    }\n    /* istanbul ignore next */\n    _R(_) {\n        return undefined;\n    }\n}\n/**\n * An IO has succeeded\n * @param a the value\n */\nexport function pure(a) {\n    return new Implementation(EffectTag.Pure, a);\n}\n/**\n * An IO that is failed\n *\n * Prefer raiseError or raiseAbort\n * @param e\n */\nexport function raised(e) {\n    return new Implementation(EffectTag.Raised, e);\n}\n/**\n * An IO that is failed with a checked error\n * @param e\n */\nexport function raiseError(e) {\n    return raised(ex.raise(e));\n}\n/**\n * An IO that is failed with an unchecked error\n * @param u\n */\nexport function raiseAbort(u) {\n    return raised(ex.abort(u));\n}\n/**\n * An IO that is already interrupted\n */\nexport const raiseInterrupt = raised(ex.interrupt);\n/**\n * An IO that is completed with the given exit\n * @param exit\n */\nexport function completed(exit) {\n    return new Implementation(EffectTag.Completed, exit);\n}\n/**\n * Wrap a block of impure code that returns an IO into an IO\n *\n * When evaluated this IO will run the given thunk to produce the next IO to execute.\n * @param thunk\n */\nexport function suspended(thunk) {\n    return new Implementation(EffectTag.Suspended, thunk);\n}\n/**\n * Wrap a block of impure code in an IO\n *\n * When evaluated the this will produce a value or throw\n * @param thunk\n */\nexport function sync(thunk) {\n    return suspended(() => pure(thunk()));\n}\nexport function trySync(thunk) {\n    return suspended(() => {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(e);\n        }\n    });\n}\nexport function trySyncMap(onError) {\n    return (thunk) => suspended(() => {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(onError(e));\n        }\n    });\n}\n/**\n * Wrap an impure callback in an IO\n *\n * The provided function must accept a callback to report results to and return a cancellation action.\n * If your action is uncancellable for some reason, you should return an empty thunk and wrap the created IO\n * in uninterruptible\n * @param op\n */\nexport function async(op) {\n    return new Implementation(EffectTag.Async, op);\n}\n/**\n * Wrap an impure callback in IO\n *\n * This is a variant of async where the effect cannot fail with a checked exception.\n * @param op\n */\nexport function asyncTotal(op) {\n    return async((callback) => op((a) => callback(Ei.right(a))));\n}\n/**\n * Demarcate a region of interruptible state\n * @param inner\n * @param flag\n */\nexport function interruptibleRegion(inner, flag) {\n    return new Implementation(EffectTag.InterruptibleRegion, flag, inner);\n}\n/**\n * Produce an new IO that will use the value produced by inner to produce the next IO to evaluate\n * @param inner\n * @param bind\n */\nfunction chain_(inner, bind) {\n    return inner._tag === EffectTag.Pure\n        ? bind(inner.f0)\n        : new Implementation(EffectTag.Chain, inner, bind);\n}\nexport function chainOption(onEmpty) {\n    return (bind) => (inner) => chain_(inner, (a) => encaseOption(bind(a), onEmpty));\n}\nexport function chainEither(bind) {\n    return (inner) => chain_(inner, (a) => encaseEither(bind(a)));\n}\nexport function chainTask(bind) {\n    return (inner) => chain_(inner, (a) => encaseTask(bind(a)));\n}\nexport function chainTaskEither(bind) {\n    return (inner) => chain_(inner, (a) => encaseTaskEither(bind(a)));\n}\n/**\n * Lift an Either into an IO\n * @param e\n */\nexport function encaseEither(e) {\n    return new Implementation(EffectTag.PureEither, e);\n}\n/**\n * Lift an Option into an IO\n * @param o\n * @param onError\n */\nexport function encaseOption(o, onError) {\n    return new Implementation(EffectTag.PureOption, o, onError);\n}\n/**\n * Curried form of foldExit\n * @param failure\n * @param success\n */\nexport function foldExit(failure, success) {\n    return (io) => foldExit_(io, failure, success);\n}\n/**\n * Get the interruptible state of the current fiber\n */\nexport const accessInterruptible = new Implementation(EffectTag.AccessInterruptible, F.identity);\n/**\n * Get the runtime of the current fiber\n */\nexport const accessRuntime = new Implementation(EffectTag.AccessRuntime, F.identity);\n/**\n * Access the runtime then provide it to the provided function\n * @param f\n */\nexport function withRuntime(f) {\n    return chain_(accessRuntime, f);\n}\nexport function accessEnvironment() {\n    return new Implementation(EffectTag.AccessEnv);\n}\nexport function accessM(f) {\n    return chain_(accessEnvironment(), f);\n}\nexport function access(f) {\n    return map_(accessEnvironment(), f);\n}\n/**\n * Provides partial environment via the spread operator, providing several environment is possible via:\n * pipe(eff, provide(env1), provide(env2)) or pipe(eff, provide<Env1 & Env2>({...env1, ...env2}))\n *\n * the second parameter is used to invert the priority of newly provided environment\n * and should be used when you want subsequent providers to take precedence (i.e. having currently provided env as default)\n */\nexport function provide(r, inverted = \"regular\") {\n    return (eff) => provideR((r2) => (inverted === \"inverted\" ? Object.assign(Object.assign({}, r), r2) : Object.assign(Object.assign({}, r2), r)))(eff);\n}\n/**\n * Like provide where environment is resolved monadically\n */\nexport function provideM(rm, inverted = \"regular\") {\n    return (eff) => chain_(rm, (r) => provideR((r2) => (inverted === \"inverted\" ? Object.assign(Object.assign({}, r), r2) : Object.assign(Object.assign({}, r2), r)))(eff));\n}\nconst provideR = (f) => (ma) => accessM((r2) => new Implementation(EffectTag.ProvideEnv, ma, f(r2)));\n/**\n * Map the value produced by an IO\n * @param io\n * @param f\n */\nfunction map_(base, f) {\n    return base._tag === EffectTag.Pure\n        ? new Implementation(EffectTag.Pure, f(base.f0))\n        : new Implementation(EffectTag.Map, base, f);\n}\n/**\n * Lift a function on values to a function on IOs\n * @param f\n */\nexport function lift(f) {\n    return (io) => map_(io, f);\n}\nexport function liftEither(f) {\n    return (a) => suspended(() => fromEither(f(a)));\n}\n/**\n * Map the value produced by an IO to the constant b\n * @param io\n * @param b\n */\nexport function as(io, b) {\n    return map_(io, F.constant(b));\n}\n/**\n * Curried form of as\n * @param b\n */\nexport function to(b) {\n    return (io) => as(io, b);\n}\nexport function chainTap(bind) {\n    return (inner) => chainTap_(inner, bind);\n}\nconst chainTap_ = (inner, bind) => chain_(inner, (a) => as(bind(a), a));\n/**\n * Map the value produced by an IO to void\n * @param io\n */\nexport function asUnit(io) {\n    return as(io, undefined);\n}\n/**\n * An IO that succeeds immediately with void\n */\nexport const unit = pure(undefined);\n/**\n * Curriend form of chainError\n * @param f\n */\nexport function chainError(f) {\n    return (io) => chainError_(io, f);\n}\n/**\n * Map the error produced by an IO\n * @param f\n */\nexport function mapError(f) {\n    return (io) => mapLeft_(io, f);\n}\nfunction bimap_(io, leftMap, rightMap) {\n    return foldExit_(io, (cause) => (cause._tag === \"Raise\" ? raiseError(leftMap(cause.error)) : completed(cause)), F.flow(rightMap, pure));\n}\n/**\n * Zip the result of two IOs together using the provided function\n * @param first\n * @param second\n * @param f\n */\nfunction zipWith_(first, second, f) {\n    return chain_(first, (a) => map_(second, (b) => f(a, b)));\n}\nexport function zipWith(second, f) {\n    return (first) => zipWith_(first, second, f);\n}\n/**\n * Zip the result of two IOs together into a tuple type\n * @param first\n * @param second\n */\nfunction zip_(first, second) {\n    return zipWith_(first, second, tuple2);\n}\nexport function zip(second) {\n    return (first) => zip_(first, second);\n}\n/**\n * Evaluate two IOs in sequence and produce the value produced by the first\n * @param first\n * @param second\n */\nexport function applyFirst(first, second) {\n    return zipWith_(first, second, fst);\n}\n/**\n * Evaluate two IOs in sequence and produce the value produced by the second\n * @param first\n * @param second\n */\nexport function applySecond(first, second) {\n    return zipWith_(first, second, snd);\n}\n/**\n * Evaluate two IOs in sequence and produce the value of the second.\n * This is suitable for cases where second is recursively defined\n * @param first\n * @param second\n */\nexport function applySecondL(first, second) {\n    return chain_(first, second);\n}\n/**\n * Flipped argument form of ap\n * @param ioa\n * @param iof\n */\nexport function ap__(ioa, iof) {\n    // Find the apply/thrush operator I'm sure exists in fp-ts somewhere\n    return zipWith_(ioa, iof, (a, f) => f(a));\n}\n/**\n * Applicative ap\n * @param iof\n * @param ioa\n */\nfunction ap_(iof, ioa) {\n    return zipWith_(iof, ioa, (f, a) => f(a));\n}\n/**\n * Flip the error and success channels in an IO\n * @param io\n */\nexport function flip(io) {\n    return foldExit_(io, (error) => (error._tag === \"Raise\" ? pure(error.error) : completed(error)), raiseError);\n}\n/**\n * Execute the provided IO forever (or until it errors)\n * @param io\n */\nexport function forever(io) {\n    return chain_(io, () => forever(io));\n}\n/**\n * Create an IO that traps all exit states of io.\n *\n * Note that interruption will not be caught unless in an uninterruptible region\n * @param io\n */\nexport function result(io) {\n    return foldExit_(io, pure, (d) => pure(ex.done(d)));\n}\n/**\n * Create an interruptible region around the evalution of io\n * @param io\n */\nexport function interruptible(io) {\n    return interruptibleRegion(io, true);\n}\n/**\n * Create an uninterruptible region around the evaluation of io\n * @param io\n */\nexport function uninterruptible(io) {\n    return interruptibleRegion(io, false);\n}\n/**\n * Create an IO that produces void after ms milliseconds\n * @param ms\n */\nexport function after(ms) {\n    return chain_(accessRuntime, (runtime) => asyncTotal((callback) => runtime.dispatchLater(callback, undefined, ms)));\n}\nfunction makeInterruptMaskCutout(state) {\n    return (inner) => interruptibleRegion(inner, state);\n}\n/**\n * Create an uninterruptible masked region\n *\n * When the returned IO is evaluated an uninterruptible region will be created and , f will receive an InterruptMaskCutout that can be used to restore the\n * interruptible status of the region above the one currently executing (which is uninterruptible)\n * @param f\n */\nexport function uninterruptibleMask(f) {\n    return chain_(accessInterruptible, (flag) => {\n        const cutout = makeInterruptMaskCutout(flag);\n        return uninterruptible(f(cutout));\n    });\n}\n/**\n * Create an interruptible masked region\n *\n * Similar to uninterruptibleMask\n * @param f\n */\nexport function interruptibleMask(f) {\n    return chain_(accessInterruptible, (flag) => interruptible(f(makeInterruptMaskCutout(flag))));\n}\nfunction combineFinalizerExit(fiberExit, releaseExit) {\n    if (fiberExit._tag === \"Done\" && releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else if (fiberExit._tag === \"Done\") {\n        return releaseExit;\n    }\n    else if (releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else {\n        // TODO: Figure out how to sanely report both of these, we swallow them currently\n        // This would affect chainError (i.e. assume multiples are actually an abort condition that happens to be typed)\n        return fiberExit;\n    }\n}\n/**\n * Resource acquisition and release construct.\n *\n * Once acquire completes successfully, release is guaranteed to execute following the evaluation of the IO produced by use.\n * Release receives the exit state of use along with the resource.\n * @param acquire\n * @param release\n * @param use\n */\nexport function bracketExit(acquire, release, use) {\n    return uninterruptibleMask((cutout) => chain_(acquire, (a) => chain_(result(cutout(use(a))), (exit) => chain_(result(release(a, exit)), (finalize) => completed(combineFinalizerExit(exit, finalize))))));\n}\n/**\n * Weaker form of bracketExit where release does not receive the exit status of use\n * @param acquire\n * @param release\n * @param use\n */\nexport function bracket(acquire, release, use) {\n    // tslint:disable-next-line: no-unnecessary-callback-wrapper\n    return bracketExit(acquire, (e) => release(e), use);\n}\n/**\n * Guarantee that once ioa begins executing the finalizer will execute.\n * @param ioa\n * @param finalizer\n */\nfunction onComplete_(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => chain_(result(finalizer), (finalize) => completed(combineFinalizerExit(exit, finalize)))));\n}\nexport function onComplete(finalizer) {\n    return (ioa) => onComplete_(ioa, finalizer);\n}\n/**\n * Guarantee that once ioa begins executing if it is interrupted finalizer will execute\n * @param ioa\n * @param finalizer\n */\nfunction onInterrupted_(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => exit._tag === \"Interrupt\"\n        ? chain_(result(finalizer), (finalize) => completed(combineFinalizerExit(exit, finalize)))\n        : completed(exit)));\n}\nexport function onInterrupted(finalizer) {\n    return (ioa) => onInterrupted_(ioa, finalizer);\n}\nexport function combineInterruptExit(ioa, finalizer) {\n    return uninterruptibleMask((cutout) => chain_(result(cutout(ioa)), (exit) => exit._tag === \"Interrupt\"\n        ? chain_(result(finalizer), (finalize) => {\n            /* istanbul ignore else */\n            if (finalize._tag === \"Done\") {\n                const errors = pipe([exit.error, ...finalize.value.map((x) => x.error)], Ar.filter((x) => x !== undefined));\n                return errors.length > 0\n                    ? completed(ex.interruptWithErrorAndOthers(errors[0], Ar.dropLeft(1)(errors)))\n                    : completed(exit);\n            }\n            else {\n                console.warn(\"BUG: interrupt finalizer should not fail\");\n                return completed(exit);\n            }\n        })\n        : completed(exit)));\n}\n/**\n * Introduce a gap in executing to allow other fibers to execute (if any are pending)\n */\nexport const shifted = uninterruptible(chain_(accessRuntime, (runtime) => asyncTotal((callback) => {\n    runtime.dispatch(callback, undefined);\n    return (cb) => {\n        cb();\n    };\n})));\n/**\n * Introduce asynchronous gap before io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nexport function shiftBefore(io) {\n    return applySecond(shifted, io);\n}\n/**\n * Introduce asynchronous gap after an io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nexport function shiftAfter(io) {\n    return applyFirst(io, shifted);\n}\n/**\n * Introduce an asynchronous gap that will suspend the runloop and return control to the javascript vm\n */\nexport const shiftedAsync = uninterruptible(chain_(accessRuntime, (runtime) => asyncTotal((callback) => runtime.dispatchLater(callback, undefined, 0))));\n/**\n * Introduce an asynchronous gap before IO\n * @param io\n */\nexport function shiftAsyncBefore(io) {\n    return applySecond(shiftedAsync, io);\n}\n/**\n * Introduce asynchronous gap after an IO\n * @param io\n */\nexport function shiftAsyncAfter(io) {\n    return applyFirst(io, shiftedAsync);\n}\n/**\n * An IO that never produces a value or an error.\n *\n * This IO will however prevent a javascript runtime such as node from exiting by scheduling an interval for 60s\n */\nexport const never = asyncTotal(() => {\n    const handle = setInterval(() => {\n        //\n    }, 60000);\n    /* istanbul ignore next */\n    return (cb) => {\n        clearInterval(handle);\n        cb();\n    };\n});\n/**\n * Delay evaluation of inner by some amount of time\n * @param inner\n * @param ms\n */\nexport function delay(inner, ms) {\n    return applySecond(after(ms), inner);\n}\n/**\n * Curried form of delay\n */\nexport function liftDelay(ms) {\n    return (io) => delay(io, ms);\n}\nexport class FiberImpl {\n    constructor(driver, n) {\n        this.driver = driver;\n        this.n = n;\n        this.name = Op.fromNullable(this.n);\n        this.sendInterrupt = sync(() => {\n            this.driver.interrupt();\n        });\n        this.wait = asyncTotal((f) => this.driver.onExit(f));\n        this.interrupt = applySecond(this.sendInterrupt, this.wait);\n        this.join = chain_(this.wait, completed);\n        this.result = chain_(sync(() => this.driver.completed), (opt) => (opt === null ? pureNone : map_(completed(opt), Op.some)));\n        this.isComplete = sync(() => this.driver.completed !== null);\n    }\n}\nconst pureNone = pure(Op.none);\n/**\n * Implementation of Stack/waver fork. Creates an IO that will fork a fiber in the background\n * @param init\n * @param name\n */\nexport function makeFiber(init, name) {\n    return accessM((r) => chain_(accessRuntime, (runtime) => sync(() => {\n        const driver = new DriverImpl(runtime);\n        const fiber = new FiberImpl(driver, name);\n        driver.start(provide(r)(init));\n        return fiber;\n    })));\n}\n/**\n * Fork the program described by IO in a separate fiber.\n *\n * This fiber will begin executing once the current fiber releases control of the runloop.\n * If you need to begin the fiber immediately you should use applyFirst(forkIO, shifted)\n * @param io\n * @param name\n */\nexport function fork(io, name) {\n    return makeFiber(io, name);\n}\nfunction completeLatched(latch, channel, combine, other) {\n    return (exit) => {\n        const act = latch.modify((flag) => !flag ? [channel.from(combine(exit, other)), true] : [unit, flag]);\n        return flatten(act);\n    };\n}\n/**\n * Race two fibers together and combine their results.\n *\n * This is the primitive from which all other racing and timeout operators are built and you should favor those unless you have very specific needs.\n * @param first\n * @param second\n * @param onFirstWon\n * @param onSecondWon\n */\nexport function raceFold(first, second, onFirstWon, onSecondWon) {\n    return accessM((r) => uninterruptibleMask((cutout) => chain_(makeRef(false), (latch) => chain_(makeDeferred(), (channel) => chain_(fork(provide(r)(first)), (fiber1) => chain_(fork(provide(r)(second)), (fiber2) => chain_(fork(chain_(fiber1.wait, completeLatched(latch, channel, onFirstWon, fiber2))), () => chain_(fork(chain_(fiber2.wait, completeLatched(latch, channel, onSecondWon, fiber1))), () => combineInterruptExit(cutout(channel.wait), chain_(fiber1.interrupt, (i1) => map_(fiber2.interrupt, (i2) => [i1, i2])))))))))));\n}\n/**\n * Execute an IO and produce the next IO to run based on whether it completed successfully in the alotted time or not\n * @param source\n * @param ms\n * @param onTimeout\n * @param onCompleted\n */\nexport function timeoutFold(source, ms, onTimeout, onCompleted) {\n    return raceFold(source, after(ms), \n    /* istanbul ignore next */\n    (exit, delayFiber) => applySecond(delayFiber.interrupt, onCompleted(exit)), (_, fiber) => onTimeout(fiber));\n}\nfunction interruptLoser(exit, loser) {\n    return applySecond(loser.interrupt, completed(exit));\n}\n/**\n * Return the reuslt of the first IO to complete or error successfully\n * @param io1\n * @param io2\n */\nexport function raceFirst(io1, io2) {\n    return raceFold(io1, io2, interruptLoser, interruptLoser);\n}\nfunction fallbackToLoser(exit, loser) {\n    return exit._tag === \"Done\" ? applySecond(loser.interrupt, completed(exit)) : loser.join;\n}\n/**\n * Return the result of the first IO to complete successfully.\n *\n * If an error occurs, fall back to the other IO.\n * If both error, then fail with the second errors\n * @param io1\n * @param io2\n */\nexport function race(io1, io2) {\n    return raceFold(io1, io2, fallbackToLoser, fallbackToLoser);\n}\n/**\n * Zip the result of 2 ios executed in parallel together with the provided function.\n * @param ioa\n * @param iob\n * @param f\n */\nexport function parZipWith(ioa, iob, f) {\n    return raceFold(ioa, iob, (aExit, bFiber) => zipWith_(completed(aExit), bFiber.join, f), (bExit, aFiber) => zipWith_(aFiber.join, completed(bExit), f));\n}\n/**\n * Tuple the result of 2 ios executed in parallel\n * @param ioa\n * @param iob\n */\nexport function parZip(ioa, iob) {\n    return parZipWith(ioa, iob, tuple2);\n}\n/**\n * Execute two ios in parallel and take the result of the first.\n * @param ioa\n * @param iob\n */\nexport function parApplyFirst(ioa, iob) {\n    return parZipWith(ioa, iob, fst);\n}\n/**\n * Exeute two IOs in parallel and take the result of the second\n * @param ioa\n * @param iob\n */\nexport function parApplySecond(ioa, iob) {\n    return parZipWith(ioa, iob, snd);\n}\n/**\n * Parallel form of ap\n * @param ioa\n * @param iof\n */\nexport function parAp(ioa, iof) {\n    return parZipWith(ioa, iof, (a, f) => f(a));\n}\n/**\n * Parallel form of ap_\n * @param iof\n * @param ioa\n */\nexport function parAp_(iof, ioa) {\n    return parZipWith(iof, ioa, (f, a) => f(a));\n}\n/**\n * Convert an error into an unchecked error.\n * @param io\n */\nexport function orAbort(io) {\n    return chainError_(io, raiseAbort);\n}\n/**\n * Run source for a maximum amount of ms.\n *\n * If it completes succesfully produce a some, if not interrupt it and produce none\n * @param source\n * @param ms\n */\nexport function timeoutOption(source, ms) {\n    return timeoutFold(source, ms, (actionFiber) => applySecond(actionFiber.interrupt, pureNone), (exit) => map_(completed(exit), Op.some));\n}\n/**\n * Create an IO from a Promise factory.\n * @param thunk\n */\nexport function fromPromise(thunk) {\n    return uninterruptible(async((callback) => {\n        thunk()\n            .then((v) => callback(Ei.right(v)))\n            .catch((e) => callback(Ei.left(e)));\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    }));\n}\nexport function encaseTask(task) {\n    return orAbort(fromPromise(task));\n}\nexport function encaseTaskEither(taskEither) {\n    return async((callback) => {\n        taskEither().then(callback);\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    });\n}\nexport function fromPromiseMap(onError) {\n    return (thunk) => async((callback) => {\n        thunk()\n            .then((v) => callback(Ei.right(v)))\n            .catch((e) => callback(Ei.left(onError(e))));\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    });\n}\n/**\n * Run the given IO with the provided environment.\n * @param io\n * @param r\n * @param callback\n */\nexport function run(io, callback) {\n    const driver = new DriverImpl();\n    if (callback) {\n        driver.onExit(callback);\n    }\n    driver.start(io);\n    return () => driver.interrupt();\n}\n/**\n * Run the given IO syncroniously\n * returns left if any async operation\n * is found\n * @param io\n */\nexport function runSync(io) {\n    return pipe(new DriverSyncImpl().start(io), Ei.fold((e) => {\n        throw e;\n    }, (e) => e));\n}\n/* istanbul skip next */\nexport function runUnsafeSync(io) {\n    const result = runSync(io);\n    if (result._tag !== \"Done\") {\n        throw result._tag === \"Raise\"\n            ? result.error\n            : result._tag === \"Abort\"\n                ? result.abortedWith\n                : result;\n    }\n    return result.value;\n}\n/**\n * Run an IO and return a Promise of its result\n *\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nexport function runToPromise(io) {\n    return new Promise((resolve, reject) => run(io, (exit) => {\n        switch (exit._tag) {\n            case \"Done\":\n                resolve(exit.value);\n                return;\n            case \"Abort\":\n                reject(exit.abortedWith);\n                return;\n            case \"Raise\":\n                reject(exit.error);\n                return;\n            case \"Interrupt\":\n                reject();\n                return;\n        }\n    }));\n}\n/**\n * Run an IO returning a promise of an Exit.\n *\n * The Promise will not reject.\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nexport function runToPromiseExit(io) {\n    return new Promise((result) => run(io, result));\n}\nfunction chainError_(io, f) {\n    return foldExit_(io, (cause) => (cause._tag === \"Raise\" ? f(cause.error) : completed(cause)), pure);\n}\nconst foldExit_ = (inner, failure, success) => new Implementation(EffectTag.Collapse, inner, failure, success);\nconst mapLeft_ = (io, f) => chainError_(io, F.flow(f, raiseError));\nconst alt_ = chainError_;\nexport function alt(fy) {\n    return (fx) => alt_(fx, fy);\n}\nexport const effect = {\n    URI,\n    map: map_,\n    of: pure,\n    ap: ap_,\n    chain: chain_,\n    bimap: bimap_,\n    mapLeft: mapLeft_,\n    mapError: mapLeft_,\n    throwError: raiseError,\n    chainError: chainError_,\n    foldExit: foldExit_,\n    chainTap: chainTap_,\n    alt: alt_,\n    onInterrupted: onInterrupted_,\n    onComplete: onComplete_,\n    zip: zip_,\n    zipWith: zipWith_\n};\nexport const Do = () => DoG(effect);\nexport const sequenceS = SS(effect);\nexport const sequenceT = ST(effect);\nexport const parEffect = {\n    URI,\n    _CTX: \"async\",\n    of: pure,\n    map: map_,\n    ap: parAp_,\n    chain: chain_,\n    throwError: raiseError\n};\nexport const parDo = () => DoG(parEffect);\nexport const parSequenceS = SS(parEffect);\nexport const parSequenceT = ST(parEffect);\nconst { ap, apFirst, apSecond, \n// toto\nbimap, chain, chainFirst, filterOrElse, flatten, fromEither, fromOption, fromPredicate, map, mapLeft } = pipeable(effect);\nexport { ap, apFirst, apSecond, bimap, chain, chainFirst, filterOrElse, flatten, fromEither, fromOption, fromPredicate, map, mapLeft };\nexport function getSemigroup(s) {\n    return {\n        concat(x, y) {\n            return zipWith_(x, y, s.concat);\n        }\n    };\n}\nexport function getMonoid(m) {\n    return Object.assign(Object.assign({}, getSemigroup(m)), { empty: pure(m.empty) });\n}\n/* conditionals */\nexport function when(predicate) {\n    return (ma) => (predicate ? map_(ma, Op.some) : pure(Op.none));\n}\nexport function or_(predicate) {\n    return (ma) => (mb) => (predicate ? map_(ma, Ei.left) : map_(mb, Ei.right));\n}\nexport function or(ma) {\n    return (mb) => (predicate) => (predicate ? map_(ma, Ei.left) : map_(mb, Ei.right));\n}\nexport function condWith(predicate) {\n    return (ma) => (mb) => (predicate ? ma : mb);\n}\nexport function cond(ma) {\n    return (mb) => (predicate) => (predicate ? ma : mb);\n}\nexport function fromNullableM(ma) {\n    return map_(ma, Op.fromNullable);\n}\nexport function getCauseSemigroup(S) {\n    return {\n        concat: (ca, cb) => {\n            if (ca._tag === \"Interrupt\" || cb._tag === \"Interrupt\") {\n                return ca;\n            }\n            if (ca._tag === \"Abort\") {\n                return ca;\n            }\n            if (cb._tag === \"Abort\") {\n                return cb;\n            }\n            return ex.raise(S.concat(ca.error, cb.error));\n        }\n    };\n}\nexport function getValidationM(S) {\n    return getCauseValidationM(getCauseSemigroup(S));\n}\nexport function getCauseValidationM(S) {\n    return {\n        URI,\n        _E: undefined,\n        of: pure,\n        map: map_,\n        chain: chain_,\n        ap: (fab, fa) => foldExit_(fab, (fabe) => foldExit_(fa, (fae) => raised(S.concat(fabe, fae)), (_) => raised(fabe)), (f) => map_(fa, f)),\n        throwError: raiseError,\n        alt: (fa, fb) => foldExit_(fa, (e) => foldExit_(fb(), (fbe) => raised(S.concat(e, fbe)), pure), pure)\n    };\n}\nexport function effectify(f) {\n    return function () {\n        const args = Array.prototype.slice.call(arguments);\n        return async((cb) => {\n            const cbResolver = (e, r) => \n            // tslint:disable-next-line: triple-equals\n            e != null ? cb(Ei.left(e)) : cb(Ei.right(r));\n            f.apply(null, args.concat(cbResolver));\n            /* istanbul ignore next */\n            return (cb) => {\n                cb();\n            };\n        });\n    };\n}\nexport const sequenceOption = Op.option.sequence(effect);\nexport const traverseOption = (f) => (ta) => Op.option.traverse(effect)(ta, f);\nexport const wiltOption = (f) => (wa) => Op.option.wilt(effect)(wa, f);\nexport const witherOption = (f) => (ta) => Op.option.wither(effect)(ta, f);\nexport const sequenceEither = Ei.either.sequence(effect);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(effect)(ta, f);\nexport const sequenceTree = TR.tree.sequence(effect);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(effect)(ta, f);\nexport const sequenceTreePar = TR.tree.sequence(parEffect);\nexport const traverseTreePar = (f) => (ta) => TR.tree.traverse(parEffect)(ta, f);\nexport const sequenceArray = Ar.array.sequence(effect);\nexport const traverseArray = (f) => (ta) => Ar.array.traverse(effect)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => Ar.array.traverseWithIndex(effect)(ta, f);\nexport const wiltArray = (f) => (wa) => Ar.array.wilt(effect)(wa, f);\nexport const witherArray = (f) => (ta) => Ar.array.wither(effect)(ta, f);\nexport const sequenceArrayPar = Ar.array.sequence(parEffect);\nexport const traverseArrayPar = (f) => (ta) => Ar.array.traverse(parEffect)(ta, f);\nexport const traverseArrayWithIndexPar = (f) => (ta) => Ar.array.traverseWithIndex(parEffect)(ta, f);\nexport const wiltArrayPar = (f) => (wa) => Ar.array.wilt(parEffect)(wa, f);\nexport const witherArrayPar = (f) => (ta) => Ar.array.wither(parEffect)(ta, f);\nexport const sequenceRecord = RE.record.sequence(effect);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(effect)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(effect)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(effect)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(effect)(ta, f);\nexport const sequenceRecordPar = RE.record.sequence(parEffect);\nexport const traverseRecordPar = (f) => (ta) => RE.record.traverse(parEffect)(ta, f);\nexport const traverseRecordWithIndexPar = (f) => (ta) => RE.record.traverseWithIndex(parEffect)(ta, f);\nexport const wiltRecordPar = (f) => (wa) => RE.record.wilt(parEffect)(wa, f);\nexport const witherRecordPar = (f) => (ta) => RE.record.wither(parEffect)(ta, f);\n","import { function as F } from \"fp-ts\";\nimport { done } from \"./original/exit\";\nimport * as T from \"./effect\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\nimport * as Ar from \"fp-ts/es6/Array\";\nimport * as Op from \"fp-ts/es6/Option\";\nimport * as Ei from \"fp-ts/es6/Either\";\nimport * as TR from \"fp-ts/es6/Tree\";\nimport * as RE from \"fp-ts/es6/Record\";\nexport var ManagedTag;\n(function (ManagedTag) {\n    ManagedTag[ManagedTag[\"Pure\"] = 0] = \"Pure\";\n    ManagedTag[ManagedTag[\"Encase\"] = 1] = \"Encase\";\n    ManagedTag[ManagedTag[\"Bracket\"] = 2] = \"Bracket\";\n    ManagedTag[ManagedTag[\"Suspended\"] = 3] = \"Suspended\";\n    ManagedTag[ManagedTag[\"Chain\"] = 4] = \"Chain\";\n    ManagedTag[ManagedTag[\"BracketExit\"] = 5] = \"BracketExit\";\n})(ManagedTag || (ManagedTag = {}));\nconst toM = (_) => _;\nconst fromM = (_) => _;\n/**\n * Lift a pure value into a resource\n * @param value\n */\nexport function pure(value) {\n    return toM(() => ({\n        _tag: ManagedTag.Pure,\n        value\n    }));\n}\n/**\n * Create a Resource by wrapping an IO producing a value that does not need to be disposed\n *\n * @param res\n * @param f\n */\nexport function encaseEffect(rio) {\n    return toM((r) => ({\n        _tag: ManagedTag.Encase,\n        acquire: T.provide(r)(rio)\n    }));\n}\n/**\n * Create a resource from an acquisition and release function\n * @param acquire\n * @param release\n */\nexport function bracket(acquire, release) {\n    return toM((r) => ({\n        _tag: ManagedTag.Bracket,\n        acquire: T.provide(r)(acquire),\n        release: (a) => T.provide(r)(release(a))\n    }));\n}\nexport function bracketExit(acquire, release) {\n    return toM((r) => ({\n        _tag: ManagedTag.BracketExit,\n        acquire: T.provide(r)(acquire),\n        release: (a, e) => T.provide(r)(release(a, e))\n    }));\n}\n/**\n * Lift an IO of a Resource into a resource\n * @param suspended\n */\nexport function suspend(suspended) {\n    return toM((r) => ({\n        _tag: ManagedTag.Suspended,\n        suspended: T.effect.map(T.provide(r)(suspended), (m) => (_) => fromM(m)(r))\n    }));\n}\n/**\n * Compose dependent resourcess.\n *\n * The scope of left will enclose the scope of the resource produced by bind\n * @param left\n * @param bind\n */\nfunction chain_(left, bind) {\n    return toM((r) => ({\n        _tag: ManagedTag.Chain,\n        left: provideAll(r)(left),\n        bind: (l) => provideAll(r)(bind(l))\n    }));\n}\n/**\n * Curried form of chain\n * @param bind\n */\nexport function chain(bind) {\n    return (left) => chain_(left, bind);\n}\n/**\n * Map a resource\n * @param res\n * @param f\n */\nfunction map_(res, f) {\n    return chain_(res, (r) => pure(f(r)));\n}\n/**\n * Curried form of map\n * @param f\n */\nexport function map(f) {\n    return (res) => map_(res, f);\n}\n/**\n * Zip two resources together with the given function.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n * @param f\n */\nexport function zipWith(resa, resb, f) {\n    return chain_(resa, (a) => map_(resb, (b) => f(a, b)));\n}\n/**\n * Zip two resources together as a tuple.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n */\nexport function zip(resa, resb) {\n    return zipWith(resa, resb, (a, b) => [a, b]);\n}\n/**\n * Apply the function produced by resfab to the value produced by resa to produce a new resource.\n * @param resa\n * @param resfab\n */\nexport function ap(resa, resfab) {\n    return zipWith(resa, resfab, (a, f) => f(a));\n}\n/**\n * Flipped version of ap\n * @param resfab\n * @param resa\n */\nfunction ap_(resfab, resa) {\n    return zipWith(resfab, resa, (f, a) => f(a));\n}\n/**\n * Map a resource to a static value\n *\n * This creates a resource of the provided constant b where the produced A has the same lifetime internally\n * @param fa\n * @param b\n */\nexport function as(fa, b) {\n    return map_(fa, F.constant(b));\n}\n/**\n * Curried form of as\n * @param b\n */\nexport function to(b) {\n    return (fa) => as(fa, b);\n}\n/**\n * Construct a new 'hidden' resource using the produced A with a nested lifetime\n * Useful for performing initialization and cleanup that clients don't need to see\n * @param left\n * @param bind\n */\nexport function chainTap(left, bind) {\n    return chain_(left, (a) => as(bind(a), a));\n}\n/**\n * Curried form of chainTap\n * @param bind\n */\nexport function chainTapWith(bind) {\n    return (inner) => chainTap(inner, bind);\n}\n/**\n * Curried data last form of use\n * @param f\n */\nexport function consume(f) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return (r) => use(r, f);\n}\n/**\n * Create a Resource from the fiber of an IO.\n * The acquisition of this resource corresponds to forking rio into a fiber.\n * The destruction of the resource is interrupting said fiber.\n * @param rio\n */\nexport function fiber(rio) {\n    return bracket(T.fork(rio), (fiber) => fiber.interrupt);\n}\n/**\n * Use a resource to produce a program that can be run.s\n * @param res\n * @param f\n */\nexport function use(res, f) {\n    return T.accessM((r) => {\n        const c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return f(c.value);\n            case ManagedTag.Encase:\n                return T.effect.chain(c.acquire, f);\n            case ManagedTag.Bracket:\n                return T.bracket(c.acquire, c.release, f);\n            case ManagedTag.BracketExit:\n                return T.bracketExit(c.acquire, (a, e) => c.release(a, e), f);\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, consume(f));\n            case ManagedTag.Chain:\n                return use(c.left, (a) => use(c.bind(a), f));\n        }\n    });\n}\n/**\n * Create an IO action that will produce the resource for this managed along with its finalizer\n * action seperately.\n *\n * If an error occurs during allocation then any allocated resources should be cleaned up, but once the\n * Leak object is produced it is the callers responsibility to ensure release is invoked.\n * @param res\n */\nexport function allocate(res) {\n    return T.accessM((r) => {\n        const c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return T.pure({ a: c.value, release: T.unit });\n            case ManagedTag.Encase:\n                return T.effect.map(c.acquire, (a) => ({ a, release: T.unit }));\n            case ManagedTag.Bracket:\n                return T.effect.map(c.acquire, (a) => ({ a, release: c.release(a) }));\n            case ManagedTag.BracketExit:\n                // best effort, because we cannot know what the exit status here\n                return T.effect.map(c.acquire, (a) => ({\n                    a,\n                    release: c.release(a, done(undefined))\n                }));\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, allocate);\n            case ManagedTag.Chain:\n                return T.bracketExit(allocate(c.left), (leak, exit) => (exit._tag === \"Done\" ? T.unit : leak.release), (leak) => T.effect.map(allocate(c.bind(leak.a)), \n                // Combine the finalizer actions of the outer and inner resource\n                (innerLeak) => ({\n                    a: innerLeak.a,\n                    release: T.effect.onComplete(innerLeak.release, leak.release)\n                })));\n        }\n    });\n}\n/**\n * Use a resource to provide part of the environment to an effect\n * @param man\n * @param ma\n */\nexport function provide(man, inverted = \"regular\") {\n    return (ma) => use(man, (r) => T.provide(r, inverted)(ma));\n}\nexport const URI = \"matechs/Managed\";\nexport const managed = {\n    URI,\n    of: pure,\n    map: map_,\n    ap: ap_,\n    chain: chain_\n};\nexport function getSemigroup(Semigroup) {\n    return {\n        concat(x, y) {\n            return zipWith(x, y, Semigroup.concat);\n        }\n    };\n}\nexport function getMonoid(Monoid) {\n    return Object.assign(Object.assign({}, getSemigroup(Monoid)), { empty: pure(Monoid.empty) });\n}\nfunction provideAll(r) {\n    return (ma) => toM(() => fromM(ma)(r));\n}\nexport const Do = () => DoG(managed);\nexport const sequenceS = SS(managed);\nexport const sequenceT = ST(managed);\nexport const sequenceOption = Op.option.sequence(managed);\nexport const traverseOption = (f) => (ta) => Op.option.traverse(managed)(ta, f);\nexport const wiltOption = (f) => (wa) => Op.option.wilt(managed)(wa, f);\nexport const witherOption = (f) => (ta) => Op.option.wither(managed)(ta, f);\nexport const sequenceEither = Ei.either.sequence(managed);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(managed)(ta, f);\nexport const sequenceTree = TR.tree.sequence(managed);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(managed)(ta, f);\nexport const sequenceArray = Ar.array.sequence(managed);\nexport const traverseArray = (f) => (ta) => Ar.array.traverse(managed)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => Ar.array.traverseWithIndex(managed)(ta, f);\nexport const wiltArray = (f) => (wa) => Ar.array.wilt(managed)(wa, f);\nexport const witherArray = (f) => (ta) => Ar.array.wither(managed)(ta, f);\nexport const sequenceRecord = RE.record.sequence(managed);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(managed)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(managed)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(managed)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(managed)(ta, f);\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\nimport { function as F, option as O, pipeable as P } from \"fp-ts\";\nexport function isCons(list) {\n    return list._tag === \"cons\";\n}\nexport function isNil(list) {\n    return list._tag === \"nil\";\n}\nexport const nil = { _tag: \"nil\" };\nexport function cons(h, t) {\n    return {\n        _tag: \"cons\",\n        head: h,\n        tail: t\n    };\n}\nexport function of(a) {\n    return cons(a, nil);\n}\nexport function foldl(list, b, f) {\n    let iter = list;\n    let seed = b;\n    while (isCons(iter)) {\n        seed = f(seed, iter.head);\n        iter = iter.tail;\n    }\n    return seed;\n}\nexport function foldlc(b, f) {\n    return (list) => foldl(list, b, f);\n}\nexport function reverse(list) {\n    return foldl(list, nil, (t, h) => cons(h, t));\n}\nexport function foldr(list, b, f) {\n    return P.pipe(list, reverse, foldlc(b, F.flip(f)));\n}\nexport function snoc(append, list) {\n    return foldr(list, of(append), cons);\n}\nexport function cata(list, ifCons, ifNil) {\n    if (isCons(list)) {\n        return ifCons(list.head, list.tail);\n    }\n    return ifNil();\n}\nexport function catac(ifCons, ifNil) {\n    return (list) => cata(list, ifCons, ifNil);\n}\nexport function head(list) {\n    return cata(list, O.some, () => O.none);\n}\nexport function tail(list) {\n    return cata(list, (_, rest) => O.some(rest), () => O.none);\n}\nexport function last(list) {\n    if (isNil(list)) {\n        return O.none;\n    }\n    let iter = list;\n    while (isCons(iter.tail)) {\n        iter = iter.tail;\n    }\n    return O.some(iter.head);\n}\nexport const isEmpty = isNil;\nexport const nonEmpty = F.not(isNil);\nexport function find(list, f) {\n    let iter = list;\n    while (isCons(iter)) {\n        if (f(iter.head)) {\n            return O.some(iter.head);\n        }\n        iter = iter.tail;\n    }\n    return O.none;\n}\nexport function findc(f) {\n    return (list) => find(list, f);\n}\nexport function foldrc(b, f) {\n    return (list) => foldr(list, b, f);\n}\nexport function map(list, f) {\n    return P.pipe(list, foldlc(nil, (t, a) => cons(f(a), t)), reverse);\n}\nexport function lift(f) {\n    return (list) => map(list, f);\n}\nexport function filter(list, f) {\n    return foldr(list, nil, (a, t) => (f(a) ? cons(a, t) : t));\n}\nexport function filterc(f) {\n    return (list) => filter(list, f);\n}\nexport function concat(front, back) {\n    return foldr(front, back, cons);\n}\n/**\n * Get the size of a list.\n *\n * This has pathologically bad performance.\n * @param list\n */\nexport function size(list) {\n    let ct = 0;\n    let iter = list;\n    while (isCons(iter)) {\n        ct++;\n        iter = iter.tail;\n    }\n    return ct;\n}\nexport function chain(list, f) {\n    return P.pipe(list, lift(f), foldlc(nil, concat));\n}\nexport function ap(list, fns) {\n    return chain(list, (a) => map(fns, (f) => f(a)));\n}\nexport function flatten(list) {\n    return foldl(list, nil, concat);\n}\nexport function fromArray(as) {\n    return as.reduceRight((t, h) => cons(h, t), nil);\n}\nexport function toArray(as) {\n    const out = [];\n    let iter = as;\n    while (isCons(iter)) {\n        out.push(iter.head);\n        iter = iter.tail;\n    }\n    return out;\n}\nexport const URI = \"matechs/WaveList\";\nexport const instances = {\n    URI,\n    map,\n    of,\n    ap: F.flip(ap),\n    chain\n};\n","// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* istanbul ignore file */\nimport { option as O, pipeable as P } from \"fp-ts\";\nimport * as l from \"./list\";\nimport { cons, nil } from \"./list\";\nclass DequeueImpl {\n    constructor(front, back) {\n        this.front = front;\n        this.back = back;\n    }\n    take() {\n        return l.cata(this.front, (h, t) => O.some([h, new DequeueImpl(t, this.back)]), () => P.pipe(this.back, l.reverse, l.catac((h, t) => O.some([h, new DequeueImpl(t, nil)]), () => O.none)));\n    }\n    offer(a) {\n        return new DequeueImpl(this.front, cons(a, this.back));\n    }\n    pull() {\n        return l.cata(this.back, (h, t) => O.some([h, new DequeueImpl(this.front, t)]), () => P.pipe(this.front, l.reverse, l.catac((h, t) => O.some([h, new DequeueImpl(nil, t)]), () => O.none)));\n    }\n    push(a) {\n        return new DequeueImpl(cons(a, this.front), this.back);\n    }\n    filter(p) {\n        return new DequeueImpl(l.filter(this.front, p), l.filter(this.back, p));\n    }\n    size() {\n        return l.size(this.front) + l.size(this.back);\n    }\n    isEmpty() {\n        return l.isEmpty(this.front) && l.isEmpty(this.back);\n    }\n    find(p) {\n        return O.option.alt(l.find(this.front, p), () => l.find(this.back, p));\n    }\n}\nexport function from(front, back) {\n    return new DequeueImpl(front, back);\n}\nexport function empty() {\n    return from(nil, nil);\n}\nexport function of(a) {\n    return from(l.of(a), nil);\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ticket.ts\n  credits to original author\n */\nimport * as T from \"./effect\";\nexport function ticketExit(ticket, exit) {\n    if (exit._tag === \"Interrupt\") {\n        return ticket.cleanup;\n    }\n    return T.unit;\n}\nexport function ticketUse(ticket) {\n    return ticket.acquire;\n}\nexport function makeTicket(acquire, cleanup) {\n    return {\n        acquire,\n        cleanup\n    };\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/semaphore.ts\n  credits to original author\n */\nimport { either as E, function as F, option as O, pipeable as P } from \"fp-ts\";\nimport { empty } from \"./original/support/dequeue\";\nimport { makeDeferred } from \"./deferred\";\nimport { makeRef } from \"./ref\";\nimport { makeTicket, ticketExit, ticketUse } from \"./ticket\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nconst isReservationFor = (latch) => (rsv) => rsv[1] === latch;\nfunction sanityCheck(n) {\n    if (n < 0) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits must be non negative\"));\n    }\n    if (Math.round(n) !== n) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits may not be fractional\"));\n    }\n    return T.unit;\n}\nfunction makeSemaphoreImpl(ref) {\n    const releaseN = (n) => T.applySecond(sanityCheck(n), T.uninterruptible(n === 0\n        ? T.unit\n        : T.flatten(ref.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.take(), O.fold(() => [T.unit, E.right(n)], ([[needed, latch], q]) => n >= needed\n            ? [\n                T.applyFirst(latch.done(undefined), n > needed ? releaseN(n - needed) : T.unit),\n                E.left(q)\n            ]\n            : [T.unit, E.left(q.push([needed - n, latch]))])), (ready) => [T.unit, E.right(ready + n)]))))));\n    const cancelWait = (n, latch) => T.uninterruptible(T.flatten(ref.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.find(isReservationFor(latch)), O.fold(() => [releaseN(n), E.left(waiting)], ([pending]) => [\n        releaseN(n - pending),\n        E.left(waiting.filter(F.not(isReservationFor(latch))))\n    ])), (ready) => [T.unit, E.right(ready + n)])))));\n    const ticketN = (n) => effect.chain(makeDeferred(), (latch) => ref.modify((current) => P.pipe(current, E.fold((waiting) => [\n        makeTicket(latch.wait, cancelWait(n, latch)),\n        E.left(waiting.offer([n, latch]))\n    ], (ready) => ready >= n\n        ? [makeTicket(T.unit, releaseN(n)), E.right(ready - n)]\n        : [\n            makeTicket(latch.wait, cancelWait(n, latch)),\n            E.left(empty().offer([n - ready, latch]))\n        ]))));\n    const acquireN = (n) => T.applySecond(sanityCheck(n), n === 0 ? T.unit : T.bracketExit(ticketN(n), ticketExit, ticketUse));\n    const withPermitsN = (n, inner) => {\n        const acquire = T.interruptible(acquireN(n));\n        const release = releaseN(n);\n        return T.bracket(acquire, F.constant(release), () => inner);\n    };\n    const available = effect.map(ref.get, E.fold((q) => -1 * q.size(), F.identity));\n    return {\n        acquireN,\n        acquire: acquireN(1),\n        releaseN,\n        release: releaseN(1),\n        withPermitsN,\n        withPermit: (inner) => withPermitsN(1, inner),\n        available\n    };\n}\n/**\n * Allocate a semaphore.\n *\n * @param n the number of permits\n * This must be non-negative\n */\nexport function makeSemaphore(n) {\n    return T.applySecond(sanityCheck(n), effect.map(makeRef(E.right(n)), makeSemaphoreImpl));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/queue.ts\n  credits to original author\n */\nimport { either as E, function as F, option as O, pipeable as P } from \"fp-ts\";\nimport { makeDeferred } from \"./deferred\";\nimport { makeRef } from \"./ref\";\nimport { natNumber } from \"./sanity\";\nimport { makeSemaphore } from \"./semaphore\";\nimport { empty, of } from \"./original/support/dequeue\";\nimport { makeTicket, ticketExit, ticketUse } from \"./ticket\";\nimport * as T from \"./effect\";\nimport { effect } from \"./effect\";\nconst initial = () => E.right(empty());\nconst poption = P.pipeable(O.option);\nconst unboundedOffer = (queue, a) => queue.offer(a);\n// TODO: Need a better way of checking for this\n// Possibly predicates that allow testing if the queue is at least of some size\nconst slidingOffer = (n) => (queue, a) => queue.size() >= n\n    ? P.pipe(queue.take(), poption.map((t) => t[1]), O.getOrElse(() => queue)).offer(a)\n    : queue.offer(a);\nconst droppingOffer = (n) => (queue, a) => queue.size() >= n ? queue : queue.offer(a);\nfunction makeConcurrentQueueImpl(state, factory, overflowStrategy, \n// This is effect that precedes offering\n// in the case of a boudned queue it is responsible for acquiring the semaphore\nofferGate, \n// This is the function that wraps the constructed take IO action\n// In the case of a bounded queue, it is responsible for releasing the\n// semaphore and re-acquiring it on interrupt\ntakeGate) {\n    function cleanupLatch(latch) {\n        return T.asUnit(state.update((current) => P.pipe(current, E.fold((waiting) => E.left(waiting.filter((item) => item !== latch)), (available) => E.right(available)))));\n    }\n    const take = takeGate(T.bracketExit(effect.chain(factory, (latch) => state.modify((current) => P.pipe(current, E.fold((waiting) => [\n        makeTicket(latch.wait, cleanupLatch(latch)),\n        E.left(waiting.offer(latch))\n    ], (ready) => P.pipe(ready.take(), poption.map(([next, q]) => [makeTicket(T.pure(next), T.unit), E.right(q)]), O.getOrElse(() => [\n        makeTicket(latch.wait, cleanupLatch(latch)),\n        E.left(of(latch))\n    ])))))), ticketExit, ticketUse));\n    const offer = (a) => T.applySecond(offerGate, T.uninterruptible(T.flatten(state.modify((current) => P.pipe(current, E.fold((waiting) => P.pipe(waiting.take(), poption.map(([next, q]) => [next.done(a), E.left(q)]), O.getOrElse(() => [T.unit, E.right(overflowStrategy(empty(), a))])), (available) => [T.unit, E.right(overflowStrategy(available, a))]))))));\n    return {\n        take,\n        offer\n    };\n}\n/**\n * Create an unbounded concurrent queue\n */\nexport function unboundedQueue() {\n    return effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), unboundedOffer, T.unit, F.identity));\n}\nconst natCapacity = natNumber(new Error(\"Die: capacity must be a natural number\"));\n/**\n * Create a bounded queue with the given capacity that drops older offers\n * @param capacity\n */\nexport function slidingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), slidingOffer(capacity), T.unit, F.identity)));\n}\n/**\n * Create a dropping queue with the given capacity that drops offers on full\n * @param capacity\n */\nexport function droppingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect.map(makeRef(initial()), (ref) => makeConcurrentQueueImpl(ref, makeDeferred(), droppingOffer(capacity), T.unit, F.identity)));\n}\n/**\n * Create a bounded queue that blocks offers on capacity\n * @param capacity\n */\nexport function boundedQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), T.effect.zipWith(makeRef(initial()), makeSemaphore(capacity), (ref, sem) => makeConcurrentQueueImpl(ref, makeDeferred(), unboundedOffer, sem.acquire, (inner) => \n    // Before take, we must release the semaphore. If we are interrupted we should re-acquire the item\n    T.bracketExit(sem.release, (_, exit) => (exit._tag === \"Interrupt\" ? sem.acquire : T.unit), () => inner))));\n}\n","import * as T from \"./effect\";\n/* tested in wave */\n/* istanbul ignore next */\nexport const natNumber = (msg) => (n) => n < 0 || Math.round(n) !== n ? T.raiseAbort(msg) : T.unit;\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nexport var SinkStepTag;\n(function (SinkStepTag) {\n    SinkStepTag[SinkStepTag[\"Cont\"] = 0] = \"Cont\";\n    SinkStepTag[SinkStepTag[\"Done\"] = 1] = \"Done\";\n})(SinkStepTag || (SinkStepTag = {}));\nexport function sinkCont(s) {\n    return { _tag: SinkStepTag.Cont, state: s };\n}\nexport function sinkDone(s, leftover) {\n    return { _tag: SinkStepTag.Done, state: s, leftover };\n}\nexport function isSinkCont(s) {\n    return s._tag === SinkStepTag.Cont;\n}\nexport function isSinkDone(s) {\n    return s._tag === SinkStepTag.Done;\n}\nexport function sinkStepLeftover(s) {\n    if (s._tag === SinkStepTag.Cont) {\n        return [];\n    }\n    else {\n        return s.leftover;\n    }\n}\nexport function sinkStepState(s) {\n    return s.state;\n}\nexport function map(step, f) {\n    return Object.assign(Object.assign({}, step), { state: f(step.state) });\n}\nexport function mapWith(f) {\n    return (step) => map(step, f);\n}\nexport function traverse(F) {\n    return (step, f) => F.map(f(step.state), (s1) => (Object.assign(Object.assign({}, step), { state: s1 })));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\n/* tested in wave */\n/* istanbul ignore file */\nimport { option as O, function as F, pipeable as P } from \"fp-ts\";\nimport { sinkDone, sinkCont, isSinkDone } from \"./step\";\nimport * as T from \"../effect\";\nimport { effect } from \"../effect\";\n/**\n * Step a sink repeatedly.\n * If the sink completes before consuming all of the input, then the done state will include the ops leftovers\n * and anything left in the array\n * @param sink\n * @param s\n * @param multi\n */\nexport function stepMany(sink, s, multi) {\n    function go(current, i) {\n        if (i === multi.length) {\n            return T.pure(current);\n        }\n        else if (isSinkDone(current)) {\n            return T.pure(sinkDone(current.state, current.leftover.concat(multi.slice(i))));\n        }\n        else {\n            return effect.chain(sink.step(current.state, multi[i]), (next) => go(next, i + 1));\n        }\n    }\n    return go(sinkCont(s), 0);\n}\nexport function liftPureSink(sink) {\n    return {\n        initial: T.pure(sink.initial),\n        step: (state, next) => T.pure(sink.step(state, next)),\n        extract: F.flow(sink.extract, T.pure)\n    };\n}\nexport function collectArraySink() {\n    const initial = T.pure(sinkCont([]));\n    function step(state, next) {\n        return T.pure(sinkCont([...state, next]));\n    }\n    return { initial, extract: T.pure, step };\n}\nexport function drainSink() {\n    const initial = T.pure(sinkCont(undefined));\n    const extract = F.constant(T.unit);\n    function step(_state, _next) {\n        return T.pure(sinkCont(undefined));\n    }\n    return { initial, extract, step };\n}\n/**\n * A sink that consumes no input to produce a constant b\n * @param b\n */\nexport function constSink(b) {\n    const initial = T.pure(sinkDone(undefined, []));\n    const extract = F.constant(T.pure(b));\n    function step(_state, _next) {\n        return T.pure(sinkDone(undefined, []));\n    }\n    return { initial, extract, step };\n}\n/**\n * A sink that produces the head element of a stream (if any elements are emitted)\n */\nexport function headSink() {\n    const initial = T.pure(sinkCont(O.none));\n    function step(_state, next) {\n        return T.pure(sinkDone(O.some(next), []));\n    }\n    return { initial, extract: T.pure, step };\n}\n/**\n * A sink that produces the last element of a stream (if any elements are emitted)\n */\nexport function lastSink() {\n    const initial = T.pure(sinkCont(O.none));\n    function step(_state, next) {\n        return T.pure(sinkCont(O.some(next)));\n    }\n    return { initial, extract: T.pure, step };\n}\n/**\n * A sink that evalutes an action for every element of a sink and produces no value\n * @param f\n */\nexport function evalSink(f) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, next) {\n        return P.pipe(f(next), T.apSecond(T.pure(sinkCont(_state))));\n    }\n    const extract = F.constant(T.unit);\n    return { initial, extract, step };\n}\n/**\n * A sink that consumes elements for which a predicate does not hold.\n *\n * Returns the first element for which the predicate did hold if such an element is found.\n * @param f\n */\nexport function drainWhileSink(f) {\n    const initial = sinkCont(O.none);\n    function step(_state, a) {\n        return f(a) ? sinkCont(O.none) : sinkDone(O.some(a), []);\n    }\n    const extract = F.identity;\n    return liftPureSink({ initial, extract, step });\n}\n/**\n * A sink that offers elements into a concurrent queue\n *\n * @param queue\n */\nexport function queueSink(queue) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(a), sinkCont(undefined));\n    }\n    const extract = F.constant(T.unit);\n    return { initial, extract, step };\n}\n/**\n * A sink that offers elements into a queue after wrapping them in an option.\n *\n * The sink will offer one final none into the queue when the stream terminates\n * @param queue\n */\nexport function queueOptionSink(queue) {\n    const initial = T.pure(sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(O.some(a)), sinkCont(undefined));\n    }\n    const extract = F.constant(queue.offer(O.none));\n    return { initial, extract, step };\n}\n/**\n * Map the output value of a sink\n * @param sink\n * @param f\n */\nexport function map(sink, f) {\n    return Object.assign(Object.assign({}, sink), { extract: F.flow(sink.extract, T.map(f)) });\n}\n","import * as list from \"../list\";\nimport { option as O, either as E } from \"fp-ts\";\nimport * as M from \"../managed\";\nimport * as T from \"../effect\";\nexport function queueUtils() {\n    const ops = list.empty();\n    const hasCB = {};\n    function next(o) {\n        if (hasCB.cb) {\n            const cb = hasCB.cb;\n            hasCB.cb = undefined;\n            cb(o);\n        }\n        else {\n            // TODO: figure out how to trigger if even possible\n            /* istanbul ignore next */\n            list.push(ops, o);\n        }\n    }\n    return { ops, hasCB, next };\n}\nexport function runFromQueue(op, callback) {\n    switch (op._tag) {\n        case \"error\":\n            callback(E.left(op.e));\n            // this will never be called\n            /* istanbul ignore next */\n            // tslint:disable-next-line: no-empty\n            return () => { };\n        case \"complete\":\n            callback(E.right(O.none));\n            // tslint:disable-next-line: no-empty\n            return () => { };\n        case \"offer\":\n            callback(E.right(O.some(op.a)));\n            // tslint:disable-next-line: no-empty\n            return () => { };\n    }\n}\nexport function emitter(ops, hasCB) {\n    return M.pure(T.async((callback) => {\n        const op = list.popUnsafe(ops);\n        if (op !== null) {\n            runFromQueue(op, callback);\n        }\n        else {\n            hasCB.cb = (o) => {\n                // TODO: figure out how to trigger if even possible, triggered by line 22\n                /* istanbul ignore if */\n                if (list.isNotEmpty(ops)) {\n                    list.push(ops, o);\n                    const op = list.popUnsafe(ops);\n                    if (op !== null) {\n                        runFromQueue(op, callback)();\n                    }\n                }\n                else {\n                    runFromQueue(o, callback)();\n                }\n            };\n        }\n        /* istanbul ignore next */\n        return (cb) => {\n            cb();\n        };\n    }));\n}\n","/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/stream.ts\n  credits to original author\n */\nimport { array as A, either as Ei, function as F, option as O, pipeable as P, apply as AP, tree as TR, record as RE } from \"fp-ts\";\nimport { Writable } from \"stream\";\nimport * as T from \"../effect\";\nimport { effect } from \"../effect\";\nimport * as deferred from \"../deferred\";\nimport * as M from \"../managed\";\nimport * as cq from \"../queue\";\nimport * as ref from \"../ref\";\nimport * as semaphore from \"../semaphore\";\nimport { collectArraySink, drainSink, drainWhileSink, queueSink, stepMany } from \"./sink\";\nimport { isSinkCont, sinkStepLeftover, sinkStepState } from \"./step\";\nimport * as su from \"./support\";\nimport { Do as DoG } from \"fp-ts-contrib/es6/Do\";\nimport { sequenceS as SS, sequenceT as ST } from \"fp-ts/es6/Apply\";\nconst toS = (_) => _;\nconst fromS = (_) => _;\n// The contract of a Stream's fold is that state is preserved within the lifecycle of the managed\n// Therefore, we must track the offset in the array via a ref\n// This allows, for instance, this to work with transduce\nfunction arrayFold(as) {\n    return M.encaseEffect(effect.map(ref.makeRef(0), (cell) => (initial, cont, f) => {\n        function step(current) {\n            /* istanbul ignore else */\n            if (cont(current)) {\n                return P.pipe(cell.modify((i) => [i, i + 1]), // increment the i\n                T.chain((i) => i < as.length ? effect.chain(f(current, as[i]), step) : T.pure(current)));\n            }\n            else {\n                return T.pure(current);\n            }\n        }\n        return step(initial);\n    }));\n}\nfunction iteratorSource(iter) {\n    return T.sync(() => {\n        const n = iter.next();\n        if (n.done) {\n            return O.none;\n        }\n        return O.some(n.value);\n    });\n}\nfunction* rangeIterator(start, interval, end) {\n    let current = start;\n    while (!end || current < end) {\n        yield current;\n        current += interval || 1;\n    }\n}\n/**\n * Create a Stream from a source A action.\n *\n * The contract is that the acquisition of the resource should produce a Wave that may be repeatedly evaluated\n * during the scope of the Managed\n * If there is more data in the stream, the Wave should produce some(A) otherwise it should produce none.\n * Once it produces none, it will not be evaluated again.\n * @param r\n */\nexport function fromSource(r) {\n    return toS(M.managed.map(r, (pull) => {\n        function fold(initial, cont, step) {\n            return cont(initial)\n                ? P.pipe(pull, T.chain((out) => P.pipe(out, O.fold(() => T.pure(initial), (a) => effect.chain(step(initial, a), (next) => fold(next, cont, step))))))\n                : T.pure(initial);\n        }\n        return fold;\n    }));\n}\n/**\n * Create a stream from an Array\n * @param as\n */\nexport function fromArray(as) {\n    return toS(arrayFold(as));\n}\n/**\n * Create a stream from an iterator\n * @param iter\n */\nexport function fromIterator(iter) {\n    return P.pipe(M.encaseEffect(T.sync(iter)), M.map(iteratorSource), fromSource);\n}\n/**\n * Create a stream that emits the elements in a range\n * @param start\n * @param interval\n * @param end\n */\nexport function fromRange(start, interval, end) {\n    return fromIterator(() => rangeIterator(start, interval, end));\n}\n/**\n * Create a stream from an existing iterator\n * @param iter\n */\nexport function fromIteratorUnsafe(iter) {\n    return fromIterator(() => iter);\n}\n/**\n * Create a stream that emits a single element\n * @param a\n */\nexport function once(a) {\n    function fold(initial, cont, f) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return f(initial, a);\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\n/**\n * Create a stream that emits As as fast as possible\n *\n * Be cautious when using this. If your entire pipeline is full of synchronous actions you can block the main\n * thread until the stream runs to completion (or forever) using this\n * @param a\n */\nexport function repeatedly(a) {\n    function fold(initial, cont, f) {\n        function step(current) {\n            if (cont(current)) {\n                return T.shiftAfter(effect.chain(f(current, a), step));\n            }\n            return T.shiftAfter(T.pure(current));\n        }\n        return step(initial);\n    }\n    return toS(M.pure(fold));\n}\nexport function periodically(ms) {\n    return P.pipe(M.encaseEffect(ref.makeRef(-1)), M.map((r) => P.pipe(T.delay(r.update((n) => n + 1), ms), T.map(O.some))), fromSource);\n}\n/**\n * A stream that emits no elements an immediately terminates\n */\nexport const empty = toS(M.pure((initial, _cont, _f) => T.pure(initial)));\n/**\n * Create a stream that evalutes w to emit a single element\n * @param w\n */\nexport function encaseEffect(w) {\n    function fold(initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return P.pipe(w, T.chain((a) => step(initial, a)));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\n/**\n * Create a stream that immediately fails\n * @param e\n */\nexport function raised(e) {\n    return encaseEffect(T.raiseError(e));\n}\n/**\n * Create a stream that immediately aborts\n * @param e\n */\nexport function aborted(e) {\n    return encaseEffect(T.raiseAbort(e));\n}\n/**\n * Create a stream that immediately emits either 0 or 1 elements\n * @param opt\n */\nexport function fromOption(opt) {\n    return P.pipe(opt, O.fold(F.constant(empty), once));\n}\n/**\n * Zip all stream elements with their index ordinals\n * @param stream\n */\nexport function zipWithIndex(stream) {\n    return toS(M.managed.map(fromS(stream), (fold) => {\n        function zipFold(initial, cont, f) {\n            const folded = fold([initial, 0], (s) => cont(s[0]), ([s, i], a) => effect.map(f(s, [a, i]), (s) => [s, i + 1]));\n            return effect.map(folded, (s) => s[0]);\n        }\n        return zipFold;\n    }));\n}\n/**\n * Create a stream that emits all the elements of stream1 followed by all the elements of stream2\n * @param stream1\n * @param stream2\n */\nfunction concatL_(stream1, stream2) {\n    const w1 = fromS(stream1);\n    const w2 = () => fromS(stream2());\n    function fold(initial, cont, step) {\n        return P.pipe(M.use(w1, (fold1) => fold1(initial, cont, step)), T.chain((intermediate) => {\n            /* istanbul ignore else */\n            if (cont(intermediate)) {\n                return M.use(w2(), (fold2) => fold2(intermediate, cont, step));\n            }\n            else {\n                return T.pure(intermediate);\n            }\n        }));\n    }\n    return toS(M.pure(fold));\n}\nexport function concatL(stream2) {\n    return (s) => concatL_(s, stream2);\n}\n/**\n * Strict form of concatL\n * @param stream1\n * @param stream2\n */\nfunction concat_(stream1, stream2) {\n    return concatL_(stream1, F.constant(stream2));\n}\nexport function concat(stream2) {\n    return (s) => concat_(s, stream2);\n}\n/**\n * Creates a stream that repeatedly emits the elements of a stream forever.\n *\n * The elements are not cached, any effects required (i.e. opening files or sockets) are repeated for each cycle\n * @param stream\n */\nexport function repeat(stream) {\n    return concatL_(stream, () => repeat(stream));\n}\nfunction map_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outer) => (initial, cont, step) => outer(initial, cont, (s, a) => step(s, f(a)))));\n}\n/**\n * Map the elements of a stream\n * @param stream\n * @param f\n */\nexport function map(f) {\n    return (stream) => map_(stream, f);\n}\n/**\n * Map every element emitted by stream to b\n * @param stream\n * @param b\n */\nfunction as_(stream, b) {\n    return map_(stream, F.constant(b));\n}\nexport function as(b) {\n    return (s) => as_(s, b);\n}\n/**\n * Filter the elements of a stream by a predicate\n * @param stream\n * @param f\n */\nfunction filter_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outer) => (initial, cont, step) => outer(initial, cont, (s, a) => (f(a) ? step(s, a) : T.pure(s)))));\n}\nexport function filter(f) {\n    return (s) => filter_(s, f);\n}\n/**\n * Filter the stream so that only items that are not equal to the previous item emitted are emitted\n * @param eq\n */\nfunction distinctAdjacent_(stream, eq) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        const init = [initial, O.none];\n        const c = ([s]) => cont(s);\n        function stp(current, next) {\n            return P.pipe(current[1], O.fold(\n            // We haven't seen anything so just return\n            () => effect.map(step(current[0], next), (s) => [s, O.some(next)]), (seen) => eq.equals(seen, next)\n                ? T.pure(current)\n                : effect.map(step(current[0], next), (s) => [s, O.some(next)])));\n        }\n        return effect.map(base(init, c, stp), (s) => s[0]);\n    }));\n}\nexport function distinctAdjacent(eq) {\n    return (s) => distinctAdjacent_(s, eq);\n}\n/**\n * Fold the elements of this stream together using an effect.\n *\n * The resulting stream will emit 1 element produced by the effectful fold\n * @param stream\n * @param f\n * @param seed\n */\nfunction foldM_(stream, f, seed) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return effect.chain(base(seed, F.constant(true), f), (result) => step(initial, result));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }));\n}\nexport function foldM(seed, f) {\n    return (s) => foldM_(s, f, seed);\n}\n/**\n * Fold the elements of a stream together purely\n * @param stream\n * @param f\n * @param seed\n */\nfunction fold_(stream, f, seed) {\n    return foldM_(stream, (b, a) => T.pure(f(b, a)), seed);\n}\nfunction t2(a, b) {\n    return [a, b];\n}\nexport function fold(seed, f) {\n    return (s) => fold_(s, f, seed);\n}\n/**\n * Scan across the elements the stream.\n *\n * This is like foldM but emits every intermediate seed value in the resulting stream.\n * @param stream\n * @param f\n * @param seed\n */\nfunction scanM_(stream, f, seed) {\n    return concat_(once(seed), toS(P.pipe(M.zip(fromS(stream), M.encaseEffect(ref.makeRef(seed))), M.map(([base, accum]) => {\n        function fold(initial, cont, step) {\n            /* istanbul ignore else */\n            if (cont(initial)) {\n                // We need to figure out how to drive the base fold for a single step\n                // Thus, we switch state from true to false on execution\n                return P.pipe(accum.get, T.chain((b) => base(t2(b, true), (s) => s[1], (s, a) => effect.map(f(s[0], a), (r) => t2(r, false)))), T.chain(\n                // If this is still true, we didn't consume anything so advance\n                (s) => s[1]\n                    ? T.pure(initial)\n                    : T.applySecond(accum.set(s[0]), effect.chain(step(initial, s[0]), (next) => fold(next, cont, step)))));\n            }\n            else {\n                return T.pure(initial);\n            }\n        }\n        return fold;\n    }))));\n}\nexport function scanM(seed, f) {\n    return (s) => scanM_(s, f, seed);\n}\n/**\n * Purely scan a stream\n * @param stream\n * @param f\n * @param seed\n */\nfunction scan_(stream, f, seed) {\n    return scanM_(stream, (b, a) => T.pure(f(b, a)), seed);\n}\nexport function scan(seed, f) {\n    return (s) => scan_(s, f, seed);\n}\nfunction chain_(stream, f) {\n    return toS(M.managed.map(fromS(stream), (outerfold) => (initial, cont, step) => outerfold(initial, cont, (s, a) => {\n        /* istanbul ignore next */\n        if (cont(s)) {\n            const inner = f(a);\n            return M.use(fromS(inner), (innerfold) => innerfold(s, cont, step));\n        }\n        else {\n            return T.pure(s);\n        }\n    })));\n}\n/**\n * Monadic chain on a stream\n * @param stream\n * @param f\n */\nexport function chain(f) {\n    return (stream) => toS(M.managed.map(fromS(stream), (outerfold) => (initial, cont, step) => outerfold(initial, cont, (s, a) => {\n        /* istanbul ignore next */\n        if (cont(s)) {\n            const inner = f(a);\n            return M.use(fromS(inner), (innerfold) => innerfold(s, cont, step));\n        }\n        else {\n            return T.pure(s);\n        }\n    })));\n}\n/**\n * Flatten a stream of streams\n * @param stream\n */\nexport function flatten(stream) {\n    return chain_(stream, F.identity);\n}\n/**\n * Map each element of the stream effectfully\n * @param stream\n * @param f\n */\nfunction mapM_(stream, f) {\n    return chain_(stream, (a) => encaseEffect(f(a)));\n}\nexport function mapM(f) {\n    return (s) => mapM_(s, f);\n}\n/**\n * A stream that emits no elements but never terminates.\n */\nexport const never = mapM_(once(undefined), F.constant(T.never));\n/**\n * Transduce a stream via a sink.\n *\n * This repeatedly run a sink to completion on the elements of the input stream and emits the result of each run\n * Leftovers from a previous run are fed to the next run\n *\n * @param stream\n * @param sink\n */\nfunction transduce_(stream, sink) {\n    return toS(M.managed.map(fromS(stream), (base) => (initial, cont, step) => {\n        function feedSink(foldState, sinkState, chunk) {\n            return effect.chain(stepMany(sink, sinkState, chunk), (nextSinkStep) => isSinkCont(nextSinkStep)\n                ? // We need to let more data in to drive the sink\n                    T.pure([foldState, nextSinkStep.state, true])\n                : // We have a completion, so extract the value and then use it to advance the fold state\n                    P.pipe(sinkStepState(nextSinkStep), sink.extract, T.chain((b) => step(foldState, b)), T.chain((nextFoldState) => {\n                        const leftover = sinkStepLeftover(nextSinkStep);\n                        // We will re-initialize the sink\n                        return P.pipe(sink.initial, T.chain((nextNextSinkState) => {\n                            if (cont(nextFoldState) && leftover.length > 0) {\n                                return feedSink(nextFoldState, nextNextSinkState.state, leftover);\n                            }\n                            else {\n                                return T.pure([\n                                    nextFoldState,\n                                    nextNextSinkState.state,\n                                    false\n                                ]);\n                            }\n                        }));\n                    })));\n        }\n        const derivedInitial = effect.map(sink.initial, (initSink) => [initial, sinkStepState(initSink), false]);\n        return P.pipe(derivedInitial, T.chain((init) => base(init, (s) => cont(s[0]), (s, a) => feedSink(s[0], s[1], [a]))), T.chain(([foldState, sinkState, extract]) => extract && cont(foldState)\n            ? effect.chain(sink.extract(sinkState), (b) => step(foldState, b))\n            : T.pure(foldState)));\n    }));\n}\nexport function transduce(sink) {\n    return (s) => transduce_(s, sink);\n}\n/**\n * Drop some number of elements from a stream\n *\n * Their effects to be produced still occur in the background\n * @param stream\n * @param n\n */\nfunction drop_(stream, n) {\n    return P.pipe(zipWithIndex(stream), filter(([_, i]) => i >= n), map(([a]) => a));\n}\nexport function drop(n) {\n    return (s) => drop_(s, n);\n}\n/**\n * Take some number of elements of a stream\n * @param stream\n * @param n\n */\nfunction take_(stream, n) {\n    return toS(M.managed.map(fromS(stream), (fold) => (initial, cont, step) => effect.map(fold(t2(initial, 0), (t2s) => t2s[1] < n && cont(t2s[0]), (s, a) => effect.map(step(s[0], a), (next) => t2(next, s[1] + 1))), (t2s) => t2s[0])));\n}\nexport function take(n) {\n    return (s) => take_(s, n);\n}\n/**\n * Take elements of a stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction takeWhile_(stream, pred) {\n    return toS(M.managed.map(fromS(stream), (fold) => (initial, cont, step) => effect.map(fold(t2(initial, true), (t2s) => t2s[1] && cont(t2s[0]), (s, a) => pred(a)\n        ? effect.map(step(s[0], a), (next) => t2(next, true))\n        : T.pure(t2(s[0], false))), (t2s) => t2s[0])));\n}\nexport function takeWhile(pred) {\n    return (s) => takeWhile_(s, pred);\n}\n/**\n * Take elements from a stream until a given effect resolves.\n *\n * @param until The effect that will terminate the stream\n * @param stream The stream\n */\nfunction takeUntil_(stream, until) {\n    const wrappedUntil = as({ type: \"until\" })(encaseEffect(until));\n    const wrappedStream = P.pipe(stream, map((value) => ({ type: \"stream\", value })));\n    return P.pipe(mergeAll([wrappedUntil, wrappedStream]), takeWhile((wrapped) => wrapped.type === \"stream\"), filter((wrapped) => wrapped.type === \"stream\"), map((wrapped) => wrapped.value));\n}\nexport function takeUntil(until) {\n    return (s) => takeUntil_(s, until);\n}\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param sink\n */\nfunction into_(stream, sink) {\n    return M.use(fromS(stream), (fold) => P.pipe(sink.initial, T.chain((init) => fold(init, isSinkCont, (s, a) => sink.step(s.state, a))), T.map((s) => s.state), T.chain(sink.extract)));\n}\nexport function into(sink) {\n    return (s) => into_(s, sink);\n}\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param managedSink\n */\nfunction intoManaged_(stream, managedSink) {\n    return M.use(managedSink, (sink) => into_(stream, sink));\n}\nexport function intoManaged(managedSink) {\n    return (s) => intoManaged_(s, managedSink);\n}\n/**\n * Push a stream in a sink to produce the result and the leftover\n * @param stream\n * @param sink\n */\nfunction intoLeftover_(stream, sink) {\n    return M.use(stream, (fold) => P.pipe(sink.initial, T.chain((init) => fold(init, isSinkCont, (s, a) => sink.step(s.state, a))), T.chain((end) => effect.map(sink.extract(end.state), (b) => [b, sinkStepLeftover(end)]))));\n}\nexport function intoLeftover(sink) {\n    return (s) => intoLeftover_(s, sink);\n}\nfunction sinkQueue(stream) {\n    return M.managed.chain(M.zip(\n    // 0 allows maximum backpressure throttling (i.e. a reader must be waiting already to produce the item)\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), ([q, latch]) => {\n        const write = effect.foldExit(into_(map_(stream, O.some), queueSink(q)), (c) => latch.cause(c), F.constant(q.offer(O.none)));\n        return M.as(M.fiber(write), [q, latch]);\n    });\n}\n/**\n * Zip two streams together termitating when either stream is exhausted\n * @param as\n * @param bs\n * @param f\n */\nfunction zipWith_(as, bs, f) {\n    const source = M.zipWith(sinkQueue(as), sinkQueue(bs), ([aq, alatch], [bq, blatch]) => {\n        const atake = P.pipe(aq.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n        // Confirm we have seen the last element\n        () => alatch.done(O.none), () => T.unit // just keep going\n        ))));\n        const agrab = T.raceFirst(atake, alatch.wait);\n        const btake = P.pipe(bq.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n        // Confirm we have seen the last element\n        () => blatch.done(O.none), () => T.unit // just keep going\n        ))));\n        const bgrab = T.raceFirst(btake, blatch.wait);\n        return T.effect.zipWith(agrab, bgrab, (aOpt, bOpt) => O.option.chain(aOpt, (a) => O.option.map(bOpt, (b) => f(a, b))));\n    });\n    return fromSource(source);\n}\nexport function zipWith(bs, f) {\n    return (s) => zipWith_(s, bs, f);\n}\n/**\n * zipWith to form tuples\n * @param as\n * @param bs\n */\nfunction zip_(as, bs) {\n    return zipWith_(as, bs, (a, b) => [a, b]);\n}\nexport function zip(bs) {\n    return (as) => zip_(bs, as);\n}\n/**\n * Given a queue and a Deferred for signalling exits construct a Wave of a pull operation.\n * The protocol is that errors are propogated through the latch and the latch can be used to track completion.\n * Once a none is received through the queue, this read process completes the latch with none to to make the finish durable\n * in the face of repeated reads (which is important for peel)\n *\n * @param queue\n * @param breaker\n */\nfunction queueBreakerSource(queue, breaker) {\n    const take = P.pipe(queue.take, T.chainTap((opt) => P.pipe(opt, O.fold(\n    // Confirm we have seen the last element by closing the breaker so subsequent reads see it\n    F.constant(breaker.done(O.none)), \n    // do nothing to the breaker if we got an element\n    F.constant(T.unit)))));\n    return T.raceFirst(take, breaker.wait);\n}\n/**\n * Construct a Source for a Stream.\n * During the scope of the Managed, Wave will repeatedly pull items from a queue being managed in the background\n * @param stream\n */\nfunction streamQueueSource(stream) {\n    return M.managed.map(sinkQueue(stream), ([q, breaker]) => queueBreakerSource(q, breaker));\n}\n/**\n * Feed a stream into a sink to produce a value.\n *\n * Emits the value and a 'remainder' stream that includes the rest of the elements of the input stream.\n * @param stream\n * @param sink\n */\nfunction peel_(stream, sink) {\n    return toS(M.managed.chain(streamQueueSource(stream), (pull) => {\n        const pullStream = fromSource(M.pure(pull));\n        // We now have a shared pull instantiation that we can use as a sink to drive and return as a stream\n        return fromS(P.pipe(encaseEffect(intoLeftover_(pullStream, sink)), map(([b, left]) => [b, concat_(fromArray(left), pullStream)])));\n    }));\n}\nexport function peel(sink) {\n    return (s) => peel_(s, sink);\n}\nfunction peelManaged_(stream, managedSink) {\n    return toS(M.managed.chain(managedSink, (sink) => fromS(peel_(stream, sink))));\n}\nexport function peelManaged(managedSink) {\n    return (s) => peelManaged_(s, managedSink);\n}\nfunction interruptFiberSlot(slot) {\n    return effect.chain(slot.get, (optFiber) => P.pipe(optFiber, O.fold(() => T.pure(O.none), (f) => T.effect.map(f.interrupt, O.some))));\n}\nfunction waitFiberSlot(slot) {\n    return effect.chain(slot.get, (optFiber) => P.pipe(optFiber, O.fold(() => T.pure(undefined), (f) => T.asUnit(f.wait))));\n}\nfunction singleFiberSlot() {\n    return M.bracket(ref.makeRef(O.none), interruptFiberSlot);\n}\n/**\n * Create a stream that switches to emitting elements of the most recent input stream.\n * @param stream\n */\nexport function switchLatest(stream) {\n    const source = M.managed.chain(streamQueueSource(stream), (pull // read streams\n    ) => M.managed.chain(M.zip(\n    // The queue and latch to push into\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), ([pushQueue, pushBreaker]) => \n    // The internal latch that can be used to signal failures and shut down the read process\n    M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (internalBreaker) => \n    // somewhere to hold the currently running fiber so we can interrupt it on termination\n    M.managed.chain(singleFiberSlot(), (fiberSlot) => {\n        const interruptPushFiber = interruptFiberSlot(fiberSlot);\n        // Spawn a fiber that should push elements from stream into pushQueue as long as it is able\n        function spawnPushFiber(stream) {\n            const writer = P.pipe(\n            // The writer process pushes things into the queue\n            into_(map_(stream, O.some), queueSink(pushQueue)), \n            // We need to trap any errors that occur and send those to internal latch to halt the process\n            // Dont' worry about interrupts, because we perform cleanups for single fiber slot\n            T.foldExit((e) => internalBreaker.done(e), F.constant(T.pure(undefined)) // we can do nothing because we will delegate to the proxy\n            ));\n            return T.applyFirst(interruptPushFiber, effect.chain(T.fork(writer), (f) => fiberSlot.set(O.some(f))));\n        }\n        // pull streams and setup the push fibers appropriately\n        function advanceStreams() {\n            // We need a way of looking ahead to see errors in the output streams in order to cause termination\n            // The push fiber will generate this when it encounters a failure\n            const breakerError = effect.chain(internalBreaker.wait, T.raised);\n            return effect.foldExit(T.raceFirst(pull, breakerError), \n            // In the event of an error either from pull or from upstream we need to shut everything down\n            // On managed unwind the active production fiber will be interrupted if there is one\n            (cause) => pushBreaker.cause(cause), (nextOpt) => P.pipe(nextOpt, O.fold(\n            // nothing left, so we should wait the push fiber's completion and then forward the termination\n            () => P.pipe(T.race(breakerError, waitFiberSlot(fiberSlot)), T.foldExit((c) => pushBreaker.cause(c), // if we get a latchError forward it through to downstream\n            F.constant(pushQueue.offer(O.none)) // otherwise we are done, so lets forward that\n            )), (next) => T.applySecondL(spawnPushFiber(next), advanceStreams))));\n        }\n        // We can configure this source now, but it will be invalid outside of running fibers\n        // Thus we can use managed.fiber\n        const downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n        return M.as(M.fiber(advanceStreams()), downstreamSource);\n    }))));\n    return fromSource(source);\n}\n/**\n * Create a stream that switches to emitting the elements of the most recent stream produced by applying f to the\n * element most recently emitted\n * @param stream\n * @param f\n */\n/* istanbul ignore next */\nfunction chainSwitchLatest_(stream, f) {\n    return switchLatest(map_(stream, f));\n}\n/* istanbul ignore next */\nexport function chainSwitchLatest(f) {\n    return (s) => chainSwitchLatest_(s, f);\n}\nfunction interruptWeaveHandles(ref) {\n    return effect.chain(ref.get, (fibers) => T.asUnit(A.array.traverse(T.effect)(fibers, (fiber) => fiber[1].interrupt)));\n}\n// Track many fibers for the purpose of clean interruption on failure\nconst makeWeave = M.managed.chain(M.encaseEffect(ref.makeRef(0)), (cell) => \n// On cleanup we want to interrupt any running fibers\nM.managed.map(M.bracket(ref.makeRef([]), interruptWeaveHandles), (store) => {\n    function attach(action) {\n        return P.pipe(AP.sequenceS(T.effect)({\n            next: cell.update((n) => n + 1),\n            fiber: T.fork(action)\n        }), T.chainTap(({ next, fiber }) => store.update((handles) => [...handles, [next, fiber]])), T.chainTap(({ next, fiber }) => T.fork(T.applySecond(fiber.wait, store.update(A.filter((h) => h[0] !== next))))), T.asUnit);\n    }\n    return { attach };\n}));\n/**\n * Merge a stream of streams into a single stream.\n *\n * This stream will run up to maxActive streams concurrently to produce values into the output stream.\n * @param stream the input stream\n * @param maxActive the maximum number of streams to hold active at any given time\n * this controls how much active streams are able to collectively produce in the face of a slow downstream consumer\n */\nfunction merge_(stream, maxActive) {\n    const source = M.managed.chain(streamQueueSource(stream), (pull) => M.managed.chain(M.encaseEffect(semaphore.makeSemaphore(maxActive)), (sem) => \n    // create the queue that output will be forced into\n    M.managed.chain(M.encaseEffect(cq.boundedQueue(0)), (pushQueue) => \n    // create the mechanism t hrough which we can signal completion\n    M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (pushBreaker) => M.managed.chain(makeWeave, (weave) => M.managed.chain(M.encaseEffect(deferred.makeDeferred()), (internalBreaker) => {\n        // create a wave action that will proxy elements created by running the stream into the push queue\n        // if any errors occur, we set the breaker\n        function spawnPushFiber(stream) {\n            const writer = P.pipe(\n            // Process to sink elements into the queue\n            into_(map_(stream, O.some), queueSink(pushQueue)), \n            // TODO: I don't think we need to handle interrupts, it shouldn't be possible\n            T.foldExit((e) => internalBreaker.done(e), F.constant(T.pure(undefined))));\n            return weave.attach(sem.withPermit(writer)); // we need a permit to start\n        }\n        // The action that will pull a single stream upstream and attempt to activate it to push downstream\n        function advanceStreams() {\n            const breakerError = effect.chain(internalBreaker.wait, T.raised);\n            return effect.foldExit(T.raceFirst(pull, // we don't want to pull until there is capacity\n            breakerError), (c) => pushBreaker.cause(c), // if upstream errored, we should push the failure downstream immediately\n            (nextOpt // otherwise we should\n            ) => P.pipe(nextOpt, O.fold(\n            // The end has occured\n            F.constant(P.pipe(\n            // We will wait for an error or all active produces to finish\n            T.race(breakerError, sem.acquireN(maxActive)), T.foldExit((c) => pushBreaker.cause(c), F.constant(pushQueue.offer(O.none))))), \n            // Start the push fiber and then keep going\n            (next) => T.applySecondL(sem.withPermit(spawnPushFiber(next)), F.constant(advanceStreams())))));\n        }\n        const downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n        return M.as(M.fiber(advanceStreams()), downstreamSource);\n    }))))));\n    return fromSource(source);\n}\nexport function merge(maxActive) {\n    return (stream) => merge_(stream, maxActive);\n}\nfunction chainMerge_(stream, f, maxActive) {\n    return merge_(map_(stream, f), maxActive);\n}\nexport function chainMerge(maxActive, f) {\n    return (s) => chainMerge_(s, f, maxActive);\n}\nexport function mergeAll(streams) {\n    return merge_(fromArray(streams), streams.length);\n}\n/**\n * Drop elements of the stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction dropWhile_(stream, pred) {\n    return chain_(peel_(stream, drainWhileSink(pred)), ([head, rest]) => concat_(fromOption(head), rest));\n}\nexport function dropWhile(pred) {\n    return (s) => dropWhile_(s, pred);\n}\n/**\n * Collect all the elements emitted by a stream into an array.\n * @param stream\n */\nexport function collectArray(stream) {\n    return into_(stream, collectArraySink());\n}\n/**\n * Evaluate a stream for its effects\n * @param stream\n */\nexport function drain(stream) {\n    return into_(stream, drainSink());\n}\nexport const URI = \"matechs/Stream\";\nexport const stream = {\n    URI,\n    _CTX: \"async\",\n    map: map_,\n    of: (a) => once(a),\n    ap: (sfab, sa) => zipWith_(sfab, sa, (f, a) => f(a)),\n    chain: chain_,\n    as: as_,\n    chainMerge: chainMerge_,\n    chainSwitchLatest: chainSwitchLatest_,\n    concat: concat_,\n    concatL: concatL_,\n    distinctAdjacent: distinctAdjacent_,\n    drop: drop_,\n    dropWhile: dropWhile_,\n    filter: filter_,\n    fold: fold_,\n    foldM: foldM_,\n    into: into_,\n    intoLeftover: intoLeftover_,\n    intoManaged: intoManaged_,\n    mapM: mapM_,\n    merge: merge_,\n    peel: peel_,\n    peelManaged: peelManaged_,\n    scan: scan_,\n    scanM: scanM_,\n    take: take_,\n    takeWhile: takeWhile_,\n    takeUntil: takeUntil_,\n    transduce: transduce_,\n    zip: zip_,\n    zipWith: zipWith_\n};\n/* extensions */\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStream(stream) {\n    return M.managed.chain(M.encaseEffect(T.sync(() => {\n        const { next, ops, hasCB } = su.queueUtils();\n        stream.on(\"end\", () => {\n            next({ _tag: \"complete\" });\n        });\n        stream.on(\"error\", (e) => {\n            next({ _tag: \"error\", e: Ei.toError(e) });\n        });\n        stream.pipe(new Writable({\n            objectMode: true,\n            write(chunk, _, callback) {\n                next({ _tag: \"offer\", a: chunk });\n                callback();\n            }\n        }));\n        return { ops, hasCB };\n    })), ({ hasCB, ops }) => su.emitter(ops, hasCB));\n}\n/* istanbul ignore next */\nexport function fromObjectReadStream(stream) {\n    return fromSource(getSourceFromObjectReadStream(stream));\n}\n// TODO: generalize this to batch over generic stream\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStreamB(stream, batch, every) {\n    return M.encaseEffect(T.sync(() => {\n        let open = true;\n        const leftover = [];\n        const errors = [];\n        stream.on(\"end\", () => {\n            open = false;\n        });\n        stream.on(\"error\", (e) => {\n            errors.push(e);\n        });\n        stream.pipe(new Writable({\n            objectMode: true,\n            write(chunk, _, callback) {\n                leftover.push(chunk);\n                callback();\n            }\n        }));\n        return T.delay(T.async((res) => {\n            if (leftover.length > 0) {\n                res(Ei.right(O.some(leftover.splice(0, batch))));\n            }\n            else {\n                if (errors.length > 0) {\n                    res(Ei.left(errors[0]));\n                }\n                else {\n                    if (open) {\n                        res(Ei.right(O.some([])));\n                    }\n                    else {\n                        res(Ei.right(O.none));\n                    }\n                }\n            }\n            // tslint:disable-next-line: no-empty\n            return (cb) => {\n                cb();\n            };\n        }), every);\n    }));\n}\n/* istanbul ignore next */\nexport function fromObjectReadStreamB(stream, batch, every) {\n    return fromSource(getSourceFromObjectReadStreamB(stream, batch, every));\n}\nexport { su };\nexport const Do = () => DoG(stream);\nexport const sequenceS = SS(stream);\nexport const sequenceT = ST(stream);\nexport const sequenceOption = O.option.sequence(stream);\nexport const traverseOption = (f) => (ta) => O.option.traverse(stream)(ta, f);\nexport const wiltOption = (f) => (wa) => O.option.wilt(stream)(wa, f);\nexport const witherOption = (f) => (ta) => O.option.wither(stream)(ta, f);\nexport const sequenceEither = Ei.either.sequence(stream);\nexport const traverseEither = (f) => (ta) => Ei.either.traverse(stream)(ta, f);\nexport const sequenceTree = TR.tree.sequence(stream);\nexport const traverseTree = (f) => (ta) => TR.tree.traverse(stream)(ta, f);\nexport const sequenceArray = A.array.sequence(stream);\nexport const traverseArray = (f) => (ta) => A.array.traverse(stream)(ta, f);\nexport const traverseArrayWithIndex = (f) => (ta) => A.array.traverseWithIndex(stream)(ta, f);\nexport const wiltArray = (f) => (wa) => A.array.wilt(stream)(wa, f);\nexport const witherArray = (f) => (ta) => A.array.wither(stream)(ta, f);\nexport const sequenceRecord = RE.record.sequence(stream);\nexport const traverseRecord = (f) => (ta) => RE.record.traverse(stream)(ta, f);\nexport const traverseRecordWithIndex = (f) => (ta) => RE.record.traverseWithIndex(stream)(ta, f);\nexport const wiltRecord = (f) => (wa) => RE.record.wilt(stream)(wa, f);\nexport const witherRecord = (f) => (ta) => RE.record.wither(stream)(ta, f);\n","import * as S from \"./stream\";\nimport * as Sink from \"./sink\";\nimport * as Q from \"../queue\";\nimport * as T from \"../effect\";\nimport * as M from \"../managed\";\nimport { isSome } from \"fp-ts/es6/Option\";\nimport { pipe } from \"fp-ts/es6/pipeable\";\nimport { Do } from \"fp-ts-contrib/es6/Do\";\nimport { queueUtils, emitter } from \"./support\";\nexport function subject(_) {\n    const listeners = new Map();\n    function next(_) {\n        listeners.forEach((f) => {\n            f(_);\n        });\n    }\n    return Do(T.effect)\n        .bind(\"q\", Q.unboundedQueue())\n        .bindL(\"into\", ({ q }) => pipe(_, S.into(Sink.queueOptionSink(q)), T.chainError((e) => pipe(T.sync(() => {\n        next({ _tag: \"error\", e });\n    }), T.chain(() => T.raiseError(e)))), T.fork))\n        .bindL(\"extract\", ({ q }) => pipe(q.take, T.chainTap((_) => T.sync(() => next(isSome(_) ? { _tag: \"offer\", a: _.value } : { _tag: \"complete\" }))), T.forever, T.fork))\n        .return(({ into, extract }) => {\n        const interrupt = pipe(T.sequenceT(into.interrupt, extract.interrupt, T.sync(() => {\n            next({ _tag: \"complete\" });\n        })), T.asUnit);\n        const subscribe = T.sync(() => {\n            const { next, ops, hasCB } = queueUtils();\n            const push = (_) => {\n                next(_);\n            };\n            listeners.set(push, push);\n            return S.fromSource(pipe(M.bracket(T.unit, () => T.sync(() => {\n                listeners.delete(push);\n            })), M.chain(() => emitter(ops, hasCB))));\n        });\n        return {\n            interrupt,\n            subscribe\n        };\n    });\n}\n","import * as T from \"./effect\";\nimport { pipeable as P } from \"fp-ts\";\nexport function access(sp) {\n    const derived = {};\n    const a = sp[specURI];\n    for (const s of Reflect.ownKeys(a)) {\n        derived[s] = {};\n        for (const k of Object.keys(a[s])) {\n            if (typeof a[s][k] === \"function\") {\n                derived[s][k] = (...args) => T.accessM((r) => r[s][k](...args));\n            }\n            else {\n                derived[s][k] = T.accessM((r) => r[s][k]);\n            }\n        }\n    }\n    return derived;\n}\nexport const specURI = \"@matechs/effect/freeEnv/specURI\";\nexport function define(m) {\n    return { [specURI]: m };\n}\nexport function cn() {\n    return {};\n}\nexport function fn() {\n    // tslint:disable-next-line: no-empty\n    return (() => { });\n}\nexport function providing(s, a, env) {\n    const r = {};\n    for (const sym of Reflect.ownKeys(s[specURI])) {\n        r[sym] = {};\n        for (const entry of Object.keys(s[specURI][sym])) {\n            if (typeof a[sym][entry] === \"function\") {\n                r[sym][entry] = (...args) => T.provide(env, \"inverted\")(a[sym][entry](...args));\n            }\n            else if (typeof a[sym][entry] === \"object\") {\n                r[sym][entry] = T.provide(env, \"inverted\")(a[sym][entry]);\n            }\n        }\n    }\n    return r;\n}\nexport function implement(s, inverted = \"regular\") {\n    return (i) => (eff) => T.accessM((e) => P.pipe(eff, T.provide(providing(s, i, e), inverted)));\n}\nexport function implementWith(w) {\n    return (s, inverted = \"regular\") => (i) => (eff) => T.effect.chain(w, (r) => T.accessM((e) => P.pipe(eff, T.provide(providing(s, i(r), e), inverted))));\n}\nexport function instance(_) {\n    return (m) => m;\n}\nexport const opaque = () => (_) => _;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { identity } from './function';\nimport { isSome, none, some } from './Option';\nimport { fromCompare, getMonoid as getOrdMonoid, ordNumber } from './Ord';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyArray';\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function fromArray(as) {\n    var l = as.length;\n    if (l === 0) {\n        return empty;\n    }\n    var ras = Array(l);\n    for (var i = 0; i < l; i++) {\n        ras[i] = as[i];\n    }\n    return ras;\n}\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nexport function toArray(ras) {\n    var l = ras.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = ras[i];\n    }\n    return as;\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (as) { return \"[\" + as.map(S.show).join(', ') + \"]\"; }\n    };\n}\nvar concat = function (x, y) {\n    var lenx = x.length;\n    if (lenx === 0) {\n        return y;\n    }\n    var leny = y.length;\n    if (leny === 0) {\n        return x;\n    }\n    var r = Array(lenx + leny);\n    for (var i = 0; i < lenx; i++) {\n        r[i] = x[i];\n    }\n    for (var i = 0; i < leny; i++) {\n        r[i + lenx] = y[i];\n    }\n    return r;\n};\n/**\n * Returns a `Monoid` for `ReadonlyArray<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/ReadonlyArray'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport function getMonoid() {\n    return {\n        concat: concat,\n        empty: empty\n    };\n}\n/**\n * Derives an `Eq` over the `ReadonlyArray` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/ReadonlyArray'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.5.0\n */\nexport function getEq(E) {\n    return {\n        equals: function (xs, ys) { return xs === ys || (xs.length === ys.length && xs.every(function (x, i) { return E.equals(x, ys[i]); })); }\n    };\n}\n/**\n * Derives an `Ord` over the `ReadonlyArray` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/ReadonlyArray'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.5.0\n */\nexport function getOrd(O) {\n    return fromCompare(function (a, b) {\n        var aLen = a.length;\n        var bLen = b.length;\n        var len = Math.min(aLen, bLen);\n        for (var i = 0; i < len; i++) {\n            var ordering = O.compare(a[i], b[i]);\n            if (ordering !== 0) {\n                return ordering;\n            }\n        }\n        return ordNumber.compare(aLen, bLen);\n    });\n}\n/**\n * An empty array\n *\n * @since 2.5.0\n */\nexport var empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/ReadonlyArray'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.5.0\n */\nexport function makeBy(n, f) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    for (var i = 0; i < n; i++) {\n        r.push(f(i));\n    }\n    return r;\n}\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.5.0\n */\nexport function range(start, end) {\n    return makeBy(end - start + 1, function (i) { return start + i; });\n}\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.5.0\n */\nexport function replicate(n, a) {\n    return makeBy(n, function () { return a; });\n}\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function flatten(mma) {\n    var rLen = 0;\n    var len = mma.length;\n    for (var i = 0; i < len; i++) {\n        rLen += mma[i].length;\n    }\n    var r = Array(rLen);\n    var start = 0;\n    for (var i = 0; i < len; i++) {\n        var arr = mma[i];\n        var l = arr.length;\n        for (var j = 0; j < l; j++) {\n            r[j + start] = arr[j];\n        }\n        start += l;\n    }\n    return r;\n}\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const len: <A>(as: ReadonlyArray<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.5.0\n */\nexport function foldLeft(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as[0], as.slice(1))); };\n}\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.5.0\n */\nexport function foldRight(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as.slice(0, as.length - 1), as[as.length - 1])); };\n}\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.5.0\n */\nexport function scanLeft(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[0] = b;\n        for (var i = 0; i < l; i++) {\n            r[i + 1] = f(r[i], as[i]);\n        }\n        return r;\n    };\n}\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.5.0\n */\nexport function scanRight(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[l] = b;\n        for (var i = l - 1; i >= 0; i--) {\n            r[i] = f(as[i], r[i + 1]);\n        }\n        return r;\n    };\n}\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.5.0\n */\nexport function isEmpty(as) {\n    return as.length === 0;\n}\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyReadonlyArray<A>`\n *\n * @since 2.5.0\n */\nexport function isNonEmpty(as) {\n    return as.length > 0;\n}\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.5.0\n */\nexport function isOutOfBound(i, as) {\n    return i < 0 || i >= as.length;\n}\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.5.0\n */\nexport function lookup(i, as) {\n    return isOutOfBound(i, as) ? none : some(as[i]);\n}\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function cons(head, tail) {\n    var len = tail.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i + 1] = tail[i];\n    }\n    r[0] = head;\n    return r;\n}\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nexport function snoc(init, end) {\n    var len = init.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = init[i];\n    }\n    r[len] = end;\n    return r;\n}\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.5.0\n */\nexport function head(as) {\n    return isEmpty(as) ? none : some(as[0]);\n}\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.5.0\n */\nexport function last(as) {\n    return lookup(as.length - 1, as);\n}\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.5.0\n */\nexport function tail(as) {\n    return isEmpty(as) ? none : some(as.slice(1));\n}\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.5.0\n */\nexport function init(as) {\n    var len = as.length;\n    return len === 0 ? none : some(as.slice(0, len - 1));\n}\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function takeLeft(n) {\n    return function (as) { return as.slice(0, n); };\n}\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.5.0\n */\nexport function takeRight(n) {\n    return function (as) { return (n === 0 ? empty : as.slice(-n)); };\n}\nexport function takeLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        return init;\n    };\n}\nvar spanIndexUncurry = function (as, predicate) {\n    var l = as.length;\n    var i = 0;\n    for (; i < l; i++) {\n        if (!predicate(as[i])) {\n            break;\n        }\n    }\n    return i;\n};\nexport function spanLeft(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return { init: init, rest: rest };\n    };\n}\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.5.0\n */\nexport function dropLeft(n) {\n    return function (as) { return as.slice(n, as.length); };\n}\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function dropRight(n) {\n    return function (as) { return as.slice(0, as.length - n); };\n}\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.5.0\n */\nexport function dropLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return rest;\n    };\n}\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.5.0\n */\nexport function findIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return some(i);\n            }\n        }\n        return none;\n    };\n}\nexport function findFirst(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return some(as[i]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.5.0\n */\nexport function findFirstMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            var v = f(as[i]);\n            if (isSome(v)) {\n                return v;\n            }\n        }\n        return none;\n    };\n}\nexport function findLast(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return some(as[i]);\n            }\n        }\n        return none;\n    };\n}\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.5.0\n */\nexport function findLastMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var v = f(as[i]);\n            if (isSome(v)) {\n                return v;\n            }\n        }\n        return none;\n    };\n}\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: ReadonlyArray<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.5.0\n */\nexport function findLastIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return some(i);\n            }\n        }\n        return none;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeInsertAt(i, a, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 0, a);\n    return xs;\n}\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.5.0\n */\nexport function insertAt(i, a) {\n    return function (as) { return (i < 0 || i > as.length ? none : some(unsafeInsertAt(i, a, as))); };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeUpdateAt(i, a, as) {\n    if (as[i] === a) {\n        return as;\n    }\n    else {\n        // tslint:disable-next-line: readonly-array\n        var xs = __spreadArrays(as);\n        xs[i] = a;\n        return xs;\n    }\n}\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.5.0\n */\nexport function updateAt(i, a) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeUpdateAt(i, a, as))); };\n}\n/**\n * @since 2.5.0\n */\nexport function unsafeDeleteAt(i, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 1);\n    return xs;\n}\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.5.0\n */\nexport function deleteAt(i) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeDeleteAt(i, as))); };\n}\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.5.0\n */\nexport function modifyAt(i, f) {\n    return function (as) { return (isOutOfBound(i, as) ? none : some(unsafeUpdateAt(i, f(as[i]), as))); };\n}\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.5.0\n */\nexport function reverse(as) {\n    return __spreadArrays(as).reverse();\n}\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/ReadonlyArray'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function rights(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Right') {\n            r.push(a.right);\n        }\n    }\n    return r;\n}\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/ReadonlyArray'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.5.0\n */\nexport function lefts(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Left') {\n            r.push(a.left);\n        }\n    }\n    return r;\n}\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/ReadonlyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function sort(O) {\n    return function (as) { return __spreadArrays(as).sort(O.compare); };\n}\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.5.0\n */\nexport function zipWith(fa, fb, f) {\n    // tslint:disable-next-line: readonly-array\n    var fc = [];\n    var len = Math.min(fa.length, fb.length);\n    for (var i = 0; i < len; i++) {\n        fc[i] = f(fa[i], fb[i]);\n    }\n    return fc;\n}\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.5.0\n */\nexport function zip(fa, fb) {\n    return zipWith(fa, fb, function (a, b) { return [a, b]; });\n}\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.5.0\n */\nexport function unzip(as) {\n    // tslint:disable-next-line: readonly-array\n    var fa = [];\n    // tslint:disable-next-line: readonly-array\n    var fb = [];\n    for (var i = 0; i < as.length; i++) {\n        fa[i] = as[i][0];\n        fb[i] = as[i][1];\n    }\n    return [fa, fb];\n}\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function rotate(n) {\n    return function (as) {\n        var len = as.length;\n        if (n === 0 || len <= 1 || len === Math.abs(n)) {\n            return as;\n        }\n        else if (n < 0) {\n            return rotate(len + n)(as);\n        }\n        else {\n            return as.slice(-n).concat(as.slice(0, len - n));\n        }\n    };\n}\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `ReadonlyArray<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, as) {\n        var predicate = function (element) { return E.equals(element, a); };\n        var i = 0;\n        var len = as.length;\n        for (; i < len; i++) {\n            if (predicate(as[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.5.0\n */\nexport function uniq(E) {\n    var elemS = elem(E);\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var len = as.length;\n        var i = 0;\n        for (; i < len; i++) {\n            var a = as[i];\n            if (!elemS(a, r)) {\n                r.push(a);\n            }\n        }\n        return len === r.length ? as : r;\n    };\n}\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/ReadonlyArray'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.5.0\n */\nexport function sortBy(ords) {\n    var M = getOrdMonoid();\n    return sort(ords.reduce(M.concat, M.empty));\n}\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const group = <A>(S: Eq<A>): ((as: ReadonlyArray<A>) => ReadonlyArray<ReadonlyArray<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.5.0\n */\nexport function chop(f) {\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        var cs = as;\n        while (isNonEmpty(cs)) {\n            var _a = f(cs), b = _a[0], c = _a[1];\n            result.push(b);\n            cs = c;\n        }\n        return result;\n    };\n}\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.5.0\n */\nexport function splitAt(n) {\n    return function (as) { return [as.slice(0, n), as.slice(n)]; };\n}\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.5.0\n */\nexport function chunksOf(n) {\n    return function (as) { return (as.length === 0 ? empty : isOutOfBound(n - 1, as) ? [as] : chop(splitAt(n))(as)); };\n}\nexport function comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    var go = function (scope, input) {\n        if (input.length === 0) {\n            return g.apply(void 0, scope) ? [f.apply(void 0, scope)] : empty;\n        }\n        else {\n            return readonlyArray.chain(input[0], function (x) { return go(snoc(scope, x), input.slice(1)); });\n        }\n    };\n    return go(empty, input);\n}\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nexport function union(E) {\n    var elemE = elem(E);\n    return function (xs, ys) {\n        return concat(xs, ys.filter(function (a) { return !elemE(a, xs); }));\n    };\n}\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.5.0\n */\nexport function intersection(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return elemE(a, ys); }); };\n}\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.5.0\n */\nexport function difference(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return !elemE(a, ys); }); };\n}\n/**\n * @since 2.5.0\n */\nexport var of = function (a) { return [a]; };\n/**\n * @since 2.5.0\n */\nexport var readonlyArray = {\n    URI: URI,\n    map: function (fa, f) { return fa.map(function (a) { return f(a); }); },\n    mapWithIndex: function (fa, f) { return fa.map(function (a, i) { return f(i, a); }); },\n    compact: function (as) { return readonlyArray.filterMap(as, identity); },\n    separate: function (fa) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var _i = 0, fa_1 = fa; _i < fa_1.length; _i++) {\n            var e = fa_1[_i];\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (as, predicate) {\n        return as.filter(predicate);\n    },\n    filterMap: function (as, f) { return readonlyArray.filterMapWithIndex(as, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return readonlyArray.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return readonlyArray.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    of: of,\n    ap: function (fab, fa) { return flatten(readonlyArray.map(fab, function (f) { return readonlyArray.map(fa, f); })); },\n    chain: function (fa, f) {\n        var resLen = 0;\n        var l = fa.length;\n        var temp = new Array(l);\n        for (var i = 0; i < l; i++) {\n            var e = fa[i];\n            var arr = f(e);\n            resLen += arr.length;\n            temp[i] = arr;\n        }\n        var r = Array(resLen);\n        var start = 0;\n        for (var i = 0; i < l; i++) {\n            var arr = temp[i];\n            var l_1 = arr.length;\n            for (var j = 0; j < l_1; j++) {\n                r[j + start] = arr[j];\n            }\n            start += l_1;\n        }\n        return r;\n    },\n    reduce: function (fa, b, f) { return readonlyArray.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = readonlyArray.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return readonlyArray.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    unfold: function (b, f) {\n        // tslint:disable-next-line: readonly-array\n        var ret = [];\n        var bb = b;\n        while (true) {\n            var mt = f(bb);\n            if (isSome(mt)) {\n                var _a = mt.value, a = _a[0], b_1 = _a[1];\n                ret.push(a);\n                bb = b_1;\n            }\n            else {\n                break;\n            }\n        }\n        return ret;\n    },\n    traverse: function (F) {\n        var traverseWithIndexF = readonlyArray.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: function (F) { return function (ta) {\n        return readonlyArray.reduce(ta, F.of(readonlyArray.zero()), function (fas, fa) {\n            return F.ap(F.map(fas, function (as) { return function (a) { return snoc(as, a); }; }), fa);\n        });\n    }; },\n    zero: function () { return empty; },\n    alt: function (fx, f) { return concat(fx, f()); },\n    extend: function (fa, f) { return fa.map(function (_, i, as) { return f(as.slice(i)); }); },\n    wither: function (F) {\n        var traverseF = readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyArray.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyArray.separate); };\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var l = fa.length;\n        var r = b;\n        for (var i = 0; i < l; i++) {\n            r = f(i, r, fa[i]);\n        }\n        return r;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) { return fa.reduce(function (b, a, i) { return M.concat(b, f(i, a)); }, M.empty); }; },\n    reduceRightWithIndex: function (fa, b, f) { return fa.reduceRight(function (b, a, i) { return f(i, a, b); }, b); },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        return readonlyArray.reduceWithIndex(ta, F.of(readonlyArray.zero()), function (i, fbs, a) {\n            return F.ap(F.map(fbs, function (bs) { return function (b) { return snoc(bs, b); }; }), f(i, a));\n        });\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var e = f(i, fa[i]);\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var a = fa[i];\n            if (predicateWithIndex(i, a)) {\n                right.push(a);\n            }\n            else {\n                left.push(a);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        for (var i = 0; i < fa.length; i++) {\n            var optionB = f(i, fa[i]);\n            if (isSome(optionB)) {\n                result.push(optionB.value);\n            }\n        }\n        return result;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        return fa.filter(function (a, i) { return predicateWithIndex(i, a); });\n    }\n};\nvar _a = pipeable(readonlyArray), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nalt, \n/**\n * @since 2.5.0\n */\nap, \n/**\n * @since 2.5.0\n */\napFirst, \n/**\n * @since 2.5.0\n */\napSecond, \n/**\n * @since 2.5.0\n */\nchain, \n/**\n * @since 2.5.0\n */\nchainFirst, \n/**\n * @since 2.5.0\n */\nduplicate, \n/**\n * @since 2.5.0\n */\nextend, \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nfilterMapWithIndex, \n/**\n * @since 2.5.0\n */\nfilterWithIndex, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.5.0\n */\nmap, \n/**\n * @since 2.5.0\n */\nmapWithIndex, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\npartitionMapWithIndex, \n/**\n * @since 2.5.0\n */\npartitionWithIndex, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.5.0\n */\nreduceWithIndex, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Option';\n/**\n * @since 2.0.0\n */\nexport var none = { _tag: 'None' };\n/**\n * @since 2.0.0\n */\nexport function some(a) {\n    return { _tag: 'Some', value: a };\n}\n/**\n * Returns `true` if the option is an instance of `Some`, `false` otherwise\n *\n * @example\n * import { some, none, isSome } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isSome(some(1)), true)\n * assert.strictEqual(isSome(none), false)\n *\n * @since 2.0.0\n */\nexport function isSome(fa) {\n    return fa._tag === 'Some';\n}\n/**\n * Returns `true` if the option is `None`, `false` otherwise\n *\n * @example\n * import { some, none, isNone } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isNone(some(1)), false)\n * assert.strictEqual(isNone(none), true)\n *\n * @since 2.0.0\n */\nexport function isNone(fa) {\n    return fa._tag === 'None';\n}\n/**\n * Takes a default value, a function, and an `Option` value, if the `Option` value is `None` the default value is\n * returned, otherwise the function is applied to the value inside the `Some` and the result is returned.\n *\n * @example\n * import { some, none, fold } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a some containing 1'\n * )\n *\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a none'\n * )\n *\n * @since 2.0.0\n */\nexport function fold(onNone, onSome) {\n    return function (ma) { return (isNone(ma) ? onNone() : onSome(ma.value)); };\n}\n/**\n * Constructs a new `Option` from a nullable type. If the value is `null` or `undefined`, returns `None`, otherwise\n * returns the value wrapped in a `Some`\n *\n * @example\n * import { none, some, fromNullable } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromNullable(undefined), none)\n * assert.deepStrictEqual(fromNullable(null), none)\n * assert.deepStrictEqual(fromNullable(1), some(1))\n *\n * @since 2.0.0\n */\nexport function fromNullable(a) {\n    return a == null ? none : some(a);\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `null`.\n *\n * @example\n * import { some, none, toNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toNullable\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toNullable\n *   ),\n *   null\n * )\n *\n * @since 2.0.0\n */\nexport function toNullable(ma) {\n    return isNone(ma) ? null : ma.value;\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `undefined`.\n *\n * @example\n * import { some, none, toUndefined } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toUndefined\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toUndefined\n *   ),\n *   undefined\n * )\n *\n * @since 2.0.0\n */\nexport function toUndefined(ma) {\n    return isNone(ma) ? undefined : ma.value;\n}\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns the given default value\n *\n * @example\n * import { some, none, getOrElse } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     getOrElse(() => 0)\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     getOrElse(() => 0)\n *   ),\n *   0\n * )\n *\n * @since 2.0.0\n */\nexport function getOrElse(onNone) {\n    return function (ma) { return (isNone(ma) ? onNone() : ma.value); };\n}\n/**\n * Returns `true` if `ma` contains `a`\n *\n * @example\n * import { some, none, elem } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, some(1)), true)\n * assert.strictEqual(elem(eqNumber)(2, some(1)), false)\n * assert.strictEqual(elem(eqNumber)(1, none), false)\n *\n * @since 2.0.0\n */\nexport function elem(E) {\n    return function (a, ma) { return (isNone(ma) ? false : E.equals(a, ma.value)); };\n}\n/**\n * Returns `true` if the predicate is satisfied by the wrapped value\n *\n * @example\n * import { some, none, exists } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 0)\n *   ),\n *   true\n * )\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 1)\n *   ),\n *   false\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     exists(n => n > 0)\n *   ),\n *   false\n * )\n *\n * @since 2.0.0\n */\nexport function exists(predicate) {\n    return function (ma) { return (isNone(ma) ? false : predicate(ma.value)); };\n}\nexport function fromPredicate(predicate) {\n    return function (a) { return (predicate(a) ? some(a) : none); };\n}\n/**\n * Transforms an exception into an `Option`. If `f` throws, returns `None`, otherwise returns the output wrapped in\n * `Some`\n *\n * @example\n * import { none, some, tryCatch } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(\n *   tryCatch(() => {\n *     throw new Error()\n *   }),\n *   none\n * )\n * assert.deepStrictEqual(tryCatch(() => 1), some(1))\n *\n * @since 2.0.0\n */\nexport function tryCatch(f) {\n    try {\n        return some(f());\n    }\n    catch (e) {\n        return none;\n    }\n}\n/**\n * Returns an `E` value if possible\n *\n * @since 2.0.0\n */\nexport function getLeft(ma) {\n    return ma._tag === 'Right' ? none : some(ma.left);\n}\n/**\n * Returns an `A` value if possible\n *\n * @since 2.0.0\n */\nexport function getRight(ma) {\n    return ma._tag === 'Left' ? none : some(ma.right);\n}\n/**\n * Returns a `Refinement` (i.e. a custom type guard) from a `Option` returning function.\n * This function ensures that a custom type guard definition is type-safe.\n *\n * ```ts\n * import { some, none, getRefinement } from 'fp-ts/lib/Option'\n *\n * type A = { type: 'A' }\n * type B = { type: 'B' }\n * type C = A | B\n *\n * const isA = (c: C): c is A => c.type === 'B' // <= typo but typescript doesn't complain\n * const isA = getRefinement<C, A>(c => (c.type === 'B' ? some(c) : none)) // static error: Type '\"B\"' is not assignable to type '\"A\"'\n * ```\n *\n * @since 2.0.0\n */\nexport function getRefinement(getOption) {\n    return function (a) { return isSome(getOption(a)); };\n}\n/**\n * This is `chain` + `fromNullable`, useful when working with optional values\n *\n * @example\n * import { some, none, fromNullable, mapNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * interface Employee {\n *   company?: {\n *     address?: {\n *       street?: {\n *         name?: string\n *       }\n *     }\n *   }\n * }\n *\n * const employee1: Employee = { company: { address: { street: { name: 'high street' } } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee1.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   some('high street')\n * )\n *\n * const employee2: Employee = { company: { address: { street: {} } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee2.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   none\n * )\n *\n * @since 2.0.0\n */\nexport function mapNullable(f) {\n    return function (ma) { return (isNone(ma) ? none : fromNullable(f(ma.value))); };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    return {\n        show: function (ma) { return (isNone(ma) ? 'none' : \"some(\" + S.show(ma.value) + \")\"); }\n    };\n}\n/**\n * @example\n * import { none, some, getEq } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(none, none), true)\n * assert.strictEqual(E.equals(none, some(1)), false)\n * assert.strictEqual(E.equals(some(1), none), false)\n * assert.strictEqual(E.equals(some(1), some(2)), false)\n * assert.strictEqual(E.equals(some(1), some(1)), true)\n *\n * @since 2.0.0\n */\nexport function getEq(E) {\n    return {\n        equals: function (x, y) { return x === y || (isNone(x) ? isNone(y) : isNone(y) ? false : E.equals(x.value, y.value)); }\n    };\n}\n/**\n * The `Ord` instance allows `Option` values to be compared with\n * `compare`, whenever there is an `Ord` instance for\n * the type the `Option` contains.\n *\n * `None` is considered to be less than any `Some` value.\n *\n *\n * @example\n * import { none, some, getOrd } from 'fp-ts/lib/Option'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordNumber)\n * assert.strictEqual(O.compare(none, none), 0)\n * assert.strictEqual(O.compare(none, some(1)), -1)\n * assert.strictEqual(O.compare(some(1), none), 1)\n * assert.strictEqual(O.compare(some(1), some(2)), -1)\n * assert.strictEqual(O.compare(some(1), some(1)), 0)\n *\n * @since 2.0.0\n */\nexport function getOrd(O) {\n    return {\n        equals: getEq(O).equals,\n        compare: function (x, y) { return (x === y ? 0 : isSome(x) ? (isSome(y) ? O.compare(x.value, y.value) : 1) : -1); }\n    };\n}\n/**\n * `Apply` semigroup\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | none               |\n * | none    | some(a) | none               |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getApplySemigroup, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup(semigroupSum)\n * assert.deepStrictEqual(S.concat(none, none), none)\n * assert.deepStrictEqual(S.concat(some(1), none), none)\n * assert.deepStrictEqual(S.concat(none, some(1)), none)\n * assert.deepStrictEqual(S.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isSome(x) && isSome(y) ? some(S.concat(x.value, y.value)) : none); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: some(M.empty) });\n}\n/**\n * Monoid returning the left-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(a)      |\n *\n * @example\n * import { getFirstMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getFirstMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(1))\n *\n * @since 2.0.0\n */\nexport function getFirstMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : x); },\n        empty: none\n    };\n}\n/**\n * Monoid returning the right-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(b)      |\n *\n * @example\n * import { getLastMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getLastMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(2))\n *\n * @since 2.0.0\n */\nexport function getLastMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(y) ? x : y); },\n        empty: none\n    };\n}\n/**\n * Monoid returning the left-most non-`None` value. If both operands are `Some`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | some(a)            |\n * | none    | some(a) | some(a)            |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getMonoid, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const M = getMonoid(semigroupSum)\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nexport function getMonoid(S) {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : isNone(y) ? x : some(S.concat(x.value, y.value))); },\n        empty: none\n    };\n}\nvar defaultSeparate = { left: none, right: none };\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexport var option = {\n    URI: URI,\n    map: function (ma, f) { return (isNone(ma) ? none : some(f(ma.value))); },\n    of: some,\n    ap: function (mab, ma) { return (isNone(mab) ? none : isNone(ma) ? none : some(mab.value(ma.value))); },\n    chain: function (ma, f) { return (isNone(ma) ? none : f(ma.value)); },\n    reduce: function (fa, b, f) { return (isNone(fa) ? b : f(b, fa.value)); },\n    foldMap: function (M) { return function (fa, f) { return (isNone(fa) ? M.empty : f(fa.value)); }; },\n    reduceRight: function (fa, b, f) { return (isNone(fa) ? b : f(fa.value, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isNone(ta) ? F.of(none) : F.map(f(ta.value), some);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isNone(ta) ? F.of(none) : F.map(ta.value, some);\n    }; },\n    zero: function () { return none; },\n    alt: function (ma, f) { return (isNone(ma) ? f() : ma); },\n    extend: function (wa, f) { return (isNone(wa) ? none : some(f(wa))); },\n    compact: function (ma) { return option.chain(ma, identity); },\n    separate: function (ma) {\n        var o = option.map(ma, function (e) { return ({\n            left: getLeft(e),\n            right: getRight(e)\n        }); });\n        return isNone(o) ? defaultSeparate : o.value;\n    },\n    filter: function (fa, predicate) {\n        return isNone(fa) ? none : predicate(fa.value) ? fa : none;\n    },\n    filterMap: function (ma, f) { return (isNone(ma) ? none : f(ma.value)); },\n    partition: function (fa, predicate) {\n        return {\n            left: option.filter(fa, function (a) { return !predicate(a); }),\n            right: option.filter(fa, predicate)\n        };\n    },\n    partitionMap: function (fa, f) { return option.separate(option.map(fa, f)); },\n    wither: function (F) { return function (fa, f) {\n        return isNone(fa) ? F.of(none) : f(fa.value);\n    }; },\n    wilt: function (F) { return function (fa, f) {\n        var o = option.map(fa, function (a) {\n            return F.map(f(a), function (e) { return ({\n                left: getLeft(e),\n                right: getRight(e)\n            }); });\n        });\n        return isNone(o)\n            ? F.of({\n                left: none,\n                right: none\n            })\n            : o.value;\n    }; },\n    throwError: function () { return none; }\n};\nvar _a = pipeable(option), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate, fromEither = _a.fromEither;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate, \n/**\n * @since 2.0.0\n */\nfromEither };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nfunction pipe(a, ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return a;\n        case 2:\n            return ab(a);\n        case 3:\n            return bc(ab(a));\n        case 4:\n            return cd(bc(ab(a)));\n        case 5:\n            return de(cd(bc(ab(a))));\n        case 6:\n            return ef(de(cd(bc(ab(a)))));\n        case 7:\n            return fg(ef(de(cd(bc(ab(a))))));\n        case 8:\n            return gh(fg(ef(de(cd(bc(ab(a)))))));\n        case 9:\n            return hi(gh(fg(ef(de(cd(bc(ab(a))))))));\n        case 10:\n            return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));\n    }\n    return;\n}\nexports.pipe = pipe;\nvar isFunctor = function (I) { return typeof I.map === 'function'; };\nvar isContravariant = function (I) { return typeof I.contramap === 'function'; };\nvar isFunctorWithIndex = function (I) { return typeof I.mapWithIndex === 'function'; };\nvar isApply = function (I) { return typeof I.ap === 'function'; };\nvar isChain = function (I) { return typeof I.chain === 'function'; };\nvar isBifunctor = function (I) { return typeof I.bimap === 'function'; };\nvar isExtend = function (I) { return typeof I.extend === 'function'; };\nvar isFoldable = function (I) { return typeof I.reduce === 'function'; };\nvar isFoldableWithIndex = function (I) { return typeof I.reduceWithIndex === 'function'; };\nvar isAlt = function (I) { return typeof I.alt === 'function'; };\nvar isCompactable = function (I) { return typeof I.compact === 'function'; };\nvar isFilterable = function (I) { return typeof I.filter === 'function'; };\nvar isFilterableWithIndex = function (I) {\n    return typeof I.filterWithIndex === 'function';\n};\nvar isProfunctor = function (I) { return typeof I.promap === 'function'; };\nvar isSemigroupoid = function (I) { return typeof I.compose === 'function'; };\nvar isMonadThrow = function (I) { return typeof I.throwError === 'function'; };\nfunction pipeable(I) {\n    var r = {};\n    if (isFunctor(I)) {\n        var map = function (f) { return function (fa) { return I.map(fa, f); }; };\n        r.map = map;\n    }\n    if (isContravariant(I)) {\n        var contramap = function (f) { return function (fa) { return I.contramap(fa, f); }; };\n        r.contramap = contramap;\n    }\n    if (isFunctorWithIndex(I)) {\n        var mapWithIndex = function (f) { return function (fa) { return I.mapWithIndex(fa, f); }; };\n        r.mapWithIndex = mapWithIndex;\n    }\n    if (isApply(I)) {\n        var ap = function (fa) { return function (fab) { return I.ap(fab, fa); }; };\n        var apFirst = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function (a) { return function () { return a; }; }), fb);\n        }; };\n        r.ap = ap;\n        r.apFirst = apFirst;\n        r.apSecond = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function () { return function (b) { return b; }; }), fb);\n        }; };\n    }\n    if (isChain(I)) {\n        var chain = function (f) { return function (ma) { return I.chain(ma, f); }; };\n        var chainFirst = function (f) { return function (ma) { return I.chain(ma, function (a) { return I.map(f(a), function () { return a; }); }); }; };\n        var flatten = function (mma) { return I.chain(mma, function_1.identity); };\n        r.chain = chain;\n        r.chainFirst = chainFirst;\n        r.flatten = flatten;\n    }\n    if (isBifunctor(I)) {\n        var bimap = function (f, g) { return function (fa) { return I.bimap(fa, f, g); }; };\n        var mapLeft = function (f) { return function (fa) { return I.mapLeft(fa, f); }; };\n        r.bimap = bimap;\n        r.mapLeft = mapLeft;\n    }\n    if (isExtend(I)) {\n        var extend = function (f) { return function (wa) { return I.extend(wa, f); }; };\n        var duplicate = function (wa) { return I.extend(wa, function_1.identity); };\n        r.extend = extend;\n        r.duplicate = duplicate;\n    }\n    if (isFoldable(I)) {\n        var reduce = function (b, f) { return function (fa) { return I.reduce(fa, b, f); }; };\n        var foldMap = function (M) {\n            var foldMapM = I.foldMap(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRight = function (b, f) { return function (fa) { return I.reduceRight(fa, b, f); }; };\n        r.reduce = reduce;\n        r.foldMap = foldMap;\n        r.reduceRight = reduceRight;\n    }\n    if (isFoldableWithIndex(I)) {\n        var reduceWithIndex = function (b, f) { return function (fa) {\n            return I.reduceWithIndex(fa, b, f);\n        }; };\n        var foldMapWithIndex = function (M) {\n            var foldMapM = I.foldMapWithIndex(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRightWithIndex = function (b, f) { return function (fa) {\n            return I.reduceRightWithIndex(fa, b, f);\n        }; };\n        r.reduceWithIndex = reduceWithIndex;\n        r.foldMapWithIndex = foldMapWithIndex;\n        r.reduceRightWithIndex = reduceRightWithIndex;\n    }\n    if (isAlt(I)) {\n        var alt = function (that) { return function (fa) { return I.alt(fa, that); }; };\n        r.alt = alt;\n    }\n    if (isCompactable(I)) {\n        r.compact = I.compact;\n        r.separate = I.separate;\n    }\n    if (isFilterable(I)) {\n        var filter = function (predicate) { return function (fa) {\n            return I.filter(fa, predicate);\n        }; };\n        var filterMap = function (f) { return function (fa) { return I.filterMap(fa, f); }; };\n        var partition = function (predicate) { return function (fa) {\n            return I.partition(fa, predicate);\n        }; };\n        var partitionMap = function (f) { return function (fa) { return I.partitionMap(fa, f); }; };\n        r.filter = filter;\n        r.filterMap = filterMap;\n        r.partition = partition;\n        r.partitionMap = partitionMap;\n    }\n    if (isFilterableWithIndex(I)) {\n        var filterWithIndex = function (predicateWithIndex) { return function (fa) { return I.filterWithIndex(fa, predicateWithIndex); }; };\n        var filterMapWithIndex = function (f) { return function (fa) {\n            return I.filterMapWithIndex(fa, f);\n        }; };\n        var partitionWithIndex = function (predicateWithIndex) { return function (fa) { return I.partitionWithIndex(fa, predicateWithIndex); }; };\n        var partitionMapWithIndex = function (f) { return function (fa) {\n            return I.partitionMapWithIndex(fa, f);\n        }; };\n        r.filterWithIndex = filterWithIndex;\n        r.filterMapWithIndex = filterMapWithIndex;\n        r.partitionWithIndex = partitionWithIndex;\n        r.partitionMapWithIndex = partitionMapWithIndex;\n    }\n    if (isProfunctor(I)) {\n        var promap = function (f, g) { return function (fa) { return I.promap(fa, f, g); }; };\n        r.promap = promap;\n    }\n    if (isSemigroupoid(I)) {\n        var compose = function (that) { return function (fa) { return I.compose(fa, that); }; };\n        r.compose = compose;\n    }\n    if (isMonadThrow(I)) {\n        var fromOption = function (onNone) { return function (ma) {\n            return ma._tag === 'None' ? I.throwError(onNone()) : I.of(ma.value);\n        }; };\n        var fromEither = function (ma) {\n            return ma._tag === 'Left' ? I.throwError(ma.left) : I.of(ma.right);\n        };\n        var fromPredicate = function (predicate, onFalse) { return function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }; };\n        var filterOrElse = function (predicate, onFalse) { return function (ma) { return I.chain(ma, function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }); }; };\n        r.fromOption = fromOption;\n        r.fromEither = fromEither;\n        r.fromPredicate = fromPredicate;\n        r.filterOrElse = filterOrElse;\n    }\n    return r;\n}\nexports.pipeable = pipeable;\n","import { identity } from './function';\nexport function pipe(a, ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return a;\n        case 2:\n            return ab(a);\n        case 3:\n            return bc(ab(a));\n        case 4:\n            return cd(bc(ab(a)));\n        case 5:\n            return de(cd(bc(ab(a))));\n        case 6:\n            return ef(de(cd(bc(ab(a)))));\n        case 7:\n            return fg(ef(de(cd(bc(ab(a))))));\n        case 8:\n            return gh(fg(ef(de(cd(bc(ab(a)))))));\n        case 9:\n            return hi(gh(fg(ef(de(cd(bc(ab(a))))))));\n        case 10:\n            return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));\n    }\n    return;\n}\nvar isFunctor = function (I) { return typeof I.map === 'function'; };\nvar isContravariant = function (I) { return typeof I.contramap === 'function'; };\nvar isFunctorWithIndex = function (I) { return typeof I.mapWithIndex === 'function'; };\nvar isApply = function (I) { return typeof I.ap === 'function'; };\nvar isChain = function (I) { return typeof I.chain === 'function'; };\nvar isBifunctor = function (I) { return typeof I.bimap === 'function'; };\nvar isExtend = function (I) { return typeof I.extend === 'function'; };\nvar isFoldable = function (I) { return typeof I.reduce === 'function'; };\nvar isFoldableWithIndex = function (I) { return typeof I.reduceWithIndex === 'function'; };\nvar isAlt = function (I) { return typeof I.alt === 'function'; };\nvar isCompactable = function (I) { return typeof I.compact === 'function'; };\nvar isFilterable = function (I) { return typeof I.filter === 'function'; };\nvar isFilterableWithIndex = function (I) {\n    return typeof I.filterWithIndex === 'function';\n};\nvar isProfunctor = function (I) { return typeof I.promap === 'function'; };\nvar isSemigroupoid = function (I) { return typeof I.compose === 'function'; };\nvar isMonadThrow = function (I) { return typeof I.throwError === 'function'; };\nexport function pipeable(I) {\n    var r = {};\n    if (isFunctor(I)) {\n        var map = function (f) { return function (fa) { return I.map(fa, f); }; };\n        r.map = map;\n    }\n    if (isContravariant(I)) {\n        var contramap = function (f) { return function (fa) { return I.contramap(fa, f); }; };\n        r.contramap = contramap;\n    }\n    if (isFunctorWithIndex(I)) {\n        var mapWithIndex = function (f) { return function (fa) { return I.mapWithIndex(fa, f); }; };\n        r.mapWithIndex = mapWithIndex;\n    }\n    if (isApply(I)) {\n        var ap = function (fa) { return function (fab) { return I.ap(fab, fa); }; };\n        var apFirst = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function (a) { return function () { return a; }; }), fb);\n        }; };\n        r.ap = ap;\n        r.apFirst = apFirst;\n        r.apSecond = function (fb) { return function (fa) {\n            return I.ap(I.map(fa, function () { return function (b) { return b; }; }), fb);\n        }; };\n    }\n    if (isChain(I)) {\n        var chain = function (f) { return function (ma) { return I.chain(ma, f); }; };\n        var chainFirst = function (f) { return function (ma) { return I.chain(ma, function (a) { return I.map(f(a), function () { return a; }); }); }; };\n        var flatten = function (mma) { return I.chain(mma, identity); };\n        r.chain = chain;\n        r.chainFirst = chainFirst;\n        r.flatten = flatten;\n    }\n    if (isBifunctor(I)) {\n        var bimap = function (f, g) { return function (fa) { return I.bimap(fa, f, g); }; };\n        var mapLeft = function (f) { return function (fa) { return I.mapLeft(fa, f); }; };\n        r.bimap = bimap;\n        r.mapLeft = mapLeft;\n    }\n    if (isExtend(I)) {\n        var extend = function (f) { return function (wa) { return I.extend(wa, f); }; };\n        var duplicate = function (wa) { return I.extend(wa, identity); };\n        r.extend = extend;\n        r.duplicate = duplicate;\n    }\n    if (isFoldable(I)) {\n        var reduce = function (b, f) { return function (fa) { return I.reduce(fa, b, f); }; };\n        var foldMap = function (M) {\n            var foldMapM = I.foldMap(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRight = function (b, f) { return function (fa) { return I.reduceRight(fa, b, f); }; };\n        r.reduce = reduce;\n        r.foldMap = foldMap;\n        r.reduceRight = reduceRight;\n    }\n    if (isFoldableWithIndex(I)) {\n        var reduceWithIndex = function (b, f) { return function (fa) {\n            return I.reduceWithIndex(fa, b, f);\n        }; };\n        var foldMapWithIndex = function (M) {\n            var foldMapM = I.foldMapWithIndex(M);\n            return function (f) { return function (fa) { return foldMapM(fa, f); }; };\n        };\n        var reduceRightWithIndex = function (b, f) { return function (fa) {\n            return I.reduceRightWithIndex(fa, b, f);\n        }; };\n        r.reduceWithIndex = reduceWithIndex;\n        r.foldMapWithIndex = foldMapWithIndex;\n        r.reduceRightWithIndex = reduceRightWithIndex;\n    }\n    if (isAlt(I)) {\n        var alt = function (that) { return function (fa) { return I.alt(fa, that); }; };\n        r.alt = alt;\n    }\n    if (isCompactable(I)) {\n        r.compact = I.compact;\n        r.separate = I.separate;\n    }\n    if (isFilterable(I)) {\n        var filter = function (predicate) { return function (fa) {\n            return I.filter(fa, predicate);\n        }; };\n        var filterMap = function (f) { return function (fa) { return I.filterMap(fa, f); }; };\n        var partition = function (predicate) { return function (fa) {\n            return I.partition(fa, predicate);\n        }; };\n        var partitionMap = function (f) { return function (fa) { return I.partitionMap(fa, f); }; };\n        r.filter = filter;\n        r.filterMap = filterMap;\n        r.partition = partition;\n        r.partitionMap = partitionMap;\n    }\n    if (isFilterableWithIndex(I)) {\n        var filterWithIndex = function (predicateWithIndex) { return function (fa) { return I.filterWithIndex(fa, predicateWithIndex); }; };\n        var filterMapWithIndex = function (f) { return function (fa) {\n            return I.filterMapWithIndex(fa, f);\n        }; };\n        var partitionWithIndex = function (predicateWithIndex) { return function (fa) { return I.partitionWithIndex(fa, predicateWithIndex); }; };\n        var partitionMapWithIndex = function (f) { return function (fa) {\n            return I.partitionMapWithIndex(fa, f);\n        }; };\n        r.filterWithIndex = filterWithIndex;\n        r.filterMapWithIndex = filterMapWithIndex;\n        r.partitionWithIndex = partitionWithIndex;\n        r.partitionMapWithIndex = partitionMapWithIndex;\n    }\n    if (isProfunctor(I)) {\n        var promap = function (f, g) { return function (fa) { return I.promap(fa, f, g); }; };\n        r.promap = promap;\n    }\n    if (isSemigroupoid(I)) {\n        var compose = function (that) { return function (fa) { return I.compose(fa, that); }; };\n        r.compose = compose;\n    }\n    if (isMonadThrow(I)) {\n        var fromOption = function (onNone) { return function (ma) {\n            return ma._tag === 'None' ? I.throwError(onNone()) : I.of(ma.value);\n        }; };\n        var fromEither = function (ma) {\n            return ma._tag === 'Left' ? I.throwError(ma.left) : I.of(ma.right);\n        };\n        var fromPredicate = function (predicate, onFalse) { return function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }; };\n        var filterOrElse = function (predicate, onFalse) { return function (ma) { return I.chain(ma, function (a) { return (predicate(a) ? I.of(a) : I.throwError(onFalse(a))); }); }; };\n        r.fromOption = fromOption;\n        r.fromEither = fromEither;\n        r.fromPredicate = fromPredicate;\n        r.filterOrElse = filterOrElse;\n    }\n    return r;\n}\n","/**\n * Represents a value of one of two possible types (a disjoint union).\n *\n * An instance of `Either` is either an instance of `Left` or `Right`.\n *\n * A common use of `Either` is as an alternative to `Option` for dealing with possible missing values. In this usage,\n * `None` is replaced with a `Left` which can contain useful information. `Right` takes the place of `Some`. Convention\n * dictates that `Left` is used for failure and `Right` is used for success.\n *\n * For example, you could use `Either<string, number>` to detect whether a received input is a `string` or a `number`.\n *\n * ```ts\n * import { Either, left, right } from 'fp-ts/lib/Either'\n *\n * function parse(input: string): Either<Error, number> {\n *   const n = parseInt(input, 10)\n *   return isNaN(n) ? left(new Error('not a number')) : right(n)\n * }\n * ```\n *\n * `Either` is right-biased, which means that `Right` is assumed to be the default case to operate on. If it is `Left`,\n * operations like `map`, `chain`, ... return the `Left` value unchanged:\n *\n * ```ts\n * import { map, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * pipe(right(12), map(double)) // right(24)\n * pipe(left(23), map(double))  // left(23)\n * ```\n *\n * @since 2.0.0\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { tailRec } from './ChainRec';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Either';\n/**\n * Constructs a new `Either` holding a `Left` value. This usually represents a failure, due to the right-bias of this\n * structure\n *\n * @since 2.0.0\n */\nexport function left(e) {\n    return { _tag: 'Left', left: e };\n}\n/**\n * Constructs a new `Either` holding a `Right` value. This usually represents a successful value due to the right bias\n * of this structure\n *\n * @since 2.0.0\n */\nexport function right(a) {\n    return { _tag: 'Right', right: a };\n}\n/**\n * Takes a default and a nullable value, if the value is not nully, turn it into a `Right`, if the value is nully use\n * the provided default as a `Left`\n *\n * @example\n * import { fromNullable, left, right } from 'fp-ts/lib/Either'\n *\n * const parse = fromNullable('nully')\n *\n * assert.deepStrictEqual(parse(1), right(1))\n * assert.deepStrictEqual(parse(null), left('nully'))\n *\n * @since 2.0.0\n */\nexport function fromNullable(e) {\n    return function (a) { return (a == null ? left(e) : right(a)); };\n}\n/**\n * Default value for the `onError` argument of `tryCatch`\n *\n * @since 2.0.0\n */\nexport function toError(e) {\n    return e instanceof Error ? e : new Error(String(e));\n}\n/**\n * Constructs a new `Either` from a function that might throw\n *\n * @example\n * import { Either, left, right, tryCatch } from 'fp-ts/lib/Either'\n *\n * const unsafeHead = <A>(as: Array<A>): A => {\n *   if (as.length > 0) {\n *     return as[0]\n *   } else {\n *     throw new Error('empty array')\n *   }\n * }\n *\n * const head = <A>(as: Array<A>): Either<Error, A> => {\n *   return tryCatch(() => unsafeHead(as), e => (e instanceof Error ? e : new Error('unknown error')))\n * }\n *\n * assert.deepStrictEqual(head([]), left(new Error('empty array')))\n * assert.deepStrictEqual(head([1, 2, 3]), right(1))\n *\n * @since 2.0.0\n */\nexport function tryCatch(f, onError) {\n    try {\n        return right(f());\n    }\n    catch (e) {\n        return left(onError(e));\n    }\n}\n/**\n * Takes two functions and an `Either` value, if the value is a `Left` the inner value is applied to the first function,\n * if the value is a `Right` the inner value is applied to the second function.\n *\n * @example\n * import { fold, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * function onLeft(errors: Array<string>): string {\n *   return `Errors: ${errors.join(', ')}`\n * }\n *\n * function onRight(value: number): string {\n *   return `Ok: ${value}`\n * }\n *\n * assert.strictEqual(\n *   pipe(\n *     right(1),\n *     fold(onLeft, onRight)\n *   ),\n *   'Ok: 1'\n * )\n * assert.strictEqual(\n *   pipe(\n *     left(['error 1', 'error 2']),\n *     fold(onLeft, onRight)\n *   ),\n *   'Errors: error 1, error 2'\n * )\n *\n * @since 2.0.0\n */\nexport function fold(onLeft, onRight) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : onRight(ma.right)); };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(SE, SA) {\n    return {\n        show: function (ma) { return (isLeft(ma) ? \"left(\" + SE.show(ma.left) + \")\" : \"right(\" + SA.show(ma.right) + \")\"); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(EL, EA) {\n    return {\n        equals: function (x, y) {\n            return x === y || (isLeft(x) ? isLeft(y) && EL.equals(x.left, y.left) : isRight(y) && EA.equals(x.right, y.right));\n        }\n    };\n}\n/**\n * Semigroup returning the left-most non-`Left` value. If both operands are `Right`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * @example\n * import { getSemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getSemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), right(2))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), right(1))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nexport function getSemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(y) ? x : isLeft(x) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\n/**\n * `Apply` semigroup\n *\n * @example\n * import { getApplySemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), left('a'))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), left('b'))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nexport function getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(x) ? x : isLeft(y) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: right(M.empty) });\n}\n/**\n * Returns `true` if the either is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isLeft(ma) {\n    switch (ma._tag) {\n        case 'Left':\n            return true;\n        case 'Right':\n            return false;\n    }\n}\n/**\n * Returns `true` if the either is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nexport function isRight(ma) {\n    return isLeft(ma) ? false : true;\n}\n/**\n * @since 2.0.0\n */\nexport function swap(ma) {\n    return isLeft(ma) ? right(ma.left) : left(ma.right);\n}\n/**\n * @since 2.0.0\n */\nexport function orElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma); };\n}\n/**\n * @since 2.0.0\n */\nexport function getOrElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma.right); };\n}\n/**\n * @since 2.0.0\n */\nexport function elem(E) {\n    return function (a, ma) { return (isLeft(ma) ? false : E.equals(a, ma.right)); };\n}\n/**\n * Returns `false` if `Left` or returns the result of the application of the given predicate to the `Right` value.\n *\n * @example\n * import { exists, left, right } from 'fp-ts/lib/Either'\n *\n * const gt2 = exists((n: number) => n > 2)\n *\n * assert.strictEqual(gt2(left('a')), false)\n * assert.strictEqual(gt2(right(1)), false)\n * assert.strictEqual(gt2(right(3)), true)\n *\n * @since 2.0.0\n */\nexport function exists(predicate) {\n    return function (ma) { return (isLeft(ma) ? false : predicate(ma.right)); };\n}\n/**\n * Converts a JavaScript Object Notation (JSON) string into an object.\n *\n * @example\n * import { parseJSON, toError, right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(parseJSON('{\"a\":1}', toError), right({ a: 1 }))\n * assert.deepStrictEqual(parseJSON('{\"a\":}', toError), left(new SyntaxError('Unexpected token } in JSON at position 5')))\n *\n * @since 2.0.0\n */\nexport function parseJSON(s, onError) {\n    return tryCatch(function () { return JSON.parse(s); }, onError);\n}\n/**\n * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\n *\n * @example\n * import * as E from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.deepStrictEqual(E.stringifyJSON({ a: 1 }, E.toError), E.right('{\"a\":1}'))\n * const circular: any = { ref: null }\n * circular.ref = circular\n * assert.deepStrictEqual(\n *   pipe(\n *     E.stringifyJSON(circular, E.toError),\n *     E.mapLeft(e => e.message.includes('Converting circular structure to JSON'))\n *   ),\n *   E.left(true)\n * )\n *\n * @since 2.0.0\n */\nexport function stringifyJSON(u, onError) {\n    return tryCatch(function () { return JSON.stringify(u); }, onError);\n}\n/**\n * Builds `Witherable` instance for `Either` given `Monoid` for the left side\n *\n * @since 2.0.0\n */\nexport function getWitherable(M) {\n    var empty = left(M.empty);\n    var compact = function (ma) {\n        return isLeft(ma) ? ma : ma.right._tag === 'None' ? left(M.empty) : right(ma.right.value);\n    };\n    var separate = function (ma) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : isLeft(ma.right)\n                ? { left: right(ma.right.left), right: empty }\n                : { left: empty, right: right(ma.right.right) };\n    };\n    var partitionMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return { left: ma, right: ma };\n        }\n        var e = f(ma.right);\n        return isLeft(e) ? { left: right(e.left), right: empty } : { left: empty, right: right(e.right) };\n    };\n    var partition = function (ma, p) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : p(ma.right)\n                ? { left: empty, right: right(ma.right) }\n                : { left: right(ma.right), right: empty };\n    };\n    var filterMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        var ob = f(ma.right);\n        return ob._tag === 'None' ? left(M.empty) : right(ob.value);\n    };\n    var filter = function (ma, predicate) {\n        return isLeft(ma) ? ma : predicate(ma.right) ? ma : left(M.empty);\n    };\n    var wither = function (F) {\n        var traverseF = either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), compact); };\n    };\n    var wilt = function (F) {\n        var traverseF = either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), separate); };\n    };\n    return {\n        URI: URI,\n        _E: undefined,\n        map: either.map,\n        compact: compact,\n        separate: separate,\n        filter: filter,\n        filterMap: filterMap,\n        partition: partition,\n        partitionMap: partitionMap,\n        traverse: either.traverse,\n        sequence: either.sequence,\n        reduce: either.reduce,\n        foldMap: either.foldMap,\n        reduceRight: either.reduceRight,\n        wither: wither,\n        wilt: wilt\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getValidation(S) {\n    return __assign(__assign({}, either), { _E: undefined, ap: function (mab, ma) {\n            return isLeft(mab)\n                ? isLeft(ma)\n                    ? left(S.concat(mab.left, ma.left))\n                    : mab\n                : isLeft(ma)\n                    ? ma\n                    : right(mab.right(ma.right));\n        }, alt: function (fx, f) {\n            if (isRight(fx)) {\n                return fx;\n            }\n            var fy = f();\n            return isLeft(fy) ? left(S.concat(fx.left, fy.left)) : fy;\n        } });\n}\n/**\n * @since 2.0.0\n */\nexport function getValidationSemigroup(SE, SA) {\n    return {\n        concat: function (fx, fy) {\n            return isLeft(fx)\n                ? isLeft(fy)\n                    ? left(SE.concat(fx.left, fy.left))\n                    : fx\n                : isLeft(fy)\n                    ? fy\n                    : right(SA.concat(fx.right, fy.right));\n        }\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getValidationMonoid(SE, SA) {\n    return {\n        concat: getValidationSemigroup(SE, SA).concat,\n        empty: right(SA.empty)\n    };\n}\n/**\n * @since 2.0.0\n */\nexport var either = {\n    URI: URI,\n    map: function (ma, f) { return (isLeft(ma) ? ma : right(f(ma.right))); },\n    of: right,\n    ap: function (mab, ma) { return (isLeft(mab) ? mab : isLeft(ma) ? ma : right(mab.right(ma.right))); },\n    chain: function (ma, f) { return (isLeft(ma) ? ma : f(ma.right)); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : f(fa.right, b)); },\n    traverse: function (F) { return function (ma, f) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(f(ma.right), right);\n    }; },\n    sequence: function (F) { return function (ma) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(ma.right, right);\n    }; },\n    bimap: function (fea, f, g) { return (isLeft(fea) ? left(f(fea.left)) : right(g(fea.right))); },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : fea); },\n    alt: function (fx, fy) { return (isLeft(fx) ? fy() : fx); },\n    extend: function (wa, f) { return (isLeft(wa) ? wa : right(f(wa))); },\n    chainRec: function (a, f) {\n        return tailRec(f(a), function (e) {\n            return isLeft(e) ? right(left(e.left)) : isLeft(e.right) ? left(f(e.right.left)) : right(right(e.right.right));\n        });\n    },\n    throwError: left\n};\nvar _a = pipeable(either), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nbimap, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapLeft, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nfromOption, \n/**\n * @since 2.0.0\n */\nfromPredicate, \n/**\n * @since 2.0.0\n */\nfilterOrElse };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { fromEquals } from './Eq';\nimport { identity } from './function';\nimport { isNone, isSome, none, some as optionSome } from './Option';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.5.0\n */\nexport var URI = 'ReadonlyRecord';\n/**\n * @since 2.5.0\n */\nexport function fromRecord(r) {\n    return Object.assign({}, r);\n}\n/**\n * @since 2.5.0\n */\nexport function toRecord(r) {\n    return Object.assign({}, r);\n}\n/**\n * @since 2.5.0\n */\nexport function getShow(S) {\n    return {\n        show: function (r) {\n            var elements = collect(function (k, a) { return JSON.stringify(k) + \": \" + S.show(a); })(r).join(', ');\n            return elements === '' ? '{}' : \"{ \" + elements + \" }\";\n        }\n    };\n}\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.5.0\n */\nexport function size(r) {\n    return Object.keys(r).length;\n}\n/**\n * Test whether a record is empty\n *\n * @since 2.5.0\n */\nexport function isEmpty(r) {\n    return Object.keys(r).length === 0;\n}\n/**\n * @since 2.5.0\n */\nexport function keys(r) {\n    return Object.keys(r).sort();\n}\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/ReadonlyRecord'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.5.0\n */\nexport function collect(f) {\n    return function (r) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        for (var _i = 0, _a = keys(r); _i < _a.length; _i++) {\n            var key = _a[_i];\n            out.push(f(key, r[key]));\n        }\n        return out;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var toReadonlyArray = collect(function (k, a) { return [k, a]; });\nexport function toUnfoldable(U) {\n    return function (r) {\n        var arr = toReadonlyArray(r);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? optionSome([arr[b], b + 1]) : none); });\n    };\n}\nexport function insertAt(k, a) {\n    return function (r) {\n        if (r[k] === a) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return out;\n    };\n}\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 2.5.0\n */\nexport function hasOwnProperty(k, r) {\n    return _hasOwnProperty.call(r, k);\n}\nexport function deleteAt(k) {\n    return function (r) {\n        if (!_hasOwnProperty.call(r, k)) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        delete out[k];\n        return out;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function updateAt(k, a) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return none;\n        }\n        if (r[k] === a) {\n            return optionSome(r);\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return optionSome(out);\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function modifyAt(k, f) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return none;\n        }\n        var out = Object.assign({}, r);\n        out[k] = f(r[k]);\n        return optionSome(out);\n    };\n}\nexport function pop(k) {\n    var deleteAtk = deleteAt(k);\n    return function (r) {\n        var oa = lookup(k, r);\n        return isNone(oa) ? none : optionSome([oa.value, deleteAtk(r)]);\n    };\n}\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.5.0\n */\nexport function isSubrecord(E) {\n    return function (x, y) {\n        for (var k in x) {\n            if (!_hasOwnProperty.call(y, k) || !E.equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexport function getEq(E) {\n    var isSubrecordE = isSubrecord(E);\n    return fromEquals(function (x, y) { return isSubrecordE(x, y) && isSubrecordE(y, x); });\n}\nexport function getMonoid(S) {\n    return {\n        concat: function (x, y) {\n            if (x === empty) {\n                return y;\n            }\n            if (y === empty) {\n                return x;\n            }\n            var keys = Object.keys(y);\n            var len = keys.length;\n            if (len === 0) {\n                return x;\n            }\n            var r = __assign({}, x);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                r[k] = _hasOwnProperty.call(x, k) ? S.concat(x[k], y[k]) : y[k];\n            }\n            return r;\n        },\n        empty: empty\n    };\n}\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.5.0\n */\nexport function lookup(k, r) {\n    return _hasOwnProperty.call(r, k) ? optionSome(r[k]) : none;\n}\n/**\n * @since 2.5.0\n */\nexport var empty = {};\nexport function mapWithIndex(f) {\n    return function (fa) { return readonlyRecord.mapWithIndex(fa, f); };\n}\nexport function map(f) {\n    return mapWithIndex(function (_, a) { return f(a); });\n}\nexport function reduceWithIndex(b, f) {\n    return function (fa) { return readonlyRecord.reduceWithIndex(fa, b, f); };\n}\nexport function foldMapWithIndex(M) {\n    var foldMapWithIndexM = readonlyRecord.foldMapWithIndex(M);\n    return function (f) { return function (fa) { return foldMapWithIndexM(fa, f); }; };\n}\nexport function reduceRightWithIndex(b, f) {\n    return function (fa) { return readonlyRecord.reduceRightWithIndex(fa, b, f); };\n}\n/**\n * Create a record with one key/value pair\n *\n * @since 2.5.0\n */\nexport function singleton(k, a) {\n    var _a;\n    return _a = {}, _a[k] = a, _a;\n}\nexport function traverseWithIndex(F) {\n    var traverseWithIndexF = readonlyRecord.traverseWithIndex(F);\n    return function (f) { return function (ta) { return traverseWithIndexF(ta, f); }; };\n}\nexport function traverse(F) {\n    var traverseWithIndexF = traverseWithIndex(F);\n    return function (f) { return traverseWithIndexF(function (_, a) { return f(a); }); };\n}\nexport function sequence(F) {\n    return traverseWithIndex(F)(function (_, a) { return a; });\n}\nexport function partitionMapWithIndex(f) {\n    return function (fa) { return readonlyRecord.partitionMapWithIndex(fa, f); };\n}\nexport function partitionWithIndex(predicateWithIndex) {\n    return function (fa) { return readonlyRecord.partitionWithIndex(fa, predicateWithIndex); };\n}\nexport function filterMapWithIndex(f) {\n    return function (fa) { return readonlyRecord.filterMapWithIndex(fa, f); };\n}\nexport function filterWithIndex(predicateWithIndex) {\n    return function (fa) { return readonlyRecord.filterWithIndex(fa, predicateWithIndex); };\n}\nexport function fromFoldable(M, F) {\n    var fromFoldableMapM = fromFoldableMap(M, F);\n    return function (fka) { return fromFoldableMapM(fka, identity); };\n}\nexport function fromFoldableMap(M, F) {\n    return function (ta, f) {\n        return F.reduce(ta, {}, function (r, a) {\n            var _a = f(a), k = _a[0], b = _a[1];\n            r[k] = _hasOwnProperty.call(r, k) ? M.concat(r[k], b) : b;\n            return r;\n        });\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function every(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (!predicate(r[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function some(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (predicate(r[k])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport function elem(E) {\n    return function (a, fa) {\n        for (var k in fa) {\n            if (E.equals(fa[k], a)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var readonlyRecord = {\n    URI: URI,\n    map: function (fa, f) { return readonlyRecord.mapWithIndex(fa, function (_, a) { return f(a); }); },\n    reduce: function (fa, b, f) { return readonlyRecord.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = readonlyRecord.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return readonlyRecord.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    traverse: function (F) {\n        var traverseWithIndexF = readonlyRecord.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: sequence,\n    compact: function (fa) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var optionA = fa[key];\n            if (isSome(optionA)) {\n                r[key] = optionA.value;\n            }\n        }\n        return r;\n    },\n    separate: function (fa) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var e = fa[key];\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, predicate) {\n        return readonlyRecord.filterWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    filterMap: function (fa, f) { return readonlyRecord.filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return readonlyRecord.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return readonlyRecord.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    wither: function (F) {\n        var traverseF = readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyRecord.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), readonlyRecord.separate); };\n    },\n    mapWithIndex: function (fa, f) {\n        var out = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n            var key = keys_3[_i];\n            out[key] = f(key, fa[key]);\n        }\n        return out;\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = f(k, out, fa[k]);\n        }\n        return out;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) {\n        var out = M.empty;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = M.concat(out, f(k, fa[k]));\n        }\n        return out;\n    }; },\n    reduceRightWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = keys[i];\n            out = f(k, fa[k], out);\n        }\n        return out;\n    },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        var keys = Object.keys(ta);\n        if (keys.length === 0) {\n            return F.of(empty);\n        }\n        var fr = F.of({});\n        var _loop_1 = function (key) {\n            fr = F.ap(F.map(fr, function (r) { return function (b) {\n                r[key] = b;\n                return r;\n            }; }), f(key, ta[key]));\n        };\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var key = keys_4[_i];\n            _loop_1(key);\n        }\n        return fr;\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\n            var key = keys_5[_i];\n            var e = f(key, fa[key]);\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_6 = keys; _i < keys_6.length; _i++) {\n            var key = keys_6[_i];\n            var a = fa[key];\n            if (predicateWithIndex(key, a)) {\n                right[key] = a;\n            }\n            else {\n                left[key] = a;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_7 = keys; _i < keys_7.length; _i++) {\n            var key = keys_7[_i];\n            var optionB = f(key, fa[key]);\n            if (isSome(optionB)) {\n                r[key] = optionB.value;\n            }\n        }\n        return r;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        var out = {};\n        var changed = false;\n        for (var key in fa) {\n            if (_hasOwnProperty.call(fa, key)) {\n                var a = fa[key];\n                if (predicateWithIndex(key, a)) {\n                    out[key] = a;\n                }\n                else {\n                    changed = true;\n                }\n            }\n        }\n        return changed ? out : fa;\n    }\n};\nvar _a = pipeable(readonlyRecord), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.5.0\n */\nfilter, \n/**\n * @since 2.5.0\n */\nfilterMap, \n/**\n * @since 2.5.0\n */\nfoldMap, \n/**\n * @since 2.5.0\n */\npartition, \n/**\n * @since 2.5.0\n */\npartitionMap, \n/**\n * @since 2.5.0\n */\nreduce, \n/**\n * @since 2.5.0\n */\nreduceRight, \n/**\n * @since 2.5.0\n */\ncompact, \n/**\n * @since 2.5.0\n */\nseparate };\n","\"use strict\";\n/**\n * @since 2.0.0\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction identity(a) {\n    return a;\n}\nexports.identity = identity;\n/**\n * @since 2.0.0\n */\nexports.unsafeCoerce = identity;\n/**\n * @since 2.0.0\n */\nfunction not(predicate) {\n    return function (a) { return !predicate(a); };\n}\nexports.not = not;\n/**\n * @since 2.0.0\n */\nfunction constant(a) {\n    return function () { return a; };\n}\nexports.constant = constant;\n/**\n * A thunk that returns always `true`\n *\n * @since 2.0.0\n */\nexports.constTrue = function () {\n    return true;\n};\n/**\n * A thunk that returns always `false`\n *\n * @since 2.0.0\n */\nexports.constFalse = function () {\n    return false;\n};\n/**\n * A thunk that returns always `null`\n *\n * @since 2.0.0\n */\nexports.constNull = function () {\n    return null;\n};\n/**\n * A thunk that returns always `undefined`\n *\n * @since 2.0.0\n */\nexports.constUndefined = function () {\n    return;\n};\n/**\n * A thunk that returns always `void`\n *\n * @since 2.0.0\n */\nexports.constVoid = function () {\n    return;\n};\n/**\n * Flips the order of the arguments of a function of two arguments.\n *\n * @since 2.0.0\n */\nfunction flip(f) {\n    return function (b, a) { return f(a, b); };\n}\nexports.flip = flip;\nfunction flow(ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return ab;\n        case 2:\n            return function () {\n                return bc(ab.apply(this, arguments));\n            };\n        case 3:\n            return function () {\n                return cd(bc(ab.apply(this, arguments)));\n            };\n        case 4:\n            return function () {\n                return de(cd(bc(ab.apply(this, arguments))));\n            };\n        case 5:\n            return function () {\n                return ef(de(cd(bc(ab.apply(this, arguments)))));\n            };\n        case 6:\n            return function () {\n                return fg(ef(de(cd(bc(ab.apply(this, arguments))))));\n            };\n        case 7:\n            return function () {\n                return gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))));\n            };\n        case 8:\n            return function () {\n                return hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments))))))));\n            };\n        case 9:\n            return function () {\n                return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))))));\n            };\n    }\n    return;\n}\nexports.flow = flow;\n/**\n * @since 2.0.0\n */\nfunction tuple() {\n    var t = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        t[_i] = arguments[_i];\n    }\n    return t;\n}\nexports.tuple = tuple;\n/**\n * @since 2.0.0\n */\nfunction increment(n) {\n    return n + 1;\n}\nexports.increment = increment;\n/**\n * @since 2.0.0\n */\nfunction decrement(n) {\n    return n - 1;\n}\nexports.decrement = decrement;\n/**\n * @since 2.0.0\n */\nfunction absurd(_) {\n    throw new Error('Called `absurd` function which should be uncallable');\n}\nexports.absurd = absurd;\n/**\n * Creates a tupled version of this function: instead of `n` arguments, it accepts a single tuple argument.\n *\n * @example\n * import { tupled } from 'fp-ts/lib/function'\n *\n * const add = tupled((x: number, y: number): number => x + y)\n *\n * assert.strictEqual(add([1, 2]), 3)\n *\n * @since 2.4.0\n */\nfunction tupled(f) {\n    return function (a) { return f.apply(void 0, a); };\n}\nexports.tupled = tupled;\n/**\n * Inverse function of `tupled`\n *\n * @since 2.4.0\n */\nfunction untupled(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return f(a);\n    };\n}\nexports.untupled = untupled;\n","/**\n * @since 2.0.0\n */\n/**\n * @since 2.0.0\n */\nexport function identity(a) {\n    return a;\n}\n/**\n * @since 2.0.0\n */\nexport var unsafeCoerce = identity;\n/**\n * @since 2.0.0\n */\nexport function not(predicate) {\n    return function (a) { return !predicate(a); };\n}\n/**\n * @since 2.0.0\n */\nexport function constant(a) {\n    return function () { return a; };\n}\n/**\n * A thunk that returns always `true`\n *\n * @since 2.0.0\n */\nexport var constTrue = function () {\n    return true;\n};\n/**\n * A thunk that returns always `false`\n *\n * @since 2.0.0\n */\nexport var constFalse = function () {\n    return false;\n};\n/**\n * A thunk that returns always `null`\n *\n * @since 2.0.0\n */\nexport var constNull = function () {\n    return null;\n};\n/**\n * A thunk that returns always `undefined`\n *\n * @since 2.0.0\n */\nexport var constUndefined = function () {\n    return;\n};\n/**\n * A thunk that returns always `void`\n *\n * @since 2.0.0\n */\nexport var constVoid = function () {\n    return;\n};\n/**\n * Flips the order of the arguments of a function of two arguments.\n *\n * @since 2.0.0\n */\nexport function flip(f) {\n    return function (b, a) { return f(a, b); };\n}\nexport function flow(ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return ab;\n        case 2:\n            return function () {\n                return bc(ab.apply(this, arguments));\n            };\n        case 3:\n            return function () {\n                return cd(bc(ab.apply(this, arguments)));\n            };\n        case 4:\n            return function () {\n                return de(cd(bc(ab.apply(this, arguments))));\n            };\n        case 5:\n            return function () {\n                return ef(de(cd(bc(ab.apply(this, arguments)))));\n            };\n        case 6:\n            return function () {\n                return fg(ef(de(cd(bc(ab.apply(this, arguments))))));\n            };\n        case 7:\n            return function () {\n                return gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))));\n            };\n        case 8:\n            return function () {\n                return hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments))))))));\n            };\n        case 9:\n            return function () {\n                return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))))));\n            };\n    }\n    return;\n}\n/**\n * @since 2.0.0\n */\nexport function tuple() {\n    var t = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        t[_i] = arguments[_i];\n    }\n    return t;\n}\n/**\n * @since 2.0.0\n */\nexport function increment(n) {\n    return n + 1;\n}\n/**\n * @since 2.0.0\n */\nexport function decrement(n) {\n    return n - 1;\n}\n/**\n * @since 2.0.0\n */\nexport function absurd(_) {\n    throw new Error('Called `absurd` function which should be uncallable');\n}\n/**\n * Creates a tupled version of this function: instead of `n` arguments, it accepts a single tuple argument.\n *\n * @example\n * import { tupled } from 'fp-ts/lib/function'\n *\n * const add = tupled((x: number, y: number): number => x + y)\n *\n * assert.strictEqual(add([1, 2]), 3)\n *\n * @since 2.4.0\n */\nexport function tupled(f) {\n    return function (a) { return f.apply(void 0, a); };\n}\n/**\n * Inverse function of `tupled`\n *\n * @since 2.4.0\n */\nexport function untupled(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return f(a);\n    };\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Option';\n/**\n * @since 2.0.0\n */\nexports.none = { _tag: 'None' };\n/**\n * @since 2.0.0\n */\nfunction some(a) {\n    return { _tag: 'Some', value: a };\n}\nexports.some = some;\n/**\n * Returns `true` if the option is an instance of `Some`, `false` otherwise\n *\n * @example\n * import { some, none, isSome } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isSome(some(1)), true)\n * assert.strictEqual(isSome(none), false)\n *\n * @since 2.0.0\n */\nfunction isSome(fa) {\n    return fa._tag === 'Some';\n}\nexports.isSome = isSome;\n/**\n * Returns `true` if the option is `None`, `false` otherwise\n *\n * @example\n * import { some, none, isNone } from 'fp-ts/lib/Option'\n *\n * assert.strictEqual(isNone(some(1)), false)\n * assert.strictEqual(isNone(none), true)\n *\n * @since 2.0.0\n */\nfunction isNone(fa) {\n    return fa._tag === 'None';\n}\nexports.isNone = isNone;\n/**\n * Takes a default value, a function, and an `Option` value, if the `Option` value is `None` the default value is\n * returned, otherwise the function is applied to the value inside the `Some` and the result is returned.\n *\n * @example\n * import { some, none, fold } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a some containing 1'\n * )\n *\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     fold(() => 'a none', a => `a some containing ${a}`)\n *   ),\n *   'a none'\n * )\n *\n * @since 2.0.0\n */\nfunction fold(onNone, onSome) {\n    return function (ma) { return (isNone(ma) ? onNone() : onSome(ma.value)); };\n}\nexports.fold = fold;\n/**\n * Constructs a new `Option` from a nullable type. If the value is `null` or `undefined`, returns `None`, otherwise\n * returns the value wrapped in a `Some`\n *\n * @example\n * import { none, some, fromNullable } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(fromNullable(undefined), none)\n * assert.deepStrictEqual(fromNullable(null), none)\n * assert.deepStrictEqual(fromNullable(1), some(1))\n *\n * @since 2.0.0\n */\nfunction fromNullable(a) {\n    return a == null ? exports.none : some(a);\n}\nexports.fromNullable = fromNullable;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `null`.\n *\n * @example\n * import { some, none, toNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toNullable\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toNullable\n *   ),\n *   null\n * )\n *\n * @since 2.0.0\n */\nfunction toNullable(ma) {\n    return isNone(ma) ? null : ma.value;\n}\nexports.toNullable = toNullable;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns `undefined`.\n *\n * @example\n * import { some, none, toUndefined } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     toUndefined\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     toUndefined\n *   ),\n *   undefined\n * )\n *\n * @since 2.0.0\n */\nfunction toUndefined(ma) {\n    return isNone(ma) ? undefined : ma.value;\n}\nexports.toUndefined = toUndefined;\n/**\n * Extracts the value out of the structure, if it exists. Otherwise returns the given default value\n *\n * @example\n * import { some, none, getOrElse } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     getOrElse(() => 0)\n *   ),\n *   1\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     getOrElse(() => 0)\n *   ),\n *   0\n * )\n *\n * @since 2.0.0\n */\nfunction getOrElse(onNone) {\n    return function (ma) { return (isNone(ma) ? onNone() : ma.value); };\n}\nexports.getOrElse = getOrElse;\n/**\n * Returns `true` if `ma` contains `a`\n *\n * @example\n * import { some, none, elem } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, some(1)), true)\n * assert.strictEqual(elem(eqNumber)(2, some(1)), false)\n * assert.strictEqual(elem(eqNumber)(1, none), false)\n *\n * @since 2.0.0\n */\nfunction elem(E) {\n    return function (a, ma) { return (isNone(ma) ? false : E.equals(a, ma.value)); };\n}\nexports.elem = elem;\n/**\n * Returns `true` if the predicate is satisfied by the wrapped value\n *\n * @example\n * import { some, none, exists } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 0)\n *   ),\n *   true\n * )\n * assert.strictEqual(\n *   pipe(\n *     some(1),\n *     exists(n => n > 1)\n *   ),\n *   false\n * )\n * assert.strictEqual(\n *   pipe(\n *     none,\n *     exists(n => n > 0)\n *   ),\n *   false\n * )\n *\n * @since 2.0.0\n */\nfunction exists(predicate) {\n    return function (ma) { return (isNone(ma) ? false : predicate(ma.value)); };\n}\nexports.exists = exists;\nfunction fromPredicate(predicate) {\n    return function (a) { return (predicate(a) ? some(a) : exports.none); };\n}\nexports.fromPredicate = fromPredicate;\n/**\n * Transforms an exception into an `Option`. If `f` throws, returns `None`, otherwise returns the output wrapped in\n * `Some`\n *\n * @example\n * import { none, some, tryCatch } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(\n *   tryCatch(() => {\n *     throw new Error()\n *   }),\n *   none\n * )\n * assert.deepStrictEqual(tryCatch(() => 1), some(1))\n *\n * @since 2.0.0\n */\nfunction tryCatch(f) {\n    try {\n        return some(f());\n    }\n    catch (e) {\n        return exports.none;\n    }\n}\nexports.tryCatch = tryCatch;\n/**\n * Returns an `E` value if possible\n *\n * @since 2.0.0\n */\nfunction getLeft(ma) {\n    return ma._tag === 'Right' ? exports.none : some(ma.left);\n}\nexports.getLeft = getLeft;\n/**\n * Returns an `A` value if possible\n *\n * @since 2.0.0\n */\nfunction getRight(ma) {\n    return ma._tag === 'Left' ? exports.none : some(ma.right);\n}\nexports.getRight = getRight;\n/**\n * Returns a `Refinement` (i.e. a custom type guard) from a `Option` returning function.\n * This function ensures that a custom type guard definition is type-safe.\n *\n * ```ts\n * import { some, none, getRefinement } from 'fp-ts/lib/Option'\n *\n * type A = { type: 'A' }\n * type B = { type: 'B' }\n * type C = A | B\n *\n * const isA = (c: C): c is A => c.type === 'B' // <= typo but typescript doesn't complain\n * const isA = getRefinement<C, A>(c => (c.type === 'B' ? some(c) : none)) // static error: Type '\"B\"' is not assignable to type '\"A\"'\n * ```\n *\n * @since 2.0.0\n */\nfunction getRefinement(getOption) {\n    return function (a) { return isSome(getOption(a)); };\n}\nexports.getRefinement = getRefinement;\n/**\n * This is `chain` + `fromNullable`, useful when working with optional values\n *\n * @example\n * import { some, none, fromNullable, mapNullable } from 'fp-ts/lib/Option'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * interface Employee {\n *   company?: {\n *     address?: {\n *       street?: {\n *         name?: string\n *       }\n *     }\n *   }\n * }\n *\n * const employee1: Employee = { company: { address: { street: { name: 'high street' } } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee1.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   some('high street')\n * )\n *\n * const employee2: Employee = { company: { address: { street: {} } } }\n *\n * assert.deepStrictEqual(\n *   pipe(\n *     fromNullable(employee2.company),\n *     mapNullable(company => company.address),\n *     mapNullable(address => address.street),\n *     mapNullable(street => street.name)\n *   ),\n *   none\n * )\n *\n * @since 2.0.0\n */\nfunction mapNullable(f) {\n    return function (ma) { return (isNone(ma) ? exports.none : fromNullable(f(ma.value))); };\n}\nexports.mapNullable = mapNullable;\n/**\n * @since 2.0.0\n */\nfunction getShow(S) {\n    return {\n        show: function (ma) { return (isNone(ma) ? 'none' : \"some(\" + S.show(ma.value) + \")\"); }\n    };\n}\nexports.getShow = getShow;\n/**\n * @example\n * import { none, some, getEq } from 'fp-ts/lib/Option'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * const E = getEq(eqNumber)\n * assert.strictEqual(E.equals(none, none), true)\n * assert.strictEqual(E.equals(none, some(1)), false)\n * assert.strictEqual(E.equals(some(1), none), false)\n * assert.strictEqual(E.equals(some(1), some(2)), false)\n * assert.strictEqual(E.equals(some(1), some(1)), true)\n *\n * @since 2.0.0\n */\nfunction getEq(E) {\n    return {\n        equals: function (x, y) { return x === y || (isNone(x) ? isNone(y) : isNone(y) ? false : E.equals(x.value, y.value)); }\n    };\n}\nexports.getEq = getEq;\n/**\n * The `Ord` instance allows `Option` values to be compared with\n * `compare`, whenever there is an `Ord` instance for\n * the type the `Option` contains.\n *\n * `None` is considered to be less than any `Some` value.\n *\n *\n * @example\n * import { none, some, getOrd } from 'fp-ts/lib/Option'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordNumber)\n * assert.strictEqual(O.compare(none, none), 0)\n * assert.strictEqual(O.compare(none, some(1)), -1)\n * assert.strictEqual(O.compare(some(1), none), 1)\n * assert.strictEqual(O.compare(some(1), some(2)), -1)\n * assert.strictEqual(O.compare(some(1), some(1)), 0)\n *\n * @since 2.0.0\n */\nfunction getOrd(O) {\n    return {\n        equals: getEq(O).equals,\n        compare: function (x, y) { return (x === y ? 0 : isSome(x) ? (isSome(y) ? O.compare(x.value, y.value) : 1) : -1); }\n    };\n}\nexports.getOrd = getOrd;\n/**\n * `Apply` semigroup\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | none               |\n * | none    | some(a) | none               |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getApplySemigroup, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup(semigroupSum)\n * assert.deepStrictEqual(S.concat(none, none), none)\n * assert.deepStrictEqual(S.concat(some(1), none), none)\n * assert.deepStrictEqual(S.concat(none, some(1)), none)\n * assert.deepStrictEqual(S.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nfunction getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isSome(x) && isSome(y) ? some(S.concat(x.value, y.value)) : exports.none); }\n    };\n}\nexports.getApplySemigroup = getApplySemigroup;\n/**\n * @since 2.0.0\n */\nfunction getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: some(M.empty) });\n}\nexports.getApplyMonoid = getApplyMonoid;\n/**\n * Monoid returning the left-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(a)      |\n *\n * @example\n * import { getFirstMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getFirstMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(1))\n *\n * @since 2.0.0\n */\nfunction getFirstMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : x); },\n        empty: exports.none\n    };\n}\nexports.getFirstMonoid = getFirstMonoid;\n/**\n * Monoid returning the right-most non-`None` value\n *\n * | x       | y       | concat(x, y) |\n * | ------- | ------- | ------------ |\n * | none    | none    | none         |\n * | some(a) | none    | some(a)      |\n * | none    | some(a) | some(a)      |\n * | some(a) | some(b) | some(b)      |\n *\n * @example\n * import { getLastMonoid, some, none } from 'fp-ts/lib/Option'\n *\n * const M = getLastMonoid<number>()\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(2))\n *\n * @since 2.0.0\n */\nfunction getLastMonoid() {\n    return {\n        concat: function (x, y) { return (isNone(y) ? x : y); },\n        empty: exports.none\n    };\n}\nexports.getLastMonoid = getLastMonoid;\n/**\n * Monoid returning the left-most non-`None` value. If both operands are `Some`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * | x       | y       | concat(x, y)       |\n * | ------- | ------- | ------------------ |\n * | none    | none    | none               |\n * | some(a) | none    | some(a)            |\n * | none    | some(a) | some(a)            |\n * | some(a) | some(b) | some(concat(a, b)) |\n *\n * @example\n * import { getMonoid, some, none } from 'fp-ts/lib/Option'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const M = getMonoid(semigroupSum)\n * assert.deepStrictEqual(M.concat(none, none), none)\n * assert.deepStrictEqual(M.concat(some(1), none), some(1))\n * assert.deepStrictEqual(M.concat(none, some(1)), some(1))\n * assert.deepStrictEqual(M.concat(some(1), some(2)), some(3))\n *\n * @since 2.0.0\n */\nfunction getMonoid(S) {\n    return {\n        concat: function (x, y) { return (isNone(x) ? y : isNone(y) ? x : some(S.concat(x.value, y.value))); },\n        empty: exports.none\n    };\n}\nexports.getMonoid = getMonoid;\nvar defaultSeparate = { left: exports.none, right: exports.none };\nvar identity = function (a) { return a; };\n/**\n * @since 2.0.0\n */\nexports.option = {\n    URI: exports.URI,\n    map: function (ma, f) { return (isNone(ma) ? exports.none : some(f(ma.value))); },\n    of: some,\n    ap: function (mab, ma) { return (isNone(mab) ? exports.none : isNone(ma) ? exports.none : some(mab.value(ma.value))); },\n    chain: function (ma, f) { return (isNone(ma) ? exports.none : f(ma.value)); },\n    reduce: function (fa, b, f) { return (isNone(fa) ? b : f(b, fa.value)); },\n    foldMap: function (M) { return function (fa, f) { return (isNone(fa) ? M.empty : f(fa.value)); }; },\n    reduceRight: function (fa, b, f) { return (isNone(fa) ? b : f(fa.value, b)); },\n    traverse: function (F) { return function (ta, f) {\n        return isNone(ta) ? F.of(exports.none) : F.map(f(ta.value), some);\n    }; },\n    sequence: function (F) { return function (ta) {\n        return isNone(ta) ? F.of(exports.none) : F.map(ta.value, some);\n    }; },\n    zero: function () { return exports.none; },\n    alt: function (ma, f) { return (isNone(ma) ? f() : ma); },\n    extend: function (wa, f) { return (isNone(wa) ? exports.none : some(f(wa))); },\n    compact: function (ma) { return exports.option.chain(ma, identity); },\n    separate: function (ma) {\n        var o = exports.option.map(ma, function (e) { return ({\n            left: getLeft(e),\n            right: getRight(e)\n        }); });\n        return isNone(o) ? defaultSeparate : o.value;\n    },\n    filter: function (fa, predicate) {\n        return isNone(fa) ? exports.none : predicate(fa.value) ? fa : exports.none;\n    },\n    filterMap: function (ma, f) { return (isNone(ma) ? exports.none : f(ma.value)); },\n    partition: function (fa, predicate) {\n        return {\n            left: exports.option.filter(fa, function (a) { return !predicate(a); }),\n            right: exports.option.filter(fa, predicate)\n        };\n    },\n    partitionMap: function (fa, f) { return exports.option.separate(exports.option.map(fa, f)); },\n    wither: function (F) { return function (fa, f) {\n        return isNone(fa) ? F.of(exports.none) : f(fa.value);\n    }; },\n    wilt: function (F) { return function (fa, f) {\n        var o = exports.option.map(fa, function (a) {\n            return F.map(f(a), function (e) { return ({\n                left: getLeft(e),\n                right: getRight(e)\n            }); });\n        });\n        return isNone(o)\n            ? F.of({\n                left: exports.none,\n                right: exports.none\n            })\n            : o.value;\n    }; },\n    throwError: function () { return exports.none; }\n};\nvar _a = pipeable_1.pipeable(exports.option), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate, fromEither = _a.fromEither;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\nexports.fromEither = fromEither;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar pipeable_1 = require(\"fp-ts/lib/pipeable\");\nvar ex = __importStar(require(\"./original/exit\"));\nvar driverSync_1 = require(\"./driverSync\");\nvar driver_1 = require(\"./driver\");\nvar util_1 = require(\"./original/support/util\");\nvar defs_1 = require(\"./defs\");\nexports.EffectTag = defs_1.EffectTag;\nvar ref_1 = require(\"./ref\");\nvar deferred_1 = require(\"./deferred\");\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nexports.URI = \"matechs/Effect\";\nvar Implementation = /** @class */ (function () {\n    function Implementation(_tag, f0, f1, f2) {\n        if (f0 === void 0) { f0 = undefined; }\n        if (f1 === void 0) { f1 = undefined; }\n        if (f2 === void 0) { f2 = undefined; }\n        this._tag = _tag;\n        this.f0 = f0;\n        this.f1 = f1;\n        this.f2 = f2;\n    }\n    Implementation.fromEffect = function (eff) {\n        return eff;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._TAG = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._A = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._E = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._S = function () {\n        return undefined;\n    };\n    /* istanbul ignore next */\n    Implementation.prototype._R = function (_) {\n        return undefined;\n    };\n    return Implementation;\n}());\nexports.Implementation = Implementation;\n/**\n * An IO has succeeded\n * @param a the value\n */\nfunction pure(a) {\n    return new Implementation(defs_1.EffectTag.Pure, a);\n}\nexports.pure = pure;\n/**\n * An IO that is failed\n *\n * Prefer raiseError or raiseAbort\n * @param e\n */\nfunction raised(e) {\n    return new Implementation(defs_1.EffectTag.Raised, e);\n}\nexports.raised = raised;\n/**\n * An IO that is failed with a checked error\n * @param e\n */\nfunction raiseError(e) {\n    return raised(ex.raise(e));\n}\nexports.raiseError = raiseError;\n/**\n * An IO that is failed with an unchecked error\n * @param u\n */\nfunction raiseAbort(u) {\n    return raised(ex.abort(u));\n}\nexports.raiseAbort = raiseAbort;\n/**\n * An IO that is already interrupted\n */\nexports.raiseInterrupt = raised(ex.interrupt);\n/**\n * An IO that is completed with the given exit\n * @param exit\n */\nfunction completed(exit) {\n    return new Implementation(defs_1.EffectTag.Completed, exit);\n}\nexports.completed = completed;\n/**\n * Wrap a block of impure code that returns an IO into an IO\n *\n * When evaluated this IO will run the given thunk to produce the next IO to execute.\n * @param thunk\n */\nfunction suspended(thunk) {\n    return new Implementation(defs_1.EffectTag.Suspended, thunk);\n}\nexports.suspended = suspended;\n/**\n * Wrap a block of impure code in an IO\n *\n * When evaluated the this will produce a value or throw\n * @param thunk\n */\nfunction sync(thunk) {\n    return suspended(function () { return pure(thunk()); });\n}\nexports.sync = sync;\nfunction trySync(thunk) {\n    return suspended(function () {\n        try {\n            return pure(thunk());\n        }\n        catch (e) {\n            return raiseError(e);\n        }\n    });\n}\nexports.trySync = trySync;\nfunction trySyncMap(onError) {\n    return function (thunk) {\n        return suspended(function () {\n            try {\n                return pure(thunk());\n            }\n            catch (e) {\n                return raiseError(onError(e));\n            }\n        });\n    };\n}\nexports.trySyncMap = trySyncMap;\n/**\n * Wrap an impure callback in an IO\n *\n * The provided function must accept a callback to report results to and return a cancellation action.\n * If your action is uncancellable for some reason, you should return an empty thunk and wrap the created IO\n * in uninterruptible\n * @param op\n */\nfunction async(op) {\n    return new Implementation(defs_1.EffectTag.Async, op);\n}\nexports.async = async;\n/**\n * Wrap an impure callback in IO\n *\n * This is a variant of async where the effect cannot fail with a checked exception.\n * @param op\n */\nfunction asyncTotal(op) {\n    return async(function (callback) { return op(function (a) { return callback(fp_ts_1.either.right(a)); }); });\n}\nexports.asyncTotal = asyncTotal;\n/**\n * Demarcate a region of interruptible state\n * @param inner\n * @param flag\n */\nfunction interruptibleRegion(inner, flag) {\n    return new Implementation(defs_1.EffectTag.InterruptibleRegion, flag, inner);\n}\nexports.interruptibleRegion = interruptibleRegion;\n/**\n * Produce an new IO that will use the value produced by inner to produce the next IO to evaluate\n * @param inner\n * @param bind\n */\nfunction chain_(inner, bind) {\n    return inner._tag === defs_1.EffectTag.Pure\n        ? bind(inner.f0)\n        : new Implementation(defs_1.EffectTag.Chain, inner, bind);\n}\nfunction chainOption(onEmpty) {\n    return function (bind) { return function (inner) { return chain_(inner, function (a) { return encaseOption(bind(a), onEmpty); }); }; };\n}\nexports.chainOption = chainOption;\nfunction chainEither(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseEither(bind(a)); }); };\n}\nexports.chainEither = chainEither;\nfunction chainTask(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseTask(bind(a)); }); };\n}\nexports.chainTask = chainTask;\nfunction chainTaskEither(bind) {\n    return function (inner) { return chain_(inner, function (a) { return encaseTaskEither(bind(a)); }); };\n}\nexports.chainTaskEither = chainTaskEither;\n/**\n * Lift an Either into an IO\n * @param e\n */\nfunction encaseEither(e) {\n    return new Implementation(defs_1.EffectTag.PureEither, e);\n}\nexports.encaseEither = encaseEither;\n/**\n * Lift an Option into an IO\n * @param o\n * @param onError\n */\nfunction encaseOption(o, onError) {\n    return new Implementation(defs_1.EffectTag.PureOption, o, onError);\n}\nexports.encaseOption = encaseOption;\n/**\n * Curried form of foldExit\n * @param failure\n * @param success\n */\nfunction foldExit(failure, success) {\n    return function (io) { return foldExit_(io, failure, success); };\n}\nexports.foldExit = foldExit;\n/**\n * Get the interruptible state of the current fiber\n */\nexports.accessInterruptible = new Implementation(defs_1.EffectTag.AccessInterruptible, fp_ts_1[\"function\"].identity);\n/**\n * Get the runtime of the current fiber\n */\nexports.accessRuntime = new Implementation(defs_1.EffectTag.AccessRuntime, fp_ts_1[\"function\"].identity);\n/**\n * Access the runtime then provide it to the provided function\n * @param f\n */\nfunction withRuntime(f) {\n    return chain_(exports.accessRuntime, f);\n}\nexports.withRuntime = withRuntime;\nfunction accessEnvironment() {\n    return new Implementation(defs_1.EffectTag.AccessEnv);\n}\nexports.accessEnvironment = accessEnvironment;\nfunction accessM(f) {\n    return chain_(accessEnvironment(), f);\n}\nexports.accessM = accessM;\nfunction access(f) {\n    return map_(accessEnvironment(), f);\n}\nexports.access = access;\n/**\n * Provides partial environment via the spread operator, providing several environment is possible via:\n * pipe(eff, provide(env1), provide(env2)) or pipe(eff, provide<Env1 & Env2>({...env1, ...env2}))\n *\n * the second parameter is used to invert the priority of newly provided environment\n * and should be used when you want subsequent providers to take precedence (i.e. having currently provided env as default)\n */\nfunction provide(r, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (eff) {\n        return provideR(function (r2) { return (inverted === \"inverted\" ? __assign(__assign({}, r), r2) : __assign(__assign({}, r2), r)); })(eff);\n    };\n}\nexports.provide = provide;\n/**\n * Like provide where environment is resolved monadically\n */\nfunction provideM(rm, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (eff) {\n        return chain_(rm, function (r) {\n            return provideR(function (r2) { return (inverted === \"inverted\" ? __assign(__assign({}, r), r2) : __assign(__assign({}, r2), r)); })(eff);\n        });\n    };\n}\nexports.provideM = provideM;\nvar provideR = function (f) { return function (ma) {\n    return accessM(function (r2) { return new Implementation(defs_1.EffectTag.ProvideEnv, ma, f(r2)); });\n}; };\n/**\n * Map the value produced by an IO\n * @param io\n * @param f\n */\nfunction map_(base, f) {\n    return base._tag === defs_1.EffectTag.Pure\n        ? new Implementation(defs_1.EffectTag.Pure, f(base.f0))\n        : new Implementation(defs_1.EffectTag.Map, base, f);\n}\n/**\n * Lift a function on values to a function on IOs\n * @param f\n */\nfunction lift(f) {\n    return function (io) { return map_(io, f); };\n}\nexports.lift = lift;\nfunction liftEither(f) {\n    return function (a) { return suspended(function () { return fromEither(f(a)); }); };\n}\nexports.liftEither = liftEither;\n/**\n * Map the value produced by an IO to the constant b\n * @param io\n * @param b\n */\nfunction as(io, b) {\n    return map_(io, fp_ts_1[\"function\"].constant(b));\n}\nexports.as = as;\n/**\n * Curried form of as\n * @param b\n */\nfunction to(b) {\n    return function (io) { return as(io, b); };\n}\nexports.to = to;\nfunction chainTap(bind) {\n    return function (inner) { return chainTap_(inner, bind); };\n}\nexports.chainTap = chainTap;\nvar chainTap_ = function (inner, bind) { return chain_(inner, function (a) { return as(bind(a), a); }); };\n/**\n * Map the value produced by an IO to void\n * @param io\n */\nfunction asUnit(io) {\n    return as(io, undefined);\n}\nexports.asUnit = asUnit;\n/**\n * An IO that succeeds immediately with void\n */\nexports.unit = pure(undefined);\n/**\n * Curriend form of chainError\n * @param f\n */\nfunction chainError(f) {\n    return function (io) { return chainError_(io, f); };\n}\nexports.chainError = chainError;\n/**\n * Map the error produced by an IO\n * @param f\n */\nfunction mapError(f) {\n    return function (io) { return mapLeft_(io, f); };\n}\nexports.mapError = mapError;\nfunction bimap_(io, leftMap, rightMap) {\n    return foldExit_(io, function (cause) { return (cause._tag === \"Raise\" ? raiseError(leftMap(cause.error)) : completed(cause)); }, fp_ts_1[\"function\"].flow(rightMap, pure));\n}\n/**\n * Zip the result of two IOs together using the provided function\n * @param first\n * @param second\n * @param f\n */\nfunction zipWith_(first, second, f) {\n    return chain_(first, function (a) { return map_(second, function (b) { return f(a, b); }); });\n}\nfunction zipWith(second, f) {\n    return function (first) { return zipWith_(first, second, f); };\n}\nexports.zipWith = zipWith;\n/**\n * Zip the result of two IOs together into a tuple type\n * @param first\n * @param second\n */\nfunction zip_(first, second) {\n    return zipWith_(first, second, util_1.tuple2);\n}\nfunction zip(second) {\n    return function (first) { return zip_(first, second); };\n}\nexports.zip = zip;\n/**\n * Evaluate two IOs in sequence and produce the value produced by the first\n * @param first\n * @param second\n */\nfunction applyFirst(first, second) {\n    return zipWith_(first, second, util_1.fst);\n}\nexports.applyFirst = applyFirst;\n/**\n * Evaluate two IOs in sequence and produce the value produced by the second\n * @param first\n * @param second\n */\nfunction applySecond(first, second) {\n    return zipWith_(first, second, util_1.snd);\n}\nexports.applySecond = applySecond;\n/**\n * Evaluate two IOs in sequence and produce the value of the second.\n * This is suitable for cases where second is recursively defined\n * @param first\n * @param second\n */\nfunction applySecondL(first, second) {\n    return chain_(first, second);\n}\nexports.applySecondL = applySecondL;\n/**\n * Flipped argument form of ap\n * @param ioa\n * @param iof\n */\nfunction ap__(ioa, iof) {\n    // Find the apply/thrush operator I'm sure exists in fp-ts somewhere\n    return zipWith_(ioa, iof, function (a, f) { return f(a); });\n}\nexports.ap__ = ap__;\n/**\n * Applicative ap\n * @param iof\n * @param ioa\n */\nfunction ap_(iof, ioa) {\n    return zipWith_(iof, ioa, function (f, a) { return f(a); });\n}\n/**\n * Flip the error and success channels in an IO\n * @param io\n */\nfunction flip(io) {\n    return foldExit_(io, function (error) { return (error._tag === \"Raise\" ? pure(error.error) : completed(error)); }, raiseError);\n}\nexports.flip = flip;\n/**\n * Execute the provided IO forever (or until it errors)\n * @param io\n */\nfunction forever(io) {\n    return chain_(io, function () { return forever(io); });\n}\nexports.forever = forever;\n/**\n * Create an IO that traps all exit states of io.\n *\n * Note that interruption will not be caught unless in an uninterruptible region\n * @param io\n */\nfunction result(io) {\n    return foldExit_(io, pure, function (d) { return pure(ex.done(d)); });\n}\nexports.result = result;\n/**\n * Create an interruptible region around the evalution of io\n * @param io\n */\nfunction interruptible(io) {\n    return interruptibleRegion(io, true);\n}\nexports.interruptible = interruptible;\n/**\n * Create an uninterruptible region around the evaluation of io\n * @param io\n */\nfunction uninterruptible(io) {\n    return interruptibleRegion(io, false);\n}\nexports.uninterruptible = uninterruptible;\n/**\n * Create an IO that produces void after ms milliseconds\n * @param ms\n */\nfunction after(ms) {\n    return chain_(exports.accessRuntime, function (runtime) {\n        return asyncTotal(function (callback) { return runtime.dispatchLater(callback, undefined, ms); });\n    });\n}\nexports.after = after;\nfunction makeInterruptMaskCutout(state) {\n    return function (inner) { return interruptibleRegion(inner, state); };\n}\n/**\n * Create an uninterruptible masked region\n *\n * When the returned IO is evaluated an uninterruptible region will be created and , f will receive an InterruptMaskCutout that can be used to restore the\n * interruptible status of the region above the one currently executing (which is uninterruptible)\n * @param f\n */\nfunction uninterruptibleMask(f) {\n    return chain_(exports.accessInterruptible, function (flag) {\n        var cutout = makeInterruptMaskCutout(flag);\n        return uninterruptible(f(cutout));\n    });\n}\nexports.uninterruptibleMask = uninterruptibleMask;\n/**\n * Create an interruptible masked region\n *\n * Similar to uninterruptibleMask\n * @param f\n */\nfunction interruptibleMask(f) {\n    return chain_(exports.accessInterruptible, function (flag) { return interruptible(f(makeInterruptMaskCutout(flag))); });\n}\nexports.interruptibleMask = interruptibleMask;\nfunction combineFinalizerExit(fiberExit, releaseExit) {\n    if (fiberExit._tag === \"Done\" && releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else if (fiberExit._tag === \"Done\") {\n        return releaseExit;\n    }\n    else if (releaseExit._tag === \"Done\") {\n        return fiberExit;\n    }\n    else {\n        // TODO: Figure out how to sanely report both of these, we swallow them currently\n        // This would affect chainError (i.e. assume multiples are actually an abort condition that happens to be typed)\n        return fiberExit;\n    }\n}\n/**\n * Resource acquisition and release construct.\n *\n * Once acquire completes successfully, release is guaranteed to execute following the evaluation of the IO produced by use.\n * Release receives the exit state of use along with the resource.\n * @param acquire\n * @param release\n * @param use\n */\nfunction bracketExit(acquire, release, use) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(acquire, function (a) {\n            return chain_(result(cutout(use(a))), function (exit) {\n                return chain_(result(release(a, exit)), function (finalize) {\n                    return completed(combineFinalizerExit(exit, finalize));\n                });\n            });\n        });\n    });\n}\nexports.bracketExit = bracketExit;\n/**\n * Weaker form of bracketExit where release does not receive the exit status of use\n * @param acquire\n * @param release\n * @param use\n */\nfunction bracket(acquire, release, use) {\n    // tslint:disable-next-line: no-unnecessary-callback-wrapper\n    return bracketExit(acquire, function (e) { return release(e); }, use);\n}\nexports.bracket = bracket;\n/**\n * Guarantee that once ioa begins executing the finalizer will execute.\n * @param ioa\n * @param finalizer\n */\nfunction onComplete_(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return chain_(result(finalizer), function (finalize) { return completed(combineFinalizerExit(exit, finalize)); });\n        });\n    });\n}\nfunction onComplete(finalizer) {\n    return function (ioa) { return onComplete_(ioa, finalizer); };\n}\nexports.onComplete = onComplete;\n/**\n * Guarantee that once ioa begins executing if it is interrupted finalizer will execute\n * @param ioa\n * @param finalizer\n */\nfunction onInterrupted_(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return exit._tag === \"Interrupt\"\n                ? chain_(result(finalizer), function (finalize) { return completed(combineFinalizerExit(exit, finalize)); })\n                : completed(exit);\n        });\n    });\n}\nfunction onInterrupted(finalizer) {\n    return function (ioa) { return onInterrupted_(ioa, finalizer); };\n}\nexports.onInterrupted = onInterrupted;\nfunction combineInterruptExit(ioa, finalizer) {\n    return uninterruptibleMask(function (cutout) {\n        return chain_(result(cutout(ioa)), function (exit) {\n            return exit._tag === \"Interrupt\"\n                ? chain_(result(finalizer), function (finalize) {\n                    /* istanbul ignore else */\n                    if (finalize._tag === \"Done\") {\n                        var errors = pipeable_1.pipe(__spreadArrays([exit.error], finalize.value.map(function (x) { return x.error; })), fp_ts_1.array.filter(function (x) { return x !== undefined; }));\n                        return errors.length > 0\n                            ? completed(ex.interruptWithErrorAndOthers(errors[0], fp_ts_1.array.dropLeft(1)(errors)))\n                            : completed(exit);\n                    }\n                    else {\n                        console.warn(\"BUG: interrupt finalizer should not fail\");\n                        return completed(exit);\n                    }\n                })\n                : completed(exit);\n        });\n    });\n}\nexports.combineInterruptExit = combineInterruptExit;\n/**\n * Introduce a gap in executing to allow other fibers to execute (if any are pending)\n */\nexports.shifted = uninterruptible(chain_(exports.accessRuntime, function (runtime) {\n    return asyncTotal(function (callback) {\n        runtime.dispatch(callback, undefined);\n        return function (cb) {\n            cb();\n        };\n    });\n}));\n/**\n * Introduce asynchronous gap before io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nfunction shiftBefore(io) {\n    return applySecond(exports.shifted, io);\n}\nexports.shiftBefore = shiftBefore;\n/**\n * Introduce asynchronous gap after an io that will allow other fibers to execute (if any are pending)\n * @param io\n */\nfunction shiftAfter(io) {\n    return applyFirst(io, exports.shifted);\n}\nexports.shiftAfter = shiftAfter;\n/**\n * Introduce an asynchronous gap that will suspend the runloop and return control to the javascript vm\n */\nexports.shiftedAsync = uninterruptible(chain_(exports.accessRuntime, function (runtime) {\n    return asyncTotal(function (callback) { return runtime.dispatchLater(callback, undefined, 0); });\n}));\n/**\n * Introduce an asynchronous gap before IO\n * @param io\n */\nfunction shiftAsyncBefore(io) {\n    return applySecond(exports.shiftedAsync, io);\n}\nexports.shiftAsyncBefore = shiftAsyncBefore;\n/**\n * Introduce asynchronous gap after an IO\n * @param io\n */\nfunction shiftAsyncAfter(io) {\n    return applyFirst(io, exports.shiftedAsync);\n}\nexports.shiftAsyncAfter = shiftAsyncAfter;\n/**\n * An IO that never produces a value or an error.\n *\n * This IO will however prevent a javascript runtime such as node from exiting by scheduling an interval for 60s\n */\nexports.never = asyncTotal(function () {\n    var handle = setInterval(function () {\n        //\n    }, 60000);\n    /* istanbul ignore next */\n    return function (cb) {\n        clearInterval(handle);\n        cb();\n    };\n});\n/**\n * Delay evaluation of inner by some amount of time\n * @param inner\n * @param ms\n */\nfunction delay(inner, ms) {\n    return applySecond(after(ms), inner);\n}\nexports.delay = delay;\n/**\n * Curried form of delay\n */\nfunction liftDelay(ms) {\n    return function (io) { return delay(io, ms); };\n}\nexports.liftDelay = liftDelay;\nvar FiberImpl = /** @class */ (function () {\n    function FiberImpl(driver, n) {\n        var _this = this;\n        this.driver = driver;\n        this.n = n;\n        this.name = fp_ts_1.option.fromNullable(this.n);\n        this.sendInterrupt = sync(function () {\n            _this.driver.interrupt();\n        });\n        this.wait = asyncTotal(function (f) { return _this.driver.onExit(f); });\n        this.interrupt = applySecond(this.sendInterrupt, this.wait);\n        this.join = chain_(this.wait, completed);\n        this.result = chain_(sync(function () { return _this.driver.completed; }), function (opt) { return (opt === null ? pureNone : map_(completed(opt), fp_ts_1.option.some)); });\n        this.isComplete = sync(function () { return _this.driver.completed !== null; });\n    }\n    return FiberImpl;\n}());\nexports.FiberImpl = FiberImpl;\nvar pureNone = pure(fp_ts_1.option.none);\n/**\n * Implementation of Stack/waver fork. Creates an IO that will fork a fiber in the background\n * @param init\n * @param name\n */\nfunction makeFiber(init, name) {\n    return accessM(function (r) {\n        return chain_(exports.accessRuntime, function (runtime) {\n            return sync(function () {\n                var driver = new driver_1.DriverImpl(runtime);\n                var fiber = new FiberImpl(driver, name);\n                driver.start(provide(r)(init));\n                return fiber;\n            });\n        });\n    });\n}\nexports.makeFiber = makeFiber;\n/**\n * Fork the program described by IO in a separate fiber.\n *\n * This fiber will begin executing once the current fiber releases control of the runloop.\n * If you need to begin the fiber immediately you should use applyFirst(forkIO, shifted)\n * @param io\n * @param name\n */\nfunction fork(io, name) {\n    return makeFiber(io, name);\n}\nexports.fork = fork;\nfunction completeLatched(latch, channel, combine, other) {\n    return function (exit) {\n        var act = latch.modify(function (flag) {\n            return !flag ? [channel.from(combine(exit, other)), true] : [exports.unit, flag];\n        });\n        return flatten(act);\n    };\n}\n/**\n * Race two fibers together and combine their results.\n *\n * This is the primitive from which all other racing and timeout operators are built and you should favor those unless you have very specific needs.\n * @param first\n * @param second\n * @param onFirstWon\n * @param onSecondWon\n */\nfunction raceFold(first, second, onFirstWon, onSecondWon) {\n    return accessM(function (r) {\n        return uninterruptibleMask(function (cutout) {\n            return chain_(ref_1.makeRef(false), function (latch) {\n                return chain_(deferred_1.makeDeferred(), function (channel) {\n                    return chain_(fork(provide(r)(first)), function (fiber1) {\n                        return chain_(fork(provide(r)(second)), function (fiber2) {\n                            return chain_(fork(chain_(fiber1.wait, completeLatched(latch, channel, onFirstWon, fiber2))), function () {\n                                return chain_(fork(chain_(fiber2.wait, completeLatched(latch, channel, onSecondWon, fiber1))), function () {\n                                    return combineInterruptExit(cutout(channel.wait), chain_(fiber1.interrupt, function (i1) { return map_(fiber2.interrupt, function (i2) { return [i1, i2]; }); }));\n                                });\n                            });\n                        });\n                    });\n                });\n            });\n        });\n    });\n}\nexports.raceFold = raceFold;\n/**\n * Execute an IO and produce the next IO to run based on whether it completed successfully in the alotted time or not\n * @param source\n * @param ms\n * @param onTimeout\n * @param onCompleted\n */\nfunction timeoutFold(source, ms, onTimeout, onCompleted) {\n    return raceFold(source, after(ms), \n    /* istanbul ignore next */\n    function (exit, delayFiber) { return applySecond(delayFiber.interrupt, onCompleted(exit)); }, function (_, fiber) { return onTimeout(fiber); });\n}\nexports.timeoutFold = timeoutFold;\nfunction interruptLoser(exit, loser) {\n    return applySecond(loser.interrupt, completed(exit));\n}\n/**\n * Return the reuslt of the first IO to complete or error successfully\n * @param io1\n * @param io2\n */\nfunction raceFirst(io1, io2) {\n    return raceFold(io1, io2, interruptLoser, interruptLoser);\n}\nexports.raceFirst = raceFirst;\nfunction fallbackToLoser(exit, loser) {\n    return exit._tag === \"Done\" ? applySecond(loser.interrupt, completed(exit)) : loser.join;\n}\n/**\n * Return the result of the first IO to complete successfully.\n *\n * If an error occurs, fall back to the other IO.\n * If both error, then fail with the second errors\n * @param io1\n * @param io2\n */\nfunction race(io1, io2) {\n    return raceFold(io1, io2, fallbackToLoser, fallbackToLoser);\n}\nexports.race = race;\n/**\n * Zip the result of 2 ios executed in parallel together with the provided function.\n * @param ioa\n * @param iob\n * @param f\n */\nfunction parZipWith(ioa, iob, f) {\n    return raceFold(ioa, iob, function (aExit, bFiber) { return zipWith_(completed(aExit), bFiber.join, f); }, function (bExit, aFiber) { return zipWith_(aFiber.join, completed(bExit), f); });\n}\nexports.parZipWith = parZipWith;\n/**\n * Tuple the result of 2 ios executed in parallel\n * @param ioa\n * @param iob\n */\nfunction parZip(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.tuple2);\n}\nexports.parZip = parZip;\n/**\n * Execute two ios in parallel and take the result of the first.\n * @param ioa\n * @param iob\n */\nfunction parApplyFirst(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.fst);\n}\nexports.parApplyFirst = parApplyFirst;\n/**\n * Exeute two IOs in parallel and take the result of the second\n * @param ioa\n * @param iob\n */\nfunction parApplySecond(ioa, iob) {\n    return parZipWith(ioa, iob, util_1.snd);\n}\nexports.parApplySecond = parApplySecond;\n/**\n * Parallel form of ap\n * @param ioa\n * @param iof\n */\nfunction parAp(ioa, iof) {\n    return parZipWith(ioa, iof, function (a, f) { return f(a); });\n}\nexports.parAp = parAp;\n/**\n * Parallel form of ap_\n * @param iof\n * @param ioa\n */\nfunction parAp_(iof, ioa) {\n    return parZipWith(iof, ioa, function (f, a) { return f(a); });\n}\nexports.parAp_ = parAp_;\n/**\n * Convert an error into an unchecked error.\n * @param io\n */\nfunction orAbort(io) {\n    return chainError_(io, raiseAbort);\n}\nexports.orAbort = orAbort;\n/**\n * Run source for a maximum amount of ms.\n *\n * If it completes succesfully produce a some, if not interrupt it and produce none\n * @param source\n * @param ms\n */\nfunction timeoutOption(source, ms) {\n    return timeoutFold(source, ms, function (actionFiber) { return applySecond(actionFiber.interrupt, pureNone); }, function (exit) { return map_(completed(exit), fp_ts_1.option.some); });\n}\nexports.timeoutOption = timeoutOption;\n/**\n * Create an IO from a Promise factory.\n * @param thunk\n */\nfunction fromPromise(thunk) {\n    return uninterruptible(async(function (callback) {\n        thunk()\n            .then(function (v) { return callback(fp_ts_1.either.right(v)); })[\"catch\"](function (e) { return callback(fp_ts_1.either.left(e)); });\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    }));\n}\nexports.fromPromise = fromPromise;\nfunction encaseTask(task) {\n    return orAbort(fromPromise(task));\n}\nexports.encaseTask = encaseTask;\nfunction encaseTaskEither(taskEither) {\n    return async(function (callback) {\n        taskEither().then(callback);\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    });\n}\nexports.encaseTaskEither = encaseTaskEither;\nfunction fromPromiseMap(onError) {\n    return function (thunk) {\n        return async(function (callback) {\n            thunk()\n                .then(function (v) { return callback(fp_ts_1.either.right(v)); })[\"catch\"](function (e) { return callback(fp_ts_1.either.left(onError(e))); });\n            /* istanbul ignore next */\n            return function (cb) {\n                cb();\n            };\n        });\n    };\n}\nexports.fromPromiseMap = fromPromiseMap;\n/**\n * Run the given IO with the provided environment.\n * @param io\n * @param r\n * @param callback\n */\nfunction run(io, callback) {\n    var driver = new driver_1.DriverImpl();\n    if (callback) {\n        driver.onExit(callback);\n    }\n    driver.start(io);\n    return function () { return driver.interrupt(); };\n}\nexports.run = run;\n/**\n * Run the given IO syncroniously\n * returns left if any async operation\n * is found\n * @param io\n */\nfunction runSync(io) {\n    return pipeable_1.pipe(new driverSync_1.DriverSyncImpl().start(io), fp_ts_1.either.fold(function (e) {\n        throw e;\n    }, function (e) { return e; }));\n}\nexports.runSync = runSync;\n/* istanbul skip next */\nfunction runUnsafeSync(io) {\n    var result = runSync(io);\n    if (result._tag !== \"Done\") {\n        throw result._tag === \"Raise\"\n            ? result.error\n            : result._tag === \"Abort\"\n                ? result.abortedWith\n                : result;\n    }\n    return result.value;\n}\nexports.runUnsafeSync = runUnsafeSync;\n/**\n * Run an IO and return a Promise of its result\n *\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nfunction runToPromise(io) {\n    return new Promise(function (resolve, reject) {\n        return run(io, function (exit) {\n            switch (exit._tag) {\n                case \"Done\":\n                    resolve(exit.value);\n                    return;\n                case \"Abort\":\n                    reject(exit.abortedWith);\n                    return;\n                case \"Raise\":\n                    reject(exit.error);\n                    return;\n                case \"Interrupt\":\n                    reject();\n                    return;\n            }\n        });\n    });\n}\nexports.runToPromise = runToPromise;\n/**\n * Run an IO returning a promise of an Exit.\n *\n * The Promise will not reject.\n * Allows providing an environment parameter directly\n * @param io\n * @param r\n */\nfunction runToPromiseExit(io) {\n    return new Promise(function (result) { return run(io, result); });\n}\nexports.runToPromiseExit = runToPromiseExit;\nfunction chainError_(io, f) {\n    return foldExit_(io, function (cause) { return (cause._tag === \"Raise\" ? f(cause.error) : completed(cause)); }, pure);\n}\nvar foldExit_ = function (inner, failure, success) {\n    return new Implementation(defs_1.EffectTag.Collapse, inner, failure, success);\n};\nvar mapLeft_ = function (io, f) { return chainError_(io, fp_ts_1[\"function\"].flow(f, raiseError)); };\nvar alt_ = chainError_;\nfunction alt(fy) {\n    return function (fx) { return alt_(fx, fy); };\n}\nexports.alt = alt;\nexports.effect = {\n    URI: exports.URI,\n    map: map_,\n    of: pure,\n    ap: ap_,\n    chain: chain_,\n    bimap: bimap_,\n    mapLeft: mapLeft_,\n    mapError: mapLeft_,\n    throwError: raiseError,\n    chainError: chainError_,\n    foldExit: foldExit_,\n    chainTap: chainTap_,\n    alt: alt_,\n    onInterrupted: onInterrupted_,\n    onComplete: onComplete_,\n    zip: zip_,\n    zipWith: zipWith_\n};\nexports.Do = function () { return Do_1.Do(exports.effect); };\nexports.sequenceS = Apply_1.sequenceS(exports.effect);\nexports.sequenceT = Apply_1.sequenceT(exports.effect);\nexports.parEffect = {\n    URI: exports.URI,\n    _CTX: \"async\",\n    of: pure,\n    map: map_,\n    ap: parAp_,\n    chain: chain_,\n    throwError: raiseError\n};\nexports.parDo = function () { return Do_1.Do(exports.parEffect); };\nexports.parSequenceS = Apply_1.sequenceS(exports.parEffect);\nexports.parSequenceT = Apply_1.sequenceT(exports.parEffect);\nvar _a = pipeable_1.pipeable(exports.effect), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, \n// toto\nbimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, filterOrElse = _a.filterOrElse, flatten = _a.flatten, fromEither = _a.fromEither, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, map = _a.map, mapLeft = _a.mapLeft;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.bimap = bimap;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.filterOrElse = filterOrElse;\nexports.flatten = flatten;\nexports.fromEither = fromEither;\nexports.fromOption = fromOption;\nexports.fromPredicate = fromPredicate;\nexports.map = map;\nexports.mapLeft = mapLeft;\nfunction getSemigroup(s) {\n    return {\n        concat: function (x, y) {\n            return zipWith_(x, y, s.concat);\n        }\n    };\n}\nexports.getSemigroup = getSemigroup;\nfunction getMonoid(m) {\n    return __assign(__assign({}, getSemigroup(m)), { empty: pure(m.empty) });\n}\nexports.getMonoid = getMonoid;\n/* conditionals */\nfunction when(predicate) {\n    return function (ma) { return (predicate ? map_(ma, fp_ts_1.option.some) : pure(fp_ts_1.option.none)); };\n}\nexports.when = when;\nfunction or_(predicate) {\n    return function (ma) { return function (mb) { return (predicate ? map_(ma, fp_ts_1.either.left) : map_(mb, fp_ts_1.either.right)); }; };\n}\nexports.or_ = or_;\nfunction or(ma) {\n    return function (mb) { return function (predicate) { return (predicate ? map_(ma, fp_ts_1.either.left) : map_(mb, fp_ts_1.either.right)); }; };\n}\nexports.or = or;\nfunction condWith(predicate) {\n    return function (ma) { return function (mb) { return (predicate ? ma : mb); }; };\n}\nexports.condWith = condWith;\nfunction cond(ma) {\n    return function (mb) { return function (predicate) { return (predicate ? ma : mb); }; };\n}\nexports.cond = cond;\nfunction fromNullableM(ma) {\n    return map_(ma, fp_ts_1.option.fromNullable);\n}\nexports.fromNullableM = fromNullableM;\nfunction getCauseSemigroup(S) {\n    return {\n        concat: function (ca, cb) {\n            if (ca._tag === \"Interrupt\" || cb._tag === \"Interrupt\") {\n                return ca;\n            }\n            if (ca._tag === \"Abort\") {\n                return ca;\n            }\n            if (cb._tag === \"Abort\") {\n                return cb;\n            }\n            return ex.raise(S.concat(ca.error, cb.error));\n        }\n    };\n}\nexports.getCauseSemigroup = getCauseSemigroup;\nfunction getValidationM(S) {\n    return getCauseValidationM(getCauseSemigroup(S));\n}\nexports.getValidationM = getValidationM;\nfunction getCauseValidationM(S) {\n    return {\n        URI: exports.URI,\n        _E: undefined,\n        of: pure,\n        map: map_,\n        chain: chain_,\n        ap: function (fab, fa) {\n            return foldExit_(fab, function (fabe) {\n                return foldExit_(fa, function (fae) { return raised(S.concat(fabe, fae)); }, function (_) { return raised(fabe); });\n            }, function (f) { return map_(fa, f); });\n        },\n        throwError: raiseError,\n        alt: function (fa, fb) {\n            return foldExit_(fa, function (e) { return foldExit_(fb(), function (fbe) { return raised(S.concat(e, fbe)); }, pure); }, pure);\n        }\n    };\n}\nexports.getCauseValidationM = getCauseValidationM;\nfunction effectify(f) {\n    return function () {\n        var args = Array.prototype.slice.call(arguments);\n        return async(function (cb) {\n            var cbResolver = function (e, r) {\n                // tslint:disable-next-line: triple-equals\n                return e != null ? cb(fp_ts_1.either.left(e)) : cb(fp_ts_1.either.right(r));\n            };\n            f.apply(null, args.concat(cbResolver));\n            /* istanbul ignore next */\n            return function (cb) {\n                cb();\n            };\n        });\n    };\n}\nexports.effectify = effectify;\nexports.sequenceOption = fp_ts_1.option.option.sequence(exports.effect);\nexports.traverseOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.traverse(exports.effect)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return fp_ts_1.option.option.wilt(exports.effect)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.wither(exports.effect)(ta, f);\n}; };\nexports.sequenceEither = fp_ts_1.either.either.sequence(exports.effect);\nexports.traverseEither = function (f) { return function (ta) {\n    return fp_ts_1.either.either.traverse(exports.effect)(ta, f);\n}; };\nexports.sequenceTree = fp_ts_1.tree.tree.sequence(exports.effect);\nexports.traverseTree = function (f) { return function (ta) {\n    return fp_ts_1.tree.tree.traverse(exports.effect)(ta, f);\n}; };\nexports.sequenceTreePar = fp_ts_1.tree.tree.sequence(exports.parEffect);\nexports.traverseTreePar = function (f) { return function (ta) {\n    return fp_ts_1.tree.tree.traverse(exports.parEffect)(ta, f);\n}; };\nexports.sequenceArray = fp_ts_1.array.array.sequence(exports.effect);\nexports.traverseArray = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.effect)(ta, f); }; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.effect)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.effect)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.effect)(ta, f); }; };\nexports.sequenceArrayPar = fp_ts_1.array.array.sequence(exports.parEffect);\nexports.traverseArrayPar = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.parEffect)(ta, f); }; };\nexports.traverseArrayWithIndexPar = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.parEffect)(ta, f);\n}; };\nexports.wiltArrayPar = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.parEffect)(wa, f);\n}; };\nexports.witherArrayPar = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.parEffect)(ta, f); }; };\nexports.sequenceRecord = fp_ts_1.record.record.sequence(exports.effect);\nexports.traverseRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.effect)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.effect)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.effect)(wa, f); }; };\nexports.witherRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.effect)(ta, f);\n}; };\nexports.sequenceRecordPar = fp_ts_1.record.record.sequence(exports.parEffect);\nexports.traverseRecordPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.parEffect)(ta, f);\n}; };\nexports.traverseRecordWithIndexPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.parEffect)(ta, f);\n}; };\nexports.wiltRecordPar = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.parEffect)(wa, f); }; };\nexports.witherRecordPar = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.parEffect)(ta, f);\n}; };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { tuple } from './function';\nfunction curried(f, n, acc) {\n    return function (x) {\n        var combined = acc.concat([x]);\n        return n === 0 ? f.apply(null, combined) : curried(f, n - 1, combined);\n    };\n}\nvar tupleConstructors = {};\nfunction getTupleConstructor(len) {\n    if (!tupleConstructors.hasOwnProperty(len)) {\n        tupleConstructors[len] = curried(tuple, len - 1, []);\n    }\n    return tupleConstructors[len];\n}\nexport function sequenceT(F) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var len = args.length;\n        var f = getTupleConstructor(len);\n        var fas = F.map(args[0], f);\n        for (var i = 1; i < len; i++) {\n            fas = F.ap(fas, args[i]);\n        }\n        return fas;\n    };\n}\nfunction getRecordConstructor(keys) {\n    var len = keys.length;\n    return curried(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var r = {};\n        for (var i = 0; i < len; i++) {\n            r[keys[i]] = args[i];\n        }\n        return r;\n    }, len - 1, []);\n}\nexport function sequenceS(F) {\n    return function (r) {\n        var keys = Object.keys(r);\n        var len = keys.length;\n        var f = getRecordConstructor(keys);\n        var fr = F.map(r[keys[0]], f);\n        for (var i = 1; i < len; i++) {\n            fr = F.ap(fr, r[keys[i]]);\n        }\n        return fr;\n    };\n}\n/* tslint:enable:readonly-array */\n","import { pipeable } from './pipeable';\nimport * as RA from './ReadonlyArray';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Array';\n/**\n * @since 2.0.0\n */\nexport var getShow = RA.getShow;\n/**\n * Returns a `Monoid` for `Array<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/Array'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var getMonoid = RA.getMonoid;\n/**\n * Derives an `Eq` over the `Array` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/Array'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.0.0\n */\nexport var getEq = RA.getEq;\n/**\n * Derives an `Ord` over the `Array` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/Array'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.0.0\n */\nexport var getOrd = RA.getOrd;\n/**\n * An empty array\n *\n * @since 2.0.0\n */\nexport var empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/Array'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.0.0\n */\nexport var makeBy = RA.makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.0.0\n */\nexport var range = RA.range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.0.0\n */\nexport var replicate = RA.replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var flatten = RA.flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/Array'\n *\n * const len: <A>(as: Array<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.0.0\n */\nexport var foldLeft = RA.foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.0.0\n */\nexport var foldRight = RA.foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.0.0\n */\nexport var scanLeft = RA.scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.0.0\n */\nexport var scanRight = RA.scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/Array'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.0.0\n */\nexport var isEmpty = RA.isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyArray<A>`\n *\n * @since 2.0.0\n */\nexport var isNonEmpty = RA.isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.0.0\n */\nexport var isOutOfBound = RA.isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.0.0\n */\nexport var lookup = RA.lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexport var snoc = RA.snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.0.0\n */\nexport var head = RA.head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.0.0\n */\nexport var last = RA.last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.0.0\n */\nexport var tail = RA.tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.0.0\n */\nexport var init = RA.init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var takeLeft = RA.takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.0.0\n */\nexport var takeRight = RA.takeRight;\nexport function takeLeftWhile(predicate) {\n    return RA.takeLeftWhile(predicate);\n}\nexport function spanLeft(predicate) {\n    return RA.spanLeft(predicate);\n}\n/* tslint:enable:readonly-keyword */\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.0.0\n */\nexport var dropLeft = RA.dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var dropRight = RA.dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.0.0\n */\nexport var dropLeftWhile = RA.dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.0.0\n */\nexport var findIndex = RA.findIndex;\nexport function findFirst(predicate) {\n    return RA.findFirst(predicate);\n}\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.0.0\n */\nexport var findFirstMap = RA.findFirstMap;\nexport function findLast(predicate) {\n    return RA.findLast(predicate);\n}\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.0.0\n */\nexport var findLastMap = RA.findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: Array<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.0.0\n */\nexport var findLastIndex = RA.findLastIndex;\n/**\n * @since 2.0.0\n */\nexport var copy = RA.toArray;\n/**\n * @since 2.0.0\n */\nexport var unsafeInsertAt = RA.unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/Array'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.0.0\n */\nexport var insertAt = RA.insertAt;\n/**\n * @since 2.0.0\n */\nexport var unsafeUpdateAt = RA.unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.0.0\n */\nexport var updateAt = RA.updateAt;\n/**\n * @since 2.0.0\n */\nexport var unsafeDeleteAt = RA.unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.0.0\n */\nexport var deleteAt = RA.deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.0.0\n */\nexport var modifyAt = RA.modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.0.0\n */\nexport var reverse = RA.reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/Array'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var rights = RA.rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/Array'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.0.0\n */\nexport var lefts = RA.lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var sort = RA.sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.0.0\n */\nexport var zipWith = RA.zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.0.0\n */\nexport var zip = RA.zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.0.0\n */\nexport var unzip = RA.unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var rotate = RA.rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `Array<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.0.0\n */\nexport var elem = RA.elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.0.0\n */\nexport var uniq = RA.uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/Array'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.0.0\n */\nexport var sortBy = RA.sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/Array'\n *\n * const group = <A>(S: Eq<A>): ((as: Array<A>) => Array<Array<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.0.0\n */\nexport var chop = RA.chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.0.0\n */\nexport var splitAt = RA.splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.0.0\n */\nexport var chunksOf = RA.chunksOf;\nexport function comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    return RA.comprehension(input, f, g);\n}\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexport var union = RA.union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.0.0\n */\nexport var intersection = RA.intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.0.0\n */\nexport var difference = RA.difference;\n/**\n * @since 2.0.0\n */\nexport var of = RA.of;\n/**\n * @since 2.0.0\n */\nexport var array = {\n    URI: URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    compact: RA.readonlyArray.compact,\n    separate: RA.readonlyArray.separate,\n    filter: RA.readonlyArray.filter,\n    filterMap: RA.readonlyArray.filterMap,\n    partition: RA.readonlyArray.partition,\n    partitionMap: RA.readonlyArray.partitionMap,\n    of: of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    unfold: RA.readonlyArray.unfold,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    zero: RA.readonlyArray.zero,\n    alt: RA.readonlyArray.alt,\n    extend: RA.readonlyArray.extend,\n    wither: RA.readonlyArray.wither,\n    wilt: RA.readonlyArray.wilt,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    partitionMapWithIndex: RA.readonlyArray.partitionMapWithIndex,\n    partitionWithIndex: RA.readonlyArray.partitionWithIndex,\n    filterMapWithIndex: RA.readonlyArray.filterMapWithIndex,\n    filterWithIndex: RA.readonlyArray.filterWithIndex\n};\nvar _a = pipeable(array), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nalt, \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nfilterMapWithIndex, \n/**\n * @since 2.0.0\n */\nfilterWithIndex, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nfoldMapWithIndex, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nmapWithIndex, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\npartitionMapWithIndex, \n/**\n * @since 2.0.0\n */\npartitionWithIndex, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\nreduceRightWithIndex, \n/**\n * @since 2.0.0\n */\nreduceWithIndex, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nvar Option_1 = require(\"./Option\");\nvar Ord_1 = require(\"./Ord\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.5.0\n */\nexports.URI = 'ReadonlyArray';\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nfunction fromArray(as) {\n    var l = as.length;\n    if (l === 0) {\n        return exports.empty;\n    }\n    var ras = Array(l);\n    for (var i = 0; i < l; i++) {\n        ras[i] = as[i];\n    }\n    return ras;\n}\nexports.fromArray = fromArray;\n/**\n * @since 2.5.0\n */\n// tslint:disable-next-line: readonly-array\nfunction toArray(ras) {\n    var l = ras.length;\n    var as = Array(l);\n    for (var i = 0; i < l; i++) {\n        as[i] = ras[i];\n    }\n    return as;\n}\nexports.toArray = toArray;\n/**\n * @since 2.5.0\n */\nfunction getShow(S) {\n    return {\n        show: function (as) { return \"[\" + as.map(S.show).join(', ') + \"]\"; }\n    };\n}\nexports.getShow = getShow;\nvar concat = function (x, y) {\n    var lenx = x.length;\n    if (lenx === 0) {\n        return y;\n    }\n    var leny = y.length;\n    if (leny === 0) {\n        return x;\n    }\n    var r = Array(lenx + leny);\n    for (var i = 0; i < lenx; i++) {\n        r[i] = x[i];\n    }\n    for (var i = 0; i < leny; i++) {\n        r[i + lenx] = y[i];\n    }\n    return r;\n};\n/**\n * Returns a `Monoid` for `ReadonlyArray<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/ReadonlyArray'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nfunction getMonoid() {\n    return {\n        concat: concat,\n        empty: exports.empty\n    };\n}\nexports.getMonoid = getMonoid;\n/**\n * Derives an `Eq` over the `ReadonlyArray` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/ReadonlyArray'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.5.0\n */\nfunction getEq(E) {\n    return {\n        equals: function (xs, ys) { return xs === ys || (xs.length === ys.length && xs.every(function (x, i) { return E.equals(x, ys[i]); })); }\n    };\n}\nexports.getEq = getEq;\n/**\n * Derives an `Ord` over the `ReadonlyArray` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/ReadonlyArray'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.5.0\n */\nfunction getOrd(O) {\n    return Ord_1.fromCompare(function (a, b) {\n        var aLen = a.length;\n        var bLen = b.length;\n        var len = Math.min(aLen, bLen);\n        for (var i = 0; i < len; i++) {\n            var ordering = O.compare(a[i], b[i]);\n            if (ordering !== 0) {\n                return ordering;\n            }\n        }\n        return Ord_1.ordNumber.compare(aLen, bLen);\n    });\n}\nexports.getOrd = getOrd;\n/**\n * An empty array\n *\n * @since 2.5.0\n */\nexports.empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/ReadonlyArray'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.5.0\n */\nfunction makeBy(n, f) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    for (var i = 0; i < n; i++) {\n        r.push(f(i));\n    }\n    return r;\n}\nexports.makeBy = makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.5.0\n */\nfunction range(start, end) {\n    return makeBy(end - start + 1, function (i) { return start + i; });\n}\nexports.range = range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.5.0\n */\nfunction replicate(n, a) {\n    return makeBy(n, function () { return a; });\n}\nexports.replicate = replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction flatten(mma) {\n    var rLen = 0;\n    var len = mma.length;\n    for (var i = 0; i < len; i++) {\n        rLen += mma[i].length;\n    }\n    var r = Array(rLen);\n    var start = 0;\n    for (var i = 0; i < len; i++) {\n        var arr = mma[i];\n        var l = arr.length;\n        for (var j = 0; j < l; j++) {\n            r[j + start] = arr[j];\n        }\n        start += l;\n    }\n    return r;\n}\nexports.flatten = flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const len: <A>(as: ReadonlyArray<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.5.0\n */\nfunction foldLeft(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as[0], as.slice(1))); };\n}\nexports.foldLeft = foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.5.0\n */\nfunction foldRight(onNil, onCons) {\n    return function (as) { return (isEmpty(as) ? onNil() : onCons(as.slice(0, as.length - 1), as[as.length - 1])); };\n}\nexports.foldRight = foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.5.0\n */\nfunction scanLeft(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[0] = b;\n        for (var i = 0; i < l; i++) {\n            r[i + 1] = f(r[i], as[i]);\n        }\n        return r;\n    };\n}\nexports.scanLeft = scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.5.0\n */\nfunction scanRight(b, f) {\n    return function (as) {\n        var l = as.length;\n        // tslint:disable-next-line: readonly-array\n        var r = new Array(l + 1);\n        r[l] = b;\n        for (var i = l - 1; i >= 0; i--) {\n            r[i] = f(as[i], r[i + 1]);\n        }\n        return r;\n    };\n}\nexports.scanRight = scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.5.0\n */\nfunction isEmpty(as) {\n    return as.length === 0;\n}\nexports.isEmpty = isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyReadonlyArray<A>`\n *\n * @since 2.5.0\n */\nfunction isNonEmpty(as) {\n    return as.length > 0;\n}\nexports.isNonEmpty = isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.5.0\n */\nfunction isOutOfBound(i, as) {\n    return i < 0 || i >= as.length;\n}\nexports.isOutOfBound = isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.5.0\n */\nfunction lookup(i, as) {\n    return isOutOfBound(i, as) ? Option_1.none : Option_1.some(as[i]);\n}\nexports.lookup = lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction cons(head, tail) {\n    var len = tail.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i + 1] = tail[i];\n    }\n    r[0] = head;\n    return r;\n}\nexports.cons = cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.5.0\n */\nfunction snoc(init, end) {\n    var len = init.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = init[i];\n    }\n    r[len] = end;\n    return r;\n}\nexports.snoc = snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.5.0\n */\nfunction head(as) {\n    return isEmpty(as) ? Option_1.none : Option_1.some(as[0]);\n}\nexports.head = head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.5.0\n */\nfunction last(as) {\n    return lookup(as.length - 1, as);\n}\nexports.last = last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.5.0\n */\nfunction tail(as) {\n    return isEmpty(as) ? Option_1.none : Option_1.some(as.slice(1));\n}\nexports.tail = tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.5.0\n */\nfunction init(as) {\n    var len = as.length;\n    return len === 0 ? Option_1.none : Option_1.some(as.slice(0, len - 1));\n}\nexports.init = init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction takeLeft(n) {\n    return function (as) { return as.slice(0, n); };\n}\nexports.takeLeft = takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.5.0\n */\nfunction takeRight(n) {\n    return function (as) { return (n === 0 ? exports.empty : as.slice(-n)); };\n}\nexports.takeRight = takeRight;\nfunction takeLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        return init;\n    };\n}\nexports.takeLeftWhile = takeLeftWhile;\nvar spanIndexUncurry = function (as, predicate) {\n    var l = as.length;\n    var i = 0;\n    for (; i < l; i++) {\n        if (!predicate(as[i])) {\n            break;\n        }\n    }\n    return i;\n};\nfunction spanLeft(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var init = Array(i);\n        for (var j = 0; j < i; j++) {\n            init[j] = as[j];\n        }\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return { init: init, rest: rest };\n    };\n}\nexports.spanLeft = spanLeft;\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.5.0\n */\nfunction dropLeft(n) {\n    return function (as) { return as.slice(n, as.length); };\n}\nexports.dropLeft = dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction dropRight(n) {\n    return function (as) { return as.slice(0, as.length - n); };\n}\nexports.dropRight = dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.5.0\n */\nfunction dropLeftWhile(predicate) {\n    return function (as) {\n        var i = spanIndexUncurry(as, predicate);\n        var l = as.length;\n        var rest = Array(l - i);\n        for (var j = i; j < l; j++) {\n            rest[j - i] = as[j];\n        }\n        return rest;\n    };\n}\nexports.dropLeftWhile = dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.5.0\n */\nfunction findIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return Option_1.some(i);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findIndex = findIndex;\nfunction findFirst(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            if (predicate(as[i])) {\n                return Option_1.some(as[i]);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findFirst = findFirst;\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.5.0\n */\nfunction findFirstMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = 0; i < len; i++) {\n            var v = f(as[i]);\n            if (Option_1.isSome(v)) {\n                return v;\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findFirstMap = findFirstMap;\nfunction findLast(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return Option_1.some(as[i]);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLast = findLast;\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: ReadonlyArray<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.5.0\n */\nfunction findLastMap(f) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var v = f(as[i]);\n            if (Option_1.isSome(v)) {\n                return v;\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLastMap = findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: ReadonlyArray<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.5.0\n */\nfunction findLastIndex(predicate) {\n    return function (as) {\n        var len = as.length;\n        for (var i = len - 1; i >= 0; i--) {\n            if (predicate(as[i])) {\n                return Option_1.some(i);\n            }\n        }\n        return Option_1.none;\n    };\n}\nexports.findLastIndex = findLastIndex;\n/**\n * @since 2.5.0\n */\nfunction unsafeInsertAt(i, a, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 0, a);\n    return xs;\n}\nexports.unsafeInsertAt = unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.5.0\n */\nfunction insertAt(i, a) {\n    return function (as) { return (i < 0 || i > as.length ? Option_1.none : Option_1.some(unsafeInsertAt(i, a, as))); };\n}\nexports.insertAt = insertAt;\n/**\n * @since 2.5.0\n */\nfunction unsafeUpdateAt(i, a, as) {\n    if (as[i] === a) {\n        return as;\n    }\n    else {\n        // tslint:disable-next-line: readonly-array\n        var xs = __spreadArrays(as);\n        xs[i] = a;\n        return xs;\n    }\n}\nexports.unsafeUpdateAt = unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.5.0\n */\nfunction updateAt(i, a) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeUpdateAt(i, a, as))); };\n}\nexports.updateAt = updateAt;\n/**\n * @since 2.5.0\n */\nfunction unsafeDeleteAt(i, as) {\n    // tslint:disable-next-line: readonly-array\n    var xs = __spreadArrays(as);\n    xs.splice(i, 1);\n    return xs;\n}\nexports.unsafeDeleteAt = unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.5.0\n */\nfunction deleteAt(i) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeDeleteAt(i, as))); };\n}\nexports.deleteAt = deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/ReadonlyArray'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.5.0\n */\nfunction modifyAt(i, f) {\n    return function (as) { return (isOutOfBound(i, as) ? Option_1.none : Option_1.some(unsafeUpdateAt(i, f(as[i]), as))); };\n}\nexports.modifyAt = modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.5.0\n */\nfunction reverse(as) {\n    return __spreadArrays(as).reverse();\n}\nexports.reverse = reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/ReadonlyArray'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction rights(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Right') {\n            r.push(a.right);\n        }\n    }\n    return r;\n}\nexports.rights = rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/ReadonlyArray'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.5.0\n */\nfunction lefts(as) {\n    // tslint:disable-next-line: readonly-array\n    var r = [];\n    var len = as.length;\n    for (var i = 0; i < len; i++) {\n        var a = as[i];\n        if (a._tag === 'Left') {\n            r.push(a.left);\n        }\n    }\n    return r;\n}\nexports.lefts = lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/ReadonlyArray'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction sort(O) {\n    return function (as) { return __spreadArrays(as).sort(O.compare); };\n}\nexports.sort = sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.5.0\n */\nfunction zipWith(fa, fb, f) {\n    // tslint:disable-next-line: readonly-array\n    var fc = [];\n    var len = Math.min(fa.length, fb.length);\n    for (var i = 0; i < len; i++) {\n        fc[i] = f(fa[i], fb[i]);\n    }\n    return fc;\n}\nexports.zipWith = zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.5.0\n */\nfunction zip(fa, fb) {\n    return zipWith(fa, fb, function (a, b) { return [a, b]; });\n}\nexports.zip = zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.5.0\n */\nfunction unzip(as) {\n    // tslint:disable-next-line: readonly-array\n    var fa = [];\n    // tslint:disable-next-line: readonly-array\n    var fb = [];\n    for (var i = 0; i < as.length; i++) {\n        fa[i] = as[i][0];\n        fb[i] = as[i][1];\n    }\n    return [fa, fb];\n}\nexports.unzip = unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction rotate(n) {\n    return function (as) {\n        var len = as.length;\n        if (n === 0 || len <= 1 || len === Math.abs(n)) {\n            return as;\n        }\n        else if (n < 0) {\n            return rotate(len + n)(as);\n        }\n        else {\n            return as.slice(-n).concat(as.slice(0, len - n));\n        }\n    };\n}\nexports.rotate = rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `ReadonlyArray<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.5.0\n */\nfunction elem(E) {\n    return function (a, as) {\n        var predicate = function (element) { return E.equals(element, a); };\n        var i = 0;\n        var len = as.length;\n        for (; i < len; i++) {\n            if (predicate(as[i])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.elem = elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.5.0\n */\nfunction uniq(E) {\n    var elemS = elem(E);\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var r = [];\n        var len = as.length;\n        var i = 0;\n        for (; i < len; i++) {\n            var a = as[i];\n            if (!elemS(a, r)) {\n                r.push(a);\n            }\n        }\n        return len === r.length ? as : r;\n    };\n}\nexports.uniq = uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/ReadonlyArray'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.5.0\n */\nfunction sortBy(ords) {\n    var M = Ord_1.getMonoid();\n    return sort(ords.reduce(M.concat, M.empty));\n}\nexports.sortBy = sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/ReadonlyArray'\n *\n * const group = <A>(S: Eq<A>): ((as: ReadonlyArray<A>) => ReadonlyArray<ReadonlyArray<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.5.0\n */\nfunction chop(f) {\n    return function (as) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        var cs = as;\n        while (isNonEmpty(cs)) {\n            var _a = f(cs), b = _a[0], c = _a[1];\n            result.push(b);\n            cs = c;\n        }\n        return result;\n    };\n}\nexports.chop = chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.5.0\n */\nfunction splitAt(n) {\n    return function (as) { return [as.slice(0, n), as.slice(n)]; };\n}\nexports.splitAt = splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/ReadonlyArray'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.5.0\n */\nfunction chunksOf(n) {\n    return function (as) { return (as.length === 0 ? exports.empty : isOutOfBound(n - 1, as) ? [as] : chop(splitAt(n))(as)); };\n}\nexports.chunksOf = chunksOf;\nfunction comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    var go = function (scope, input) {\n        if (input.length === 0) {\n            return g.apply(void 0, scope) ? [f.apply(void 0, scope)] : exports.empty;\n        }\n        else {\n            return exports.readonlyArray.chain(input[0], function (x) { return go(snoc(scope, x), input.slice(1)); });\n        }\n    };\n    return go(exports.empty, input);\n}\nexports.comprehension = comprehension;\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.5.0\n */\nfunction union(E) {\n    var elemE = elem(E);\n    return function (xs, ys) {\n        return concat(xs, ys.filter(function (a) { return !elemE(a, xs); }));\n    };\n}\nexports.union = union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.5.0\n */\nfunction intersection(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return elemE(a, ys); }); };\n}\nexports.intersection = intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/ReadonlyArray'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.5.0\n */\nfunction difference(E) {\n    var elemE = elem(E);\n    return function (xs, ys) { return xs.filter(function (a) { return !elemE(a, ys); }); };\n}\nexports.difference = difference;\n/**\n * @since 2.5.0\n */\nexports.of = function (a) { return [a]; };\n/**\n * @since 2.5.0\n */\nexports.readonlyArray = {\n    URI: exports.URI,\n    map: function (fa, f) { return fa.map(function (a) { return f(a); }); },\n    mapWithIndex: function (fa, f) { return fa.map(function (a, i) { return f(i, a); }); },\n    compact: function (as) { return exports.readonlyArray.filterMap(as, function_1.identity); },\n    separate: function (fa) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var _i = 0, fa_1 = fa; _i < fa_1.length; _i++) {\n            var e = fa_1[_i];\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (as, predicate) {\n        return as.filter(predicate);\n    },\n    filterMap: function (as, f) { return exports.readonlyArray.filterMapWithIndex(as, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return exports.readonlyArray.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return exports.readonlyArray.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    of: exports.of,\n    ap: function (fab, fa) { return flatten(exports.readonlyArray.map(fab, function (f) { return exports.readonlyArray.map(fa, f); })); },\n    chain: function (fa, f) {\n        var resLen = 0;\n        var l = fa.length;\n        var temp = new Array(l);\n        for (var i = 0; i < l; i++) {\n            var e = fa[i];\n            var arr = f(e);\n            resLen += arr.length;\n            temp[i] = arr;\n        }\n        var r = Array(resLen);\n        var start = 0;\n        for (var i = 0; i < l; i++) {\n            var arr = temp[i];\n            var l_1 = arr.length;\n            for (var j = 0; j < l_1; j++) {\n                r[j + start] = arr[j];\n            }\n            start += l_1;\n        }\n        return r;\n    },\n    reduce: function (fa, b, f) { return exports.readonlyArray.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = exports.readonlyArray.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return exports.readonlyArray.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    unfold: function (b, f) {\n        // tslint:disable-next-line: readonly-array\n        var ret = [];\n        var bb = b;\n        while (true) {\n            var mt = f(bb);\n            if (Option_1.isSome(mt)) {\n                var _a = mt.value, a = _a[0], b_1 = _a[1];\n                ret.push(a);\n                bb = b_1;\n            }\n            else {\n                break;\n            }\n        }\n        return ret;\n    },\n    traverse: function (F) {\n        var traverseWithIndexF = exports.readonlyArray.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: function (F) { return function (ta) {\n        return exports.readonlyArray.reduce(ta, F.of(exports.readonlyArray.zero()), function (fas, fa) {\n            return F.ap(F.map(fas, function (as) { return function (a) { return snoc(as, a); }; }), fa);\n        });\n    }; },\n    zero: function () { return exports.empty; },\n    alt: function (fx, f) { return concat(fx, f()); },\n    extend: function (fa, f) { return fa.map(function (_, i, as) { return f(as.slice(i)); }); },\n    wither: function (F) {\n        var traverseF = exports.readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyArray.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = exports.readonlyArray.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyArray.separate); };\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var l = fa.length;\n        var r = b;\n        for (var i = 0; i < l; i++) {\n            r = f(i, r, fa[i]);\n        }\n        return r;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) { return fa.reduce(function (b, a, i) { return M.concat(b, f(i, a)); }, M.empty); }; },\n    reduceRightWithIndex: function (fa, b, f) { return fa.reduceRight(function (b, a, i) { return f(i, a, b); }, b); },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        return exports.readonlyArray.reduceWithIndex(ta, F.of(exports.readonlyArray.zero()), function (i, fbs, a) {\n            return F.ap(F.map(fbs, function (bs) { return function (b) { return snoc(bs, b); }; }), f(i, a));\n        });\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var e = f(i, fa[i]);\n            if (e._tag === 'Left') {\n                left.push(e.left);\n            }\n            else {\n                right.push(e.right);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        // tslint:disable-next-line: readonly-array\n        var left = [];\n        // tslint:disable-next-line: readonly-array\n        var right = [];\n        for (var i = 0; i < fa.length; i++) {\n            var a = fa[i];\n            if (predicateWithIndex(i, a)) {\n                right.push(a);\n            }\n            else {\n                left.push(a);\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        // tslint:disable-next-line: readonly-array\n        var result = [];\n        for (var i = 0; i < fa.length; i++) {\n            var optionB = f(i, fa[i]);\n            if (Option_1.isSome(optionB)) {\n                result.push(optionB.value);\n            }\n        }\n        return result;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        return fa.filter(function (a, i) { return predicateWithIndex(i, a); });\n    }\n};\nvar _a = pipeable_1.pipeable(exports.readonlyArray), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.filterMapWithIndex = filterMapWithIndex;\nexports.filterWithIndex = filterWithIndex;\nexports.foldMap = foldMap;\nexports.foldMapWithIndex = foldMapWithIndex;\nexports.map = map;\nexports.mapWithIndex = mapWithIndex;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.partitionMapWithIndex = partitionMapWithIndex;\nexports.partitionWithIndex = partitionWithIndex;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reduceRightWithIndex = reduceRightWithIndex;\nexports.reduceWithIndex = reduceWithIndex;\nexports.compact = compact;\nexports.separate = separate;\n","/**\n * The `Ord` type class represents types which support comparisons with a _total order_.\n *\n * Instances should satisfy the laws of total orderings:\n *\n * 1. Reflexivity: `S.compare(a, a) <= 0`\n * 2. Antisymmetry: if `S.compare(a, b) <= 0` and `S.compare(b, a) <= 0` then `a <-> b`\n * 3. Transitivity: if `S.compare(a, b) <= 0` and `S.compare(b, c) <= 0` then `S.compare(a, c) <= 0`\n *\n * @since 2.0.0\n */\nimport { monoidOrdering } from './Ordering';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Ord';\n// default compare for primitive types\nvar compare = function (x, y) {\n    return x < y ? -1 : x > y ? 1 : 0;\n};\nfunction strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexport var ordString = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexport var ordNumber = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexport var ordBoolean = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * Test whether one value is _strictly less than_ another\n *\n * @since 2.0.0\n */\nexport function lt(O) {\n    return function (x, y) { return O.compare(x, y) === -1; };\n}\n/**\n * Test whether one value is _strictly greater than_ another\n *\n * @since 2.0.0\n */\nexport function gt(O) {\n    return function (x, y) { return O.compare(x, y) === 1; };\n}\n/**\n * Test whether one value is _non-strictly less than_ another\n *\n * @since 2.0.0\n */\nexport function leq(O) {\n    return function (x, y) { return O.compare(x, y) !== 1; };\n}\n/**\n * Test whether one value is _non-strictly greater than_ another\n *\n * @since 2.0.0\n */\nexport function geq(O) {\n    return function (x, y) { return O.compare(x, y) !== -1; };\n}\n/**\n * Take the minimum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nexport function min(O) {\n    return function (x, y) { return (O.compare(x, y) === 1 ? y : x); };\n}\n/**\n * Take the maximum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nexport function max(O) {\n    return function (x, y) { return (O.compare(x, y) === -1 ? y : x); };\n}\n/**\n * Clamp a value between a minimum and a maximum\n *\n * @since 2.0.0\n */\nexport function clamp(O) {\n    var minO = min(O);\n    var maxO = max(O);\n    return function (low, hi) { return function (x) { return maxO(minO(x, hi), low); }; };\n}\n/**\n * Test whether a value is between a minimum and a maximum (inclusive)\n *\n * @since 2.0.0\n */\nexport function between(O) {\n    var lessThanO = lt(O);\n    var greaterThanO = gt(O);\n    return function (low, hi) { return function (x) { return (lessThanO(x, low) || greaterThanO(x, hi) ? false : true); }; };\n}\n/**\n * @since 2.0.0\n */\nexport function fromCompare(compare) {\n    var optimizedCompare = function (x, y) { return (x === y ? 0 : compare(x, y)); };\n    return {\n        equals: function (x, y) { return optimizedCompare(x, y) === 0; },\n        compare: optimizedCompare\n    };\n}\nvar S = {\n    concat: function (x, y) { return fromCompare(function (a, b) { return monoidOrdering.concat(x.compare(a, b), y.compare(a, b)); }); }\n};\n/**\n * Use `getMonoid` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nexport function getSemigroup() {\n    return S;\n}\nvar M = {\n    // tslint:disable-next-line: deprecation\n    concat: getSemigroup().concat,\n    empty: fromCompare(function () { return 0; })\n};\n/**\n * Returns a `Monoid` such that:\n *\n * - its `concat(ord1, ord2)` operation will order first by `ord1`, and then by `ord2`\n * - its `empty` value is an `Ord` that always considers compared elements equal\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { contramap, getDualOrd, getMonoid, ordBoolean, ordNumber, ordString } from 'fp-ts/lib/Ord'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/Monoid'\n *\n * interface User {\n *   id: number\n *   name: string\n *   age: number\n *   rememberMe: boolean\n * }\n *\n * const byName = pipe(\n *   ordString,\n *   contramap((p: User) => p.name)\n * )\n *\n * const byAge = pipe(\n *   ordNumber,\n *   contramap((p: User) => p.age)\n * )\n *\n * const byRememberMe = pipe(\n *   ordBoolean,\n *   contramap((p: User) => p.rememberMe)\n * )\n *\n * const M = getMonoid<User>()\n *\n * const users: Array<User> = [\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true }\n * ]\n *\n * // sort by name, then by age, then by `rememberMe`\n * const O1 = fold(M)([byName, byAge, byRememberMe])\n * assert.deepStrictEqual(sort(O1)(users), [\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * // now `rememberMe = true` first, then by name, then by age\n * const O2 = fold(M)([getDualOrd(byRememberMe), byName, byAge])\n * assert.deepStrictEqual(sort(O2)(users), [\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * @since 2.4.0\n */\nexport function getMonoid() {\n    return M;\n}\n/**\n * Given a tuple of `Ord`s returns an `Ord` for the tuple\n *\n * @example\n * import { getTupleOrd, ordString, ordNumber, ordBoolean } from 'fp-ts/lib/Ord'\n *\n * const O = getTupleOrd(ordString, ordNumber, ordBoolean)\n * assert.strictEqual(O.compare(['a', 1, true], ['b', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 1, false]), 1)\n *\n * @since 2.0.0\n */\nexport function getTupleOrd() {\n    var ords = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        ords[_i] = arguments[_i];\n    }\n    var len = ords.length;\n    return fromCompare(function (x, y) {\n        var i = 0;\n        for (; i < len - 1; i++) {\n            var r = ords[i].compare(x[i], y[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return ords[i].compare(x[i], y[i]);\n    });\n}\n/**\n * @since 2.0.0\n */\nexport function getDualOrd(O) {\n    return fromCompare(function (x, y) { return O.compare(y, x); });\n}\n/**\n * @since 2.0.0\n */\nexport var ord = {\n    URI: URI,\n    contramap: function (fa, f) { return fromCompare(function (x, y) { return fa.compare(f(x), f(y)); }); }\n};\nvar contramap = pipeable(ord).contramap;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap };\n/**\n * @since 2.0.0\n */\nexport var ordDate = ord.contramap(ordNumber, function (date) { return date.valueOf(); });\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Eq';\n/**\n * @since 2.0.0\n */\nexport function fromEquals(equals) {\n    return {\n        equals: function (x, y) { return x === y || equals(x, y); }\n    };\n}\n/**\n * @since 2.5.0\n */\nexport var eqStrict = {\n    // tslint:disable-next-line: deprecation\n    equals: strictEqual\n};\n/**\n * Use `eqStrict` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nexport function strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexport var eqString = eqStrict;\n/**\n * @since 2.0.0\n */\nexport var eqNumber = eqStrict;\n/**\n * @since 2.0.0\n */\nexport var eqBoolean = eqStrict;\n/**\n * @since 2.0.0\n */\nexport function getStructEq(eqs) {\n    return fromEquals(function (x, y) {\n        for (var k in eqs) {\n            if (!eqs[k].equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\n/**\n * Given a tuple of `Eq`s returns a `Eq` for the tuple\n *\n * @example\n * import { getTupleEq, eqString, eqNumber, eqBoolean } from 'fp-ts/lib/Eq'\n *\n * const E = getTupleEq(eqString, eqNumber, eqBoolean)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, true]), true)\n * assert.strictEqual(E.equals(['a', 1, true], ['b', 1, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 2, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, false]), false)\n *\n * @since 2.0.0\n */\nexport function getTupleEq() {\n    var eqs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        eqs[_i] = arguments[_i];\n    }\n    return fromEquals(function (x, y) { return eqs.every(function (E, i) { return E.equals(x[i], y[i]); }); });\n}\n/**\n * @since 2.0.0\n */\nexport var eq = {\n    URI: URI,\n    contramap: function (fa, f) { return fromEquals(function (x, y) { return fa.equals(f(x), f(y)); }); }\n};\nvar contramap = pipeable(eq).contramap;\nexport { \n/**\n * @since 2.0.0\n */\ncontramap };\n/**\n * @since 2.0.0\n */\nexport var eqDate = eq.contramap(eqNumber, function (date) { return date.valueOf(); });\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { pipeable } from './pipeable';\nimport * as RR from './ReadonlyRecord';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Record';\n/**\n * @since 2.0.0\n */\nexport var getShow = RR.getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.0.0\n */\nexport var size = RR.size;\n/**\n * Test whether a record is empty\n *\n * @since 2.0.0\n */\nexport var isEmpty = RR.isEmpty;\n/**\n * @since 2.0.0\n */\nexport var keys = RR.keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/Record'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.0.0\n */\nexport var collect = RR.collect;\n/**\n * @since 2.0.0\n */\nexport var toArray = RR.toReadonlyArray;\nexport function toUnfoldable(U) {\n    return RR.toUnfoldable(U);\n}\nexport function insertAt(k, a) {\n    return RR.insertAt(k, a);\n}\n/**\n * @since 2.0.0\n */\nexport var hasOwnProperty = RR.hasOwnProperty;\nexport function deleteAt(k) {\n    return RR.deleteAt(k);\n}\n/**\n * @since 2.0.0\n */\nexport var updateAt = RR.updateAt;\n/**\n * @since 2.0.0\n */\nexport var modifyAt = RR.modifyAt;\nexport function pop(k) {\n    return RR.pop(k);\n}\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.0.0\n */\nexport var isSubrecord = RR.isSubrecord;\nexport function getEq(E) {\n    return RR.getEq(E);\n}\nexport function getMonoid(S) {\n    return RR.getMonoid(S);\n}\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.0.0\n */\nexport var lookup = RR.lookup;\n/**\n * @since 2.0.0\n */\nexport var empty = {};\nexport function mapWithIndex(f) {\n    return RR.mapWithIndex(f);\n}\nexport function map(f) {\n    return RR.map(f);\n}\nexport function reduceWithIndex(b, f) {\n    return RR.reduceWithIndex(b, f);\n}\nexport function foldMapWithIndex(M) {\n    return RR.foldMapWithIndex(M);\n}\nexport function reduceRightWithIndex(b, f) {\n    return RR.reduceRightWithIndex(b, f);\n}\n/**\n * Create a record with one key/value pair\n *\n * @since 2.0.0\n */\nexport var singleton = RR.singleton;\nexport function traverseWithIndex(F) {\n    return RR.traverseWithIndex(F);\n}\nexport function traverse(F) {\n    return RR.traverse(F);\n}\nexport function sequence(F) {\n    return RR.sequence(F);\n}\nexport function partitionMapWithIndex(f) {\n    return RR.partitionMapWithIndex(f);\n}\nexport function partitionWithIndex(predicateWithIndex) {\n    return RR.partitionWithIndex(predicateWithIndex);\n}\nexport function filterMapWithIndex(f) {\n    return RR.filterMapWithIndex(f);\n}\nexport function filterWithIndex(predicateWithIndex) {\n    return RR.filterWithIndex(predicateWithIndex);\n}\nexport function fromFoldable(M, F) {\n    return RR.fromFoldable(M, F);\n}\nexport function fromFoldableMap(M, F) {\n    return RR.fromFoldableMap(M, F);\n}\n/**\n * @since 2.0.0\n */\nexport var every = RR.every;\n/**\n * @since 2.0.0\n */\nexport var some = RR.some;\n/**\n * @since 2.0.0\n */\nexport var elem = RR.elem;\n/**\n * @since 2.0.0\n */\nexport var record = {\n    URI: URI,\n    map: RR.readonlyRecord.map,\n    reduce: RR.readonlyRecord.reduce,\n    foldMap: RR.readonlyRecord.foldMap,\n    reduceRight: RR.readonlyRecord.reduceRight,\n    traverse: RR.readonlyRecord.traverse,\n    sequence: sequence,\n    compact: RR.readonlyRecord.compact,\n    separate: RR.readonlyRecord.separate,\n    filter: RR.readonlyRecord.filter,\n    filterMap: RR.readonlyRecord.filterMap,\n    partition: RR.readonlyRecord.partition,\n    partitionMap: RR.readonlyRecord.partitionMap,\n    wither: RR.readonlyRecord.wither,\n    wilt: RR.readonlyRecord.wilt,\n    mapWithIndex: RR.readonlyRecord.mapWithIndex,\n    reduceWithIndex: RR.readonlyRecord.reduceWithIndex,\n    foldMapWithIndex: RR.readonlyRecord.foldMapWithIndex,\n    reduceRightWithIndex: RR.readonlyRecord.reduceRightWithIndex,\n    traverseWithIndex: RR.readonlyRecord.traverseWithIndex,\n    partitionMapWithIndex: RR.readonlyRecord.partitionMapWithIndex,\n    partitionWithIndex: RR.readonlyRecord.partitionWithIndex,\n    filterMapWithIndex: RR.readonlyRecord.filterMapWithIndex,\n    filterWithIndex: RR.readonlyRecord.filterWithIndex\n};\nvar _a = pipeable(record), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexport { \n/**\n * @since 2.0.0\n */\nfilter, \n/**\n * @since 2.0.0\n */\nfilterMap, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\npartition, \n/**\n * @since 2.0.0\n */\npartitionMap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight, \n/**\n * @since 2.0.0\n */\ncompact, \n/**\n * @since 2.0.0\n */\nseparate };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/**\n * @since 1.0.0\n */\nimport { either, isLeft, left, right } from 'fp-ts/es6/Either';\nvar map = either.map;\nvar chain = either.chain;\n/**\n * @since 1.0.0\n */\nvar Type = /** @class */ (function () {\n    function Type(\n    /** a unique name for this codec */\n    name, \n    /** a custom type guard */\n    is, \n    /** succeeds if a value of type I can be decoded to a value of type A */\n    validate, \n    /** converts a value of type A to a value of type O */\n    encode) {\n        this.name = name;\n        this.is = is;\n        this.validate = validate;\n        this.encode = encode;\n        this.decode = this.decode.bind(this);\n    }\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.pipe = function (ab, name) {\n        var _this = this;\n        if (name === void 0) { name = \"pipe(\" + this.name + \", \" + ab.name + \")\"; }\n        return new Type(name, ab.is, function (i, c) { return chain(_this.validate(i, c), function (a) { return ab.validate(a, c); }); }, this.encode === identity && ab.encode === identity ? identity : function (b) { return _this.encode(ab.encode(b)); });\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asDecoder = function () {\n        return this;\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asEncoder = function () {\n        return this;\n    };\n    /**\n     * a version of `validate` with a default context\n     * @since 1.0.0\n     */\n    Type.prototype.decode = function (i) {\n        return this.validate(i, [{ key: '', type: this, actual: i }]);\n    };\n    return Type;\n}());\nexport { Type };\n/**\n * @since 1.0.0\n */\nexport var identity = function (a) { return a; };\n/**\n * @since 1.0.0\n */\nexport var getFunctionName = function (f) {\n    return f.displayName || f.name || \"<function\" + f.length + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var getContextEntry = function (key, decoder) { return ({ key: key, type: decoder }); };\n/**\n * @since 1.0.0\n */\nexport var appendContext = function (c, key, decoder, actual) {\n    var len = c.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = c[i];\n    }\n    r[len] = { key: key, type: decoder, actual: actual };\n    return r;\n};\n/**\n * @since 1.0.0\n */\nexport var failures = left;\n/**\n * @since 1.0.0\n */\nexport var failure = function (value, context, message) {\n    return failures([{ value: value, context: context, message: message }]);\n};\n/**\n * @since 1.0.0\n */\nexport var success = right;\nvar pushAll = function (xs, ys) {\n    var l = ys.length;\n    for (var i = 0; i < l; i++) {\n        xs.push(ys[i]);\n    }\n};\n//\n// basic types\n//\n/**\n * @since 1.0.0\n */\nvar NullType = /** @class */ (function (_super) {\n    __extends(NullType, _super);\n    function NullType() {\n        var _this = _super.call(this, 'null', function (u) { return u === null; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NullType';\n        return _this;\n    }\n    return NullType;\n}(Type));\nexport { NullType };\n/**\n * @since 1.0.0\n */\nexport var nullType = new NullType();\n/**\n * @since 1.0.0\n */\nvar UndefinedType = /** @class */ (function (_super) {\n    __extends(UndefinedType, _super);\n    function UndefinedType() {\n        var _this = _super.call(this, 'undefined', function (u) { return u === void 0; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UndefinedType';\n        return _this;\n    }\n    return UndefinedType;\n}(Type));\nexport { UndefinedType };\nvar undefinedType = new UndefinedType();\n/**\n * @since 1.2.0\n */\nvar VoidType = /** @class */ (function (_super) {\n    __extends(VoidType, _super);\n    function VoidType() {\n        var _this = _super.call(this, 'void', undefinedType.is, undefinedType.validate, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'VoidType';\n        return _this;\n    }\n    return VoidType;\n}(Type));\nexport { VoidType };\n/**\n * @since 1.2.0\n */\nexport var voidType = new VoidType();\n/**\n * @since 1.5.0\n */\nvar UnknownType = /** @class */ (function (_super) {\n    __extends(UnknownType, _super);\n    function UnknownType() {\n        var _this = _super.call(this, 'unknown', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnknownType';\n        return _this;\n    }\n    return UnknownType;\n}(Type));\nexport { UnknownType };\n/**\n * @since 1.5.0\n */\nexport var unknown = new UnknownType();\n/**\n * @since 1.0.0\n */\nvar StringType = /** @class */ (function (_super) {\n    __extends(StringType, _super);\n    function StringType() {\n        var _this = _super.call(this, 'string', function (u) { return typeof u === 'string'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StringType';\n        return _this;\n    }\n    return StringType;\n}(Type));\nexport { StringType };\n/**\n * @since 1.0.0\n */\nexport var string = new StringType();\n/**\n * @since 1.0.0\n */\nvar NumberType = /** @class */ (function (_super) {\n    __extends(NumberType, _super);\n    function NumberType() {\n        var _this = _super.call(this, 'number', function (u) { return typeof u === 'number'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NumberType';\n        return _this;\n    }\n    return NumberType;\n}(Type));\nexport { NumberType };\n/**\n * @since 1.0.0\n */\nexport var number = new NumberType();\n/**\n * @since 2.1.0\n */\nvar BigIntType = /** @class */ (function (_super) {\n    __extends(BigIntType, _super);\n    function BigIntType() {\n        var _this = _super.call(this, 'bigint', \n        // tslint:disable-next-line: valid-typeof\n        function (u) { return typeof u === 'bigint'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BigIntType';\n        return _this;\n    }\n    return BigIntType;\n}(Type));\nexport { BigIntType };\n/**\n * @since 2.1.0\n */\nexport var bigint = new BigIntType();\n/**\n * @since 1.0.0\n */\nvar BooleanType = /** @class */ (function (_super) {\n    __extends(BooleanType, _super);\n    function BooleanType() {\n        var _this = _super.call(this, 'boolean', function (u) { return typeof u === 'boolean'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'BooleanType';\n        return _this;\n    }\n    return BooleanType;\n}(Type));\nexport { BooleanType };\n/**\n * @since 1.0.0\n */\nexport var boolean = new BooleanType();\n/**\n * @since 1.0.0\n */\nvar AnyArrayType = /** @class */ (function (_super) {\n    __extends(AnyArrayType, _super);\n    function AnyArrayType() {\n        var _this = _super.call(this, 'UnknownArray', Array.isArray, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyArrayType';\n        return _this;\n    }\n    return AnyArrayType;\n}(Type));\nexport { AnyArrayType };\n/**\n * @since 1.7.1\n */\nexport var UnknownArray = new AnyArrayType();\n/**\n * @since 1.0.0\n */\nvar AnyDictionaryType = /** @class */ (function (_super) {\n    __extends(AnyDictionaryType, _super);\n    function AnyDictionaryType() {\n        var _this = _super.call(this, 'UnknownRecord', function (u) {\n            var s = Object.prototype.toString.call(u);\n            return s === '[object Object]' || s === '[object Window]';\n        }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyDictionaryType';\n        return _this;\n    }\n    return AnyDictionaryType;\n}(Type));\nexport { AnyDictionaryType };\n/**\n * @since 1.7.1\n */\nexport var UnknownRecord = new AnyDictionaryType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar FunctionType = /** @class */ (function (_super) {\n    __extends(FunctionType, _super);\n    function FunctionType() {\n        var _this = _super.call(this, 'Function', \n        // tslint:disable-next-line:strict-type-predicates\n        function (u) { return typeof u === 'function'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'FunctionType';\n        return _this;\n    }\n    return FunctionType;\n}(Type));\nexport { FunctionType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Function = new FunctionType();\n/**\n * @since 1.0.0\n */\nvar RefinementType = /** @class */ (function (_super) {\n    __extends(RefinementType, _super);\n    function RefinementType(name, is, validate, encode, type, predicate) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this.predicate = predicate;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RefinementType';\n        return _this;\n    }\n    return RefinementType;\n}(Type));\nexport { RefinementType };\n/**\n * @since 1.8.1\n */\nexport var brand = function (codec, predicate, name) {\n    // tslint:disable-next-line: deprecation\n    return refinement(codec, predicate, name);\n};\n/**\n * A branded codec representing an integer\n * @since 1.8.1\n */\nexport var Int = brand(number, function (n) { return Number.isInteger(n); }, 'Int');\n/**\n * @since 1.0.0\n */\nvar LiteralType = /** @class */ (function (_super) {\n    __extends(LiteralType, _super);\n    function LiteralType(name, is, validate, encode, value) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.value = value;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'LiteralType';\n        return _this;\n    }\n    return LiteralType;\n}(Type));\nexport { LiteralType };\n/**\n * @since 1.0.0\n */\nexport var literal = function (value, name) {\n    if (name === void 0) { name = JSON.stringify(value); }\n    var is = function (u) { return u === value; };\n    return new LiteralType(name, is, function (u, c) { return (is(u) ? success(value) : failure(u, c)); }, identity, value);\n};\n/**\n * @since 1.0.0\n */\nvar KeyofType = /** @class */ (function (_super) {\n    __extends(KeyofType, _super);\n    function KeyofType(name, is, validate, encode, keys) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.keys = keys;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'KeyofType';\n        return _this;\n    }\n    return KeyofType;\n}(Type));\nexport { KeyofType };\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 1.0.0\n */\nexport var keyof = function (keys, name) {\n    if (name === void 0) { name = Object.keys(keys)\n        .map(function (k) { return JSON.stringify(k); })\n        .join(' | '); }\n    var is = function (u) { return string.is(u) && hasOwnProperty.call(keys, u); };\n    return new KeyofType(name, is, function (u, c) { return (is(u) ? success(u) : failure(u, c)); }, identity, keys);\n};\n/**\n * @since 1.0.0\n */\nvar RecursiveType = /** @class */ (function (_super) {\n    __extends(RecursiveType, _super);\n    function RecursiveType(name, is, validate, encode, runDefinition) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.runDefinition = runDefinition;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'RecursiveType';\n        return _this;\n    }\n    return RecursiveType;\n}(Type));\nexport { RecursiveType };\nObject.defineProperty(RecursiveType.prototype, 'type', {\n    get: function () {\n        return this.runDefinition();\n    },\n    enumerable: true,\n    configurable: true\n});\n/**\n * @since 1.0.0\n */\nexport var recursion = function (name, definition) {\n    var cache;\n    var runDefinition = function () {\n        if (!cache) {\n            cache = definition(Self);\n            cache.name = name;\n        }\n        return cache;\n    };\n    var Self = new RecursiveType(name, function (u) { return runDefinition().is(u); }, function (u, c) { return runDefinition().validate(u, c); }, function (a) { return runDefinition().encode(a); }, runDefinition);\n    return Self;\n};\n/**\n * @since 1.0.0\n */\nvar ArrayType = /** @class */ (function (_super) {\n    __extends(ArrayType, _super);\n    function ArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ArrayType';\n        return _this;\n    }\n    return ArrayType;\n}(Type));\nexport { ArrayType };\n/**\n * @since 1.0.0\n */\nexport var array = function (codec, name) {\n    if (name === void 0) { name = \"Array<\" + codec.name + \">\"; }\n    return new ArrayType(name, function (u) { return UnknownArray.is(u) && u.every(codec.is); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var len = us.length;\n            var as = us;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var ui = us[i];\n                var result = codec.validate(ui, appendContext(c, String(i), codec, ui));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var ai = result.right;\n                    if (ai !== ui) {\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = ai;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, codec.encode === identity ? identity : function (a) { return a.map(codec.encode); }, codec);\n};\n/**\n * @since 1.0.0\n */\nvar InterfaceType = /** @class */ (function (_super) {\n    __extends(InterfaceType, _super);\n    function InterfaceType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'InterfaceType';\n        return _this;\n    }\n    return InterfaceType;\n}(Type));\nexport { InterfaceType };\nvar getNameFromProps = function (props) {\n    return Object.keys(props)\n        .map(function (k) { return k + \": \" + props[k].name; })\n        .join(', ');\n};\nvar useIdentity = function (codecs) {\n    for (var i = 0; i < codecs.length; i++) {\n        if (codecs[i].encode !== identity) {\n            return false;\n        }\n    }\n    return true;\n};\nvar getInterfaceTypeName = function (props) {\n    return \"{ \" + getNameFromProps(props) + \" }\";\n};\n/**\n * @since 1.0.0\n */\nexport var type = function (props, name) {\n    if (name === void 0) { name = getInterfaceTypeName(props); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new InterfaceType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if ((uk === undefined && !hasOwnProperty.call(u, k)) || !types[i].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                var type_1 = types[i];\n                var result = type_1.validate(ak, appendContext(c, k, type_1, ak));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak || (vak === undefined && !hasOwnProperty.call(a, k))) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var encode = types[i].encode;\n                if (encode !== identity) {\n                    s[k] = encode(a[k]);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar PartialType = /** @class */ (function (_super) {\n    __extends(PartialType, _super);\n    function PartialType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'PartialType';\n        return _this;\n    }\n    return PartialType;\n}(Type));\nexport { PartialType };\nvar getPartialTypeName = function (inner) {\n    return \"Partial<\" + inner + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var partial = function (props, name) {\n    if (name === void 0) { name = getPartialTypeName(getInterfaceTypeName(props)); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new PartialType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var uk = u[k];\n                if (uk !== undefined && !props[k].is(uk)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                var type_2 = props[k];\n                var result = type_2.validate(ak, appendContext(c, k, type_2, ak));\n                if (isLeft(result)) {\n                    if (ak !== undefined) {\n                        pushAll(errors, result.left);\n                    }\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                if (ak !== undefined) {\n                    s[k] = types[i].encode(ak);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar DictionaryType = /** @class */ (function (_super) {\n    __extends(DictionaryType, _super);\n    function DictionaryType(name, is, validate, encode, domain, codomain) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.domain = domain;\n        _this.codomain = codomain;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'DictionaryType';\n        return _this;\n    }\n    return DictionaryType;\n}(Type));\nexport { DictionaryType };\nfunction enumerableRecord(keys, domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    var len = keys.length;\n    return new DictionaryType(name, function (u) { return UnknownRecord.is(u) && keys.every(function (k) { return codomain.is(u[k]); }); }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = {};\n            var errors = [];\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = o[k];\n                var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                if (isLeft(codomainResult)) {\n                    pushAll(errors, codomainResult.left);\n                }\n                else {\n                    var vok = codomainResult.right;\n                    changed = changed || vok !== ok;\n                    a[k] = vok;\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed || Object.keys(o).length !== len ? a : o));\n        });\n    }, codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[k] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\n/**\n * @internal\n */\nexport function getDomainKeys(domain) {\n    var _a;\n    if (isLiteralC(domain)) {\n        var literal_1 = domain.value;\n        if (string.is(literal_1)) {\n            return _a = {}, _a[literal_1] = null, _a;\n        }\n    }\n    else if (isKeyofC(domain)) {\n        return domain.keys;\n    }\n    else if (isUnionC(domain)) {\n        var keys = domain.types.map(function (type) { return getDomainKeys(type); });\n        return keys.some(undefinedType.is) ? undefined : Object.assign.apply(Object, __spreadArrays([{}], keys));\n    }\n    return undefined;\n}\nfunction nonEnumerableRecord(domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    return new DictionaryType(name, function (u) {\n        if (UnknownRecord.is(u)) {\n            return Object.keys(u).every(function (k) { return domain.is(k) && codomain.is(u[k]); });\n        }\n        return isAnyC(codomain) && Array.isArray(u);\n    }, function (u, c) {\n        if (UnknownRecord.is(u)) {\n            var a = {};\n            var errors = [];\n            var keys = Object.keys(u);\n            var len = keys.length;\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = u[k];\n                var domainResult = domain.validate(k, appendContext(c, k, domain, k));\n                if (isLeft(domainResult)) {\n                    pushAll(errors, domainResult.left);\n                }\n                else {\n                    var vk = domainResult.right;\n                    changed = changed || vk !== k;\n                    k = vk;\n                    var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                    if (isLeft(codomainResult)) {\n                        pushAll(errors, codomainResult.left);\n                    }\n                    else {\n                        var vok = codomainResult.right;\n                        changed = changed || vok !== ok;\n                        a[k] = vok;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed ? a : u));\n        }\n        if (isAnyC(codomain) && Array.isArray(u)) {\n            return success(u);\n        }\n        return failure(u, c);\n    }, domain.encode === identity && codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            var keys = Object.keys(a);\n            var len = keys.length;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[String(domain.encode(k))] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n}\n/**\n * @since 1.7.1\n */\nexport function record(domain, codomain, name) {\n    var keys = getDomainKeys(domain);\n    return keys\n        ? enumerableRecord(Object.keys(keys), domain, codomain, name)\n        : nonEnumerableRecord(domain, codomain, name);\n}\n/**\n * @since 1.0.0\n */\nvar UnionType = /** @class */ (function (_super) {\n    __extends(UnionType, _super);\n    function UnionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'UnionType';\n        return _this;\n    }\n    return UnionType;\n}(Type));\nexport { UnionType };\nvar getUnionName = function (codecs) {\n    return '(' + codecs.map(function (type) { return type.name; }).join(' | ') + ')';\n};\n/**\n * @since 1.0.0\n */\nexport var union = function (codecs, name) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var index = getIndex(codecs);\n    if (index !== undefined && codecs.length > 0) {\n        var tag_1 = index[0], groups_1 = index[1];\n        var len_1 = groups_1.length;\n        var find_1 = function (value) {\n            for (var i = 0; i < len_1; i++) {\n                if (groups_1[i].indexOf(value) !== -1) {\n                    return i;\n                }\n            }\n            return undefined;\n        };\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, function (u) {\n            if (UnknownRecord.is(u)) {\n                var i = find_1(u[tag_1]);\n                return i !== undefined ? codecs[i].is(u) : false;\n            }\n            return false;\n        }, function (u, c) {\n            return chain(UnknownRecord.validate(u, c), function (r) {\n                var i = find_1(r[tag_1]);\n                if (i === undefined) {\n                    return failure(u, c);\n                }\n                var codec = codecs[i];\n                return codec.validate(r, appendContext(c, String(i), codec, r));\n            });\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                var i = find_1(a[tag_1]);\n                if (i === undefined) {\n                    // https://github.com/gcanti/io-ts/pull/305\n                    throw new Error(\"no codec found to encode value in union codec \" + name);\n                }\n                else {\n                    return codecs[i].encode(a);\n                }\n            }, codecs, tag_1);\n    }\n    else {\n        return new UnionType(name, function (u) { return codecs.some(function (type) { return type.is(u); }); }, function (u, c) {\n            var errors = [];\n            for (var i = 0; i < codecs.length; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    return success(result.right);\n                }\n            }\n            return failures(errors);\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                for (var _i = 0, codecs_1 = codecs; _i < codecs_1.length; _i++) {\n                    var codec = codecs_1[_i];\n                    if (codec.is(a)) {\n                        return codec.encode(a);\n                    }\n                }\n                // https://github.com/gcanti/io-ts/pull/305\n                throw new Error(\"no codec found to encode value in union type \" + name);\n            }, codecs);\n    }\n};\n/**\n * @since 1.0.0\n */\nvar IntersectionType = /** @class */ (function (_super) {\n    __extends(IntersectionType, _super);\n    function IntersectionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'IntersectionType';\n        return _this;\n    }\n    return IntersectionType;\n}(Type));\nexport { IntersectionType };\nvar mergeAll = function (base, us) {\n    var equal = true;\n    var primitive = true;\n    for (var _i = 0, us_1 = us; _i < us_1.length; _i++) {\n        var u = us_1[_i];\n        if (u !== base) {\n            equal = false;\n        }\n        if (UnknownRecord.is(u)) {\n            primitive = false;\n        }\n    }\n    if (equal) {\n        return base;\n    }\n    else if (primitive) {\n        return us[us.length - 1];\n    }\n    var r = {};\n    for (var _a = 0, us_2 = us; _a < us_2.length; _a++) {\n        var u = us_2[_a];\n        for (var k in u) {\n            if (u[k] !== base[k] || !r.hasOwnProperty(k)) {\n                r[k] = u[k];\n            }\n        }\n    }\n    return r;\n};\nexport function intersection(codecs, name) {\n    if (name === void 0) { name = \"(\" + codecs.map(function (type) { return type.name; }).join(' & ') + \")\"; }\n    var len = codecs.length;\n    return new IntersectionType(name, function (u) { return codecs.every(function (type) { return type.is(u); }); }, codecs.length === 0\n        ? success\n        : function (u, c) {\n            var us = [];\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    us.push(result.right);\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(mergeAll(u, us));\n        }, codecs.length === 0\n        ? identity\n        : function (a) {\n            return mergeAll(a, codecs.map(function (codec) { return codec.encode(a); }));\n        }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar TupleType = /** @class */ (function (_super) {\n    __extends(TupleType, _super);\n    function TupleType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'TupleType';\n        return _this;\n    }\n    return TupleType;\n}(Type));\nexport { TupleType };\nexport function tuple(codecs, name) {\n    if (name === void 0) { name = \"[\" + codecs.map(function (type) { return type.name; }).join(', ') + \"]\"; }\n    var len = codecs.length;\n    return new TupleType(name, function (u) { return UnknownArray.is(u) && u.length === len && codecs.every(function (type, i) { return type.is(u[i]); }); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var as = us.length > len ? us.slice(0, len) : us; // strip additional components\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var a = us[i];\n                var type_3 = codecs[i];\n                var result = type_3.validate(a, appendContext(c, String(i), type_3, a));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var va = result.right;\n                    if (va !== a) {\n                        /* istanbul ignore next */\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = va;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, useIdentity(codecs) ? identity : function (a) { return codecs.map(function (type, i) { return type.encode(a[i]); }); }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar ReadonlyType = /** @class */ (function (_super) {\n    __extends(ReadonlyType, _super);\n    function ReadonlyType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyType';\n        return _this;\n    }\n    return ReadonlyType;\n}(Type));\nexport { ReadonlyType };\n/**\n * @since 1.0.0\n */\nexport var readonly = function (codec, name) {\n    if (name === void 0) { name = \"Readonly<\" + codec.name + \">\"; }\n    return new ReadonlyType(name, codec.is, function (u, c) {\n        return map(codec.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, codec.encode === identity ? identity : codec.encode, codec);\n};\n/**\n * @since 1.0.0\n */\nvar ReadonlyArrayType = /** @class */ (function (_super) {\n    __extends(ReadonlyArrayType, _super);\n    function ReadonlyArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ReadonlyArrayType';\n        return _this;\n    }\n    return ReadonlyArrayType;\n}(Type));\nexport { ReadonlyArrayType };\n/**\n * @since 1.0.0\n */\nexport var readonlyArray = function (codec, name) {\n    if (name === void 0) { name = \"ReadonlyArray<\" + codec.name + \">\"; }\n    var arrayType = array(codec);\n    return new ReadonlyArrayType(name, arrayType.is, function (u, c) {\n        return map(arrayType.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, arrayType.encode, codec);\n};\n/**\n * Strips additional properties\n * @since 1.0.0\n */\nexport var strict = function (props, name) {\n    return exact(type(props), name);\n};\n/**\n * @since 1.3.0\n * @deprecated\n */\nvar TaggedUnionType = /** @class */ (function (_super) {\n    __extends(TaggedUnionType, _super);\n    function TaggedUnionType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, codecs, tag) {\n        var _this = _super.call(this, name, is, validate, encode, codecs) /* istanbul ignore next */ // <= workaround for https://github.com/Microsoft/TypeScript/issues/13455\n         || this;\n        _this.tag = tag;\n        return _this;\n    }\n    return TaggedUnionType;\n}(UnionType));\nexport { TaggedUnionType };\n/**\n * Use `union` instead\n *\n * @since 1.3.0\n * @deprecated\n */\nexport var taggedUnion = function (tag, codecs, name\n// tslint:disable-next-line: deprecation\n) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var U = union(codecs, name);\n    // tslint:disable-next-line: deprecation\n    if (U instanceof TaggedUnionType) {\n        return U;\n    }\n    else {\n        console.warn(\"[io-ts] Cannot build a tagged union for \" + name + \", returning a de-optimized union\");\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, U.is, U.validate, U.encode, codecs, tag);\n    }\n};\n/**\n * @since 1.1.0\n */\nvar ExactType = /** @class */ (function (_super) {\n    __extends(ExactType, _super);\n    function ExactType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ExactType';\n        return _this;\n    }\n    return ExactType;\n}(Type));\nexport { ExactType };\nvar getProps = function (codec) {\n    switch (codec._tag) {\n        case 'RefinementType':\n        case 'ReadonlyType':\n            return getProps(codec.type);\n        case 'InterfaceType':\n        case 'StrictType':\n        case 'PartialType':\n            return codec.props;\n        case 'IntersectionType':\n            return codec.types.reduce(function (props, type) { return Object.assign(props, getProps(type)); }, {});\n    }\n};\nvar stripKeys = function (o, props) {\n    var keys = Object.getOwnPropertyNames(o);\n    var shouldStrip = false;\n    var r = {};\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!hasOwnProperty.call(props, key)) {\n            shouldStrip = true;\n        }\n        else {\n            r[key] = o[key];\n        }\n    }\n    return shouldStrip ? r : o;\n};\nvar getExactTypeName = function (codec) {\n    if (isTypeC(codec)) {\n        return \"{| \" + getNameFromProps(codec.props) + \" |}\";\n    }\n    else if (isPartialC(codec)) {\n        return getPartialTypeName(\"{| \" + getNameFromProps(codec.props) + \" |}\");\n    }\n    return \"Exact<\" + codec.name + \">\";\n};\n/**\n * Strips additional properties\n * @since 1.1.0\n */\nexport var exact = function (codec, name) {\n    if (name === void 0) { name = getExactTypeName(codec); }\n    var props = getProps(codec);\n    return new ExactType(name, codec.is, function (u, c) { return chain(UnknownRecord.validate(u, c), function () { return map(codec.validate(u, c), function (a) { return stripKeys(a, props); }); }); }, function (a) { return codec.encode(stripKeys(a, props)); }, codec);\n};\nexport { \n/**\n * @since 1.0.0\n */\nnullType as null };\nexport { \n/**\n * @since 1.0.0\n */\nundefinedType as undefined };\nexport { \n/**\n * Use `UnknownArray` instead\n * @deprecated\n * @since 1.0.0\n */\nUnknownArray as Array };\nexport { \n/**\n * Use `type` instead\n * @deprecated\n * @since 1.0.0\n */\ntype as interface };\nexport { \n/**\n * @since 1.0.0\n */\nvoidType as void };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getValidationError /* istanbul ignore next */ = function (value, context) { return ({\n    value: value,\n    context: context\n}); };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getDefaultContext /* istanbul ignore next */ = function (decoder) { return [\n    { key: '', type: decoder }\n]; };\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar NeverType = /** @class */ (function (_super) {\n    __extends(NeverType, _super);\n    function NeverType() {\n        var _this = _super.call(this, 'never', function (_) { return false; }, function (u, c) { return failure(u, c); }, \n        /* istanbul ignore next */\n        function () {\n            throw new Error('cannot encode never');\n        }) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'NeverType';\n        return _this;\n    }\n    return NeverType;\n}(Type));\nexport { NeverType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var never = new NeverType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar AnyType = /** @class */ (function (_super) {\n    __extends(AnyType, _super);\n    function AnyType() {\n        var _this = _super.call(this, 'any', function (_) { return true; }, success, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'AnyType';\n        return _this;\n    }\n    return AnyType;\n}(Type));\nexport { AnyType };\n/**\n * Use `unknown` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var any = new AnyType();\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var Dictionary = UnknownRecord;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar ObjectType = /** @class */ (function (_super) {\n    __extends(ObjectType, _super);\n    function ObjectType() {\n        var _this = _super.call(this, 'object', function (u) { return u !== null && typeof u === 'object'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'ObjectType';\n        return _this;\n    }\n    return ObjectType;\n}(Type));\nexport { ObjectType };\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var object = new ObjectType();\n/**\n * Use `brand` instead\n * @since 1.0.0\n * @deprecated\n */\nexport function refinement(codec, predicate, name) {\n    if (name === void 0) { name = \"(\" + codec.name + \" | \" + getFunctionName(predicate) + \")\"; }\n    return new RefinementType(name, function (u) { return codec.is(u) && predicate(u); }, function (i, c) { return chain(codec.validate(i, c), function (a) { return (predicate(a) ? success(a) : failure(a, c)); }); }, codec.encode, codec, predicate);\n}\n/**\n * Use `Int` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Integer = refinement(number, Number.isInteger, 'Integer');\n/**\n * Use `record` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var dictionary = record;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar StrictType = /** @class */ (function (_super) {\n    __extends(StrictType, _super);\n    function StrictType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        /**\n         * @since 1.0.0\n         */\n        _this._tag = 'StrictType';\n        return _this;\n    }\n    return StrictType;\n}(Type));\nexport { StrictType };\n/**\n * Drops the codec \"kind\"\n * @since 1.1.0\n * @deprecated\n */\nexport function clean(codec) {\n    return codec;\n}\nexport function alias(codec) {\n    return function () { return codec; };\n}\nvar isNonEmpty = function (as) { return as.length > 0; };\n/**\n * @internal\n */\nexport var emptyTags = {};\nfunction intersect(a, b) {\n    var r = [];\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var v = a_1[_i];\n        if (b.indexOf(v) !== -1) {\n            r.push(v);\n        }\n    }\n    return r;\n}\nfunction mergeTags(a, b) {\n    if (a === emptyTags) {\n        return b;\n    }\n    if (b === emptyTags) {\n        return a;\n    }\n    var r = Object.assign({}, a);\n    for (var k in b) {\n        if (a.hasOwnProperty(k)) {\n            var intersection_1 = intersect(a[k], b[k]);\n            if (isNonEmpty(intersection_1)) {\n                r[k] = intersection_1;\n            }\n            else {\n                r = emptyTags;\n                break;\n            }\n        }\n        else {\n            r[k] = b[k];\n        }\n    }\n    return r;\n}\nfunction intersectTags(a, b) {\n    if (a === emptyTags || b === emptyTags) {\n        return emptyTags;\n    }\n    var r = emptyTags;\n    for (var k in a) {\n        if (b.hasOwnProperty(k)) {\n            var intersection_2 = intersect(a[k], b[k]);\n            if (intersection_2.length === 0) {\n                if (r === emptyTags) {\n                    r = {};\n                }\n                r[k] = a[k].concat(b[k]);\n            }\n        }\n    }\n    return r;\n}\n// tslint:disable-next-line: deprecation\nfunction isAnyC(codec) {\n    return codec._tag === 'AnyType';\n}\nfunction isLiteralC(codec) {\n    return codec._tag === 'LiteralType';\n}\nfunction isKeyofC(codec) {\n    return codec._tag === 'KeyofType';\n}\nfunction isTypeC(codec) {\n    return codec._tag === 'InterfaceType';\n}\nfunction isPartialC(codec) {\n    return codec._tag === 'PartialType';\n}\n// tslint:disable-next-line: deprecation\nfunction isStrictC(codec) {\n    return codec._tag === 'StrictType';\n}\nfunction isExactC(codec) {\n    return codec._tag === 'ExactType';\n}\n// tslint:disable-next-line: deprecation\nfunction isRefinementC(codec) {\n    return codec._tag === 'RefinementType';\n}\nfunction isIntersectionC(codec) {\n    return codec._tag === 'IntersectionType';\n}\nfunction isUnionC(codec) {\n    return codec._tag === 'UnionType';\n}\nfunction isRecursiveC(codec) {\n    return codec._tag === 'RecursiveType';\n}\nvar lazyCodecs = [];\n/**\n * @internal\n */\nexport function getTags(codec) {\n    if (lazyCodecs.indexOf(codec) !== -1) {\n        return emptyTags;\n    }\n    if (isTypeC(codec) || isStrictC(codec)) {\n        var index = emptyTags;\n        // tslint:disable-next-line: forin\n        for (var k in codec.props) {\n            var prop = codec.props[k];\n            if (isLiteralC(prop)) {\n                if (index === emptyTags) {\n                    index = {};\n                }\n                index[k] = [prop.value];\n            }\n        }\n        return index;\n    }\n    else if (isExactC(codec) || isRefinementC(codec)) {\n        return getTags(codec.type);\n    }\n    else if (isIntersectionC(codec)) {\n        return codec.types.reduce(function (tags, codec) { return mergeTags(tags, getTags(codec)); }, emptyTags);\n    }\n    else if (isUnionC(codec)) {\n        return codec.types.slice(1).reduce(function (tags, codec) { return intersectTags(tags, getTags(codec)); }, getTags(codec.types[0]));\n    }\n    else if (isRecursiveC(codec)) {\n        lazyCodecs.push(codec);\n        var tags = getTags(codec.type);\n        lazyCodecs.pop();\n        return tags;\n    }\n    return emptyTags;\n}\n/**\n * @internal\n */\nexport function getIndex(codecs) {\n    var tags = getTags(codecs[0]);\n    var keys = Object.keys(tags);\n    var len = codecs.length;\n    var _loop_1 = function (k) {\n        var all = tags[k].slice();\n        var index = [tags[k]];\n        for (var i = 1; i < len; i++) {\n            var codec = codecs[i];\n            var ctags = getTags(codec);\n            var values = ctags[k];\n            // tslint:disable-next-line: strict-type-predicates\n            if (values === undefined) {\n                return \"continue-keys\";\n            }\n            else {\n                if (values.some(function (v) { return all.indexOf(v) !== -1; })) {\n                    return \"continue-keys\";\n                }\n                else {\n                    all.push.apply(all, values);\n                    index.push(values);\n                }\n            }\n        }\n        return { value: [k, index] };\n    };\n    keys: for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        var state_1 = _loop_1(k);\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n        switch (state_1) {\n            case \"continue-keys\": continue keys;\n        }\n    }\n    return undefined;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This module provides a simuation of Haskell do notation.\n *\n * @since 0.1.0\n */\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar DoClass = /** @class */ (function () {\n    function DoClass(M, result) {\n        this.M = M;\n        this.result = result;\n    }\n    DoClass.prototype.do = function (action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function () { return s; }); }));\n    };\n    DoClass.prototype.doL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function () { return s; }); }));\n    };\n    DoClass.prototype.bind = function (name, action) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(action, function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.bindL = function (name, f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(f(s), function (b) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = b, _a));\n        }); }));\n    };\n    DoClass.prototype.let = function (name, a) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = a, _a));\n        }));\n    };\n    DoClass.prototype.letL = function (name, f) {\n        return new DoClass(this.M, this.M.map(this.result, function (s) {\n            var _a;\n            return Object.assign({}, s, (_a = {}, _a[name] = f(s), _a));\n        }));\n    };\n    DoClass.prototype.sequenceS = function (r) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(Apply_1.sequenceS(_this.M)(r), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.sequenceSL = function (f) {\n        var _this = this;\n        return new DoClass(this.M, this.M.chain(this.result, function (s) { return _this.M.map(Apply_1.sequenceS(_this.M)(f(s)), function (r) { return Object.assign({}, s, r); }); }));\n    };\n    DoClass.prototype.return = function (f) {\n        return this.M.map(this.result, f);\n    };\n    DoClass.prototype.done = function () {\n        return this.result;\n    };\n    return DoClass;\n}());\nvar init = {};\nfunction Do(M) {\n    return new DoClass(M, M.of(init));\n}\nexports.Do = Do;\n","/**\n * @since 2.0.0\n */\nexport function tailRec(a, f) {\n    var v = f(a);\n    while (v._tag === 'Left') {\n        v = f(v.left);\n    }\n    return v.right;\n}\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import { T, Service as F } from \"@matechs/prelude\";\nexport const consoleURI = \"@matechs/console/consoleURI\";\nconst Console_ = F.define({\n    [consoleURI]: {\n        assert: F.fn(),\n        time: F.fn(),\n        clear: F.cn(),\n        info: F.fn(),\n        count: F.fn(),\n        countReset: F.fn(),\n        debug: F.fn(),\n        dir: F.fn(),\n        dirxml: F.fn(),\n        error: F.fn(),\n        group: F.fn(),\n        groupCollapsed: F.fn(),\n        groupEnd: F.cn(),\n        log: F.fn(),\n        table: F.fn(),\n        timeEnd: F.fn(),\n        timeLog: F.fn(),\n        trace: F.fn(),\n        warn: F.fn()\n    }\n});\nexport const Console = F.opaque()(Console_);\nexport const provideConsole = F.implement(Console)({\n    [consoleURI]: {\n        assert: (v, m, ...o) => T.sync(() => console.assert(v, m, ...o)),\n        clear: T.sync(() => console.clear()),\n        count: (l) => T.sync(() => console.count(l)),\n        countReset: (l) => T.sync(() => console.countReset(l)),\n        debug: (m, ...o) => T.sync(() => console.debug(m, ...o)),\n        dir: (ob, op) => T.sync(() => console.dir(ob, op)),\n        dirxml: (...d) => T.sync(() => console.dirxml(...d)),\n        error: (m, ...o) => T.sync(() => console.error(m, ...o)),\n        group: (...l) => T.sync(() => console.group(...l)),\n        groupCollapsed: (...l) => T.sync(() => console.groupCollapsed(...l)),\n        groupEnd: T.sync(() => console.groupEnd()),\n        info: (m, ...o) => T.sync(() => console.info(m, ...o)),\n        log: (m, ...o) => T.sync(() => console.log(m, ...o)),\n        table: (t, p) => T.sync(() => console.table(t, p)),\n        time: (l) => T.sync(() => console.time(l)),\n        timeEnd: (l) => T.sync(() => console.timeEnd(l)),\n        timeLog: (l, ...d) => T.sync(() => console.timeLog(l, ...d)),\n        trace: (m, ...o) => T.sync(() => console.trace(m, ...o)),\n        warn: (m, ...o) => T.sync(() => console.warn(m, ...o))\n    }\n});\nexport const { [consoleURI]: { assert, time, clear, info, count, countReset, debug, dir, dirxml, error, group, groupCollapsed, groupEnd, log, table, timeEnd, timeLog, trace, warn } } = F.access(Console);\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import { array, empty, getEq as getArrayEq, getMonoid } from './Array';\nimport { fromEquals } from './Eq';\nimport { identity } from './function';\nimport { pipeable } from './pipeable';\n/**\n * @since 2.0.0\n */\nexport var URI = 'Tree';\n/**\n * @since 2.0.0\n */\nexport function make(value, forest) {\n    if (forest === void 0) { forest = empty; }\n    return {\n        value: value,\n        forest: forest\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getShow(S) {\n    var show = function (t) {\n        return t.forest === empty || t.forest.length === 0\n            ? \"make(\" + S.show(t.value) + \")\"\n            : \"make(\" + S.show(t.value) + \", [\" + t.forest.map(show).join(', ') + \"])\";\n    };\n    return {\n        show: show\n    };\n}\n/**\n * @since 2.0.0\n */\nexport function getEq(E) {\n    var SA;\n    var R = fromEquals(function (x, y) { return E.equals(x.value, y.value) && SA.equals(x.forest, y.forest); });\n    SA = getArrayEq(R);\n    return R;\n}\nvar draw = function (indentation, forest) {\n    var r = '';\n    var len = forest.length;\n    var tree;\n    for (var i = 0; i < len; i++) {\n        tree = forest[i];\n        var isLast = i === len - 1;\n        r += indentation + (isLast ? '' : '') + ' ' + tree.value;\n        r += draw(indentation + (len > 1 && !isLast ? '  ' : '   '), tree.forest);\n    }\n    return r;\n};\n/**\n * Neat 2-dimensional drawing of a forest\n *\n * @since 2.0.0\n */\nexport function drawForest(forest) {\n    return draw('\\n', forest);\n}\n/**\n * Neat 2-dimensional drawing of a tree\n *\n * @example\n * import { make, drawTree, tree } from 'fp-ts/lib/Tree'\n *\n * const fa = make('a', [\n *   tree.of('b'),\n *   tree.of('c'),\n *   make('d', [tree.of('e'), tree.of('f')])\n * ])\n *\n * assert.strictEqual(drawTree(fa), `a\n *  b\n *  c\n *  d\n *     e\n *     f`)\n *\n *\n * @since 2.0.0\n */\nexport function drawTree(tree) {\n    return tree.value + drawForest(tree.forest);\n}\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nexport function unfoldTree(b, f) {\n    var _a = f(b), a = _a[0], bs = _a[1];\n    return { value: a, forest: unfoldForest(bs, f) };\n}\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nexport function unfoldForest(bs, f) {\n    return bs.map(function (b) { return unfoldTree(b, f); });\n}\nexport function unfoldTreeM(M) {\n    var unfoldForestMM = unfoldForestM(M);\n    return function (b, f) { return M.chain(f(b), function (_a) {\n        var a = _a[0], bs = _a[1];\n        return M.chain(unfoldForestMM(bs, f), function (ts) { return M.of({ value: a, forest: ts }); });\n    }); };\n}\nexport function unfoldForestM(M) {\n    var traverseM = array.traverse(M);\n    return function (bs, f) { return traverseM(bs, function (b) { return unfoldTreeM(M)(b, f); }); };\n}\n/**\n * @since 2.0.0\n */\nexport function elem(E) {\n    var go = function (a, fa) {\n        if (E.equals(a, fa.value)) {\n            return true;\n        }\n        return fa.forest.some(function (tree) { return go(a, tree); });\n    };\n    return go;\n}\n/**\n * @since 2.0.0\n */\nexport var tree = {\n    URI: URI,\n    map: function (fa, f) { return ({\n        value: f(fa.value),\n        forest: fa.forest.map(function (t) { return tree.map(t, f); })\n    }); },\n    of: function (a) { return ({\n        value: a,\n        forest: empty\n    }); },\n    ap: function (fab, fa) { return tree.chain(fab, function (f) { return tree.map(fa, f); }); },\n    chain: function (fa, f) {\n        var _a = f(fa.value), value = _a.value, forest = _a.forest;\n        var concat = getMonoid().concat;\n        return {\n            value: value,\n            forest: concat(forest, fa.forest.map(function (t) { return tree.chain(t, f); }))\n        };\n    },\n    reduce: function (fa, b, f) {\n        var r = f(b, fa.value);\n        var len = fa.forest.length;\n        for (var i = 0; i < len; i++) {\n            r = tree.reduce(fa.forest[i], r, f);\n        }\n        return r;\n    },\n    foldMap: function (M) { return function (fa, f) { return tree.reduce(fa, M.empty, function (acc, a) { return M.concat(acc, f(a)); }); }; },\n    reduceRight: function (fa, b, f) {\n        var r = b;\n        var len = fa.forest.length;\n        for (var i = len - 1; i >= 0; i--) {\n            r = tree.reduceRight(fa.forest[i], r, f);\n        }\n        return f(fa.value, r);\n    },\n    traverse: function (F) {\n        var traverseF = array.traverse(F);\n        var r = function (ta, f) {\n            return F.ap(F.map(f(ta.value), function (value) { return function (forest) { return ({\n                value: value,\n                forest: forest\n            }); }; }), traverseF(ta.forest, function (t) { return r(t, f); }));\n        };\n        return r;\n    },\n    sequence: function (F) {\n        var traverseF = tree.traverse(F);\n        return function (ta) { return traverseF(ta, identity); };\n    },\n    extract: function (wa) { return wa.value; },\n    extend: function (wa, f) { return ({\n        value: f(wa),\n        forest: wa.forest.map(function (t) { return tree.extend(t, f); })\n    }); }\n};\nvar _a = pipeable(tree), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexport { \n/**\n * @since 2.0.0\n */\nap, \n/**\n * @since 2.0.0\n */\napFirst, \n/**\n * @since 2.0.0\n */\napSecond, \n/**\n * @since 2.0.0\n */\nchain, \n/**\n * @since 2.0.0\n */\nchainFirst, \n/**\n * @since 2.0.0\n */\nduplicate, \n/**\n * @since 2.0.0\n */\nextend, \n/**\n * @since 2.0.0\n */\nflatten, \n/**\n * @since 2.0.0\n */\nfoldMap, \n/**\n * @since 2.0.0\n */\nmap, \n/**\n * @since 2.0.0\n */\nreduce, \n/**\n * @since 2.0.0\n */\nreduceRight };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Eq';\n/**\n * @since 2.0.0\n */\nfunction fromEquals(equals) {\n    return {\n        equals: function (x, y) { return x === y || equals(x, y); }\n    };\n}\nexports.fromEquals = fromEquals;\n/**\n * @since 2.5.0\n */\nexports.eqStrict = {\n    // tslint:disable-next-line: deprecation\n    equals: strictEqual\n};\n/**\n * Use `eqStrict` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nfunction strictEqual(a, b) {\n    return a === b;\n}\nexports.strictEqual = strictEqual;\n/**\n * @since 2.0.0\n */\nexports.eqString = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nexports.eqNumber = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nexports.eqBoolean = exports.eqStrict;\n/**\n * @since 2.0.0\n */\nfunction getStructEq(eqs) {\n    return fromEquals(function (x, y) {\n        for (var k in eqs) {\n            if (!eqs[k].equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    });\n}\nexports.getStructEq = getStructEq;\n/**\n * Given a tuple of `Eq`s returns a `Eq` for the tuple\n *\n * @example\n * import { getTupleEq, eqString, eqNumber, eqBoolean } from 'fp-ts/lib/Eq'\n *\n * const E = getTupleEq(eqString, eqNumber, eqBoolean)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, true]), true)\n * assert.strictEqual(E.equals(['a', 1, true], ['b', 1, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 2, true]), false)\n * assert.strictEqual(E.equals(['a', 1, true], ['a', 1, false]), false)\n *\n * @since 2.0.0\n */\nfunction getTupleEq() {\n    var eqs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        eqs[_i] = arguments[_i];\n    }\n    return fromEquals(function (x, y) { return eqs.every(function (E, i) { return E.equals(x[i], y[i]); }); });\n}\nexports.getTupleEq = getTupleEq;\n/**\n * @since 2.0.0\n */\nexports.eq = {\n    URI: exports.URI,\n    contramap: function (fa, f) { return fromEquals(function (x, y) { return fa.equals(f(x), f(y)); }); }\n};\nvar contramap = pipeable_1.pipeable(exports.eq).contramap;\nexports.contramap = contramap;\n/**\n * @since 2.0.0\n */\nexports.eqDate = exports.eq.contramap(exports.eqNumber, function (date) { return date.valueOf(); });\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nfunction done(v) {\n    return {\n        _tag: \"Done\",\n        value: v\n    };\n}\nexports.done = done;\nfunction raise(e) {\n    return {\n        _tag: \"Raise\",\n        error: e\n    };\n}\nexports.raise = raise;\nfunction abort(a) {\n    return {\n        _tag: \"Abort\",\n        abortedWith: a\n    };\n}\nexports.abort = abort;\nexports.interrupt = {\n    _tag: \"Interrupt\"\n};\nexports.interruptWithError = function (err) {\n    return err\n        ? {\n            _tag: \"Interrupt\",\n            error: err\n        }\n        : {\n            _tag: \"Interrupt\"\n        };\n};\nexports.interruptWithErrorAndOthers = function (err, others) {\n    return others\n        ? {\n            _tag: \"Interrupt\",\n            error: err,\n            others: others\n        }\n        : {\n            _tag: \"Interrupt\",\n            error: err\n        };\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ref.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\n/**\n * Creates an IO that will allocate a Ref.\n * Curried form of makeRef_ to allow for inference on the initial type\n */\nexports.makeRef = function (initial) {\n    return T.sync(function () {\n        var value = initial;\n        var get = T.sync(function () { return value; });\n        var set = function (a) {\n            return T.sync(function () {\n                var prev = value;\n                value = a;\n                return prev;\n            });\n        };\n        var update = function (f) { return T.sync(function () { return (value = f(value)); }); };\n        var modify = function (f) {\n            return T.sync(function () {\n                var _a = f(value), b = _a[0], a = _a[1];\n                value = a;\n                return b;\n            });\n        };\n        return {\n            get: get,\n            set: set,\n            update: update,\n            modify: modify\n        };\n    });\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/deferred.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar completable_1 = require(\"./original/support/completable\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar DeferredImpl = /** @class */ (function () {\n    function DeferredImpl(r) {\n        var _this = this;\n        this.r = r;\n        this.c = new completable_1.CompletableImpl();\n        this.wait = T.flatten(T.asyncTotal(function (callback) { return _this.c.listen(callback); }));\n        this.interrupt = T.sync(function () {\n            _this.c.complete(T.raiseInterrupt);\n        });\n    }\n    DeferredImpl.prototype.done = function (a) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.pure(a));\n        });\n    };\n    DeferredImpl.prototype.error = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raiseError(e));\n        });\n    };\n    DeferredImpl.prototype.abort = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raiseAbort(e));\n        });\n    };\n    DeferredImpl.prototype.cause = function (e) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.raised(e));\n        });\n    };\n    DeferredImpl.prototype.complete = function (exit) {\n        var _this = this;\n        return T.sync(function () {\n            _this.c.complete(T.completed(exit));\n        });\n    };\n    DeferredImpl.prototype.from = function (source) {\n        var _this = this;\n        var completed = effect_1.effect.chain(T.result(T.provide(this.r)(source)), function (e) {\n            return _this.complete(e);\n        });\n        return T.effect.onInterrupted(completed, this.interrupt);\n    };\n    return DeferredImpl;\n}());\nexports.DeferredImpl = DeferredImpl;\nfunction makeDeferred() {\n    return T.access(function (r) { return new DeferredImpl(r); });\n}\nexports.makeDeferred = makeDeferred;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar function_1 = require(\"./function\");\nfunction curried(f, n, acc) {\n    return function (x) {\n        var combined = acc.concat([x]);\n        return n === 0 ? f.apply(null, combined) : curried(f, n - 1, combined);\n    };\n}\nvar tupleConstructors = {};\nfunction getTupleConstructor(len) {\n    if (!tupleConstructors.hasOwnProperty(len)) {\n        tupleConstructors[len] = curried(function_1.tuple, len - 1, []);\n    }\n    return tupleConstructors[len];\n}\nfunction sequenceT(F) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var len = args.length;\n        var f = getTupleConstructor(len);\n        var fas = F.map(args[0], f);\n        for (var i = 1; i < len; i++) {\n            fas = F.ap(fas, args[i]);\n        }\n        return fas;\n    };\n}\nexports.sequenceT = sequenceT;\nfunction getRecordConstructor(keys) {\n    var len = keys.length;\n    return curried(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var r = {};\n        for (var i = 0; i < len; i++) {\n            r[keys[i]] = args[i];\n        }\n        return r;\n    }, len - 1, []);\n}\nfunction sequenceS(F) {\n    return function (r) {\n        var keys = Object.keys(r);\n        var len = keys.length;\n        var f = getRecordConstructor(keys);\n        var fr = F.map(r[keys[0]], f);\n        for (var i = 1; i < len; i++) {\n            fr = F.ap(fr, r[keys[i]]);\n        }\n        return fr;\n    };\n}\nexports.sequenceS = sequenceS;\n/* tslint:enable:readonly-array */\n","/**\n * @since 2.0.0\n */\nexport function sign(n) {\n    return n <= -1 ? -1 : n >= 1 ? 1 : 0;\n}\n/**\n * @since 2.0.0\n */\nexport var eqOrdering = {\n    equals: function (x, y) { return x === y; }\n};\n/**\n * Use `monoidOrdering` instead\n * @since 2.0.0\n * @deprecated\n */\nexport var semigroupOrdering = {\n    concat: function (x, y) { return (x !== 0 ? x : y); }\n};\n/**\n * @since 2.4.0\n */\nexport var monoidOrdering = {\n    // tslint:disable-next-line: deprecation\n    concat: semigroupOrdering.concat,\n    empty: 0\n};\n/**\n * @since 2.0.0\n */\nexport function invert(O) {\n    switch (O) {\n        case -1:\n            return 1;\n        case 1:\n            return -1;\n        default:\n            return 0;\n    }\n}\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","\"use strict\";\n/**\n * Represents a value of one of two possible types (a disjoint union).\n *\n * An instance of `Either` is either an instance of `Left` or `Right`.\n *\n * A common use of `Either` is as an alternative to `Option` for dealing with possible missing values. In this usage,\n * `None` is replaced with a `Left` which can contain useful information. `Right` takes the place of `Some`. Convention\n * dictates that `Left` is used for failure and `Right` is used for success.\n *\n * For example, you could use `Either<string, number>` to detect whether a received input is a `string` or a `number`.\n *\n * ```ts\n * import { Either, left, right } from 'fp-ts/lib/Either'\n *\n * function parse(input: string): Either<Error, number> {\n *   const n = parseInt(input, 10)\n *   return isNaN(n) ? left(new Error('not a number')) : right(n)\n * }\n * ```\n *\n * `Either` is right-biased, which means that `Right` is assumed to be the default case to operate on. If it is `Left`,\n * operations like `map`, `chain`, ... return the `Left` value unchanged:\n *\n * ```ts\n * import { map, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * pipe(right(12), map(double)) // right(24)\n * pipe(left(23), map(double))  // left(23)\n * ```\n *\n * @since 2.0.0\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ChainRec_1 = require(\"./ChainRec\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Either';\n/**\n * Constructs a new `Either` holding a `Left` value. This usually represents a failure, due to the right-bias of this\n * structure\n *\n * @since 2.0.0\n */\nfunction left(e) {\n    return { _tag: 'Left', left: e };\n}\nexports.left = left;\n/**\n * Constructs a new `Either` holding a `Right` value. This usually represents a successful value due to the right bias\n * of this structure\n *\n * @since 2.0.0\n */\nfunction right(a) {\n    return { _tag: 'Right', right: a };\n}\nexports.right = right;\n/**\n * Takes a default and a nullable value, if the value is not nully, turn it into a `Right`, if the value is nully use\n * the provided default as a `Left`\n *\n * @example\n * import { fromNullable, left, right } from 'fp-ts/lib/Either'\n *\n * const parse = fromNullable('nully')\n *\n * assert.deepStrictEqual(parse(1), right(1))\n * assert.deepStrictEqual(parse(null), left('nully'))\n *\n * @since 2.0.0\n */\nfunction fromNullable(e) {\n    return function (a) { return (a == null ? left(e) : right(a)); };\n}\nexports.fromNullable = fromNullable;\n/**\n * Default value for the `onError` argument of `tryCatch`\n *\n * @since 2.0.0\n */\nfunction toError(e) {\n    return e instanceof Error ? e : new Error(String(e));\n}\nexports.toError = toError;\n/**\n * Constructs a new `Either` from a function that might throw\n *\n * @example\n * import { Either, left, right, tryCatch } from 'fp-ts/lib/Either'\n *\n * const unsafeHead = <A>(as: Array<A>): A => {\n *   if (as.length > 0) {\n *     return as[0]\n *   } else {\n *     throw new Error('empty array')\n *   }\n * }\n *\n * const head = <A>(as: Array<A>): Either<Error, A> => {\n *   return tryCatch(() => unsafeHead(as), e => (e instanceof Error ? e : new Error('unknown error')))\n * }\n *\n * assert.deepStrictEqual(head([]), left(new Error('empty array')))\n * assert.deepStrictEqual(head([1, 2, 3]), right(1))\n *\n * @since 2.0.0\n */\nfunction tryCatch(f, onError) {\n    try {\n        return right(f());\n    }\n    catch (e) {\n        return left(onError(e));\n    }\n}\nexports.tryCatch = tryCatch;\n/**\n * Takes two functions and an `Either` value, if the value is a `Left` the inner value is applied to the first function,\n * if the value is a `Right` the inner value is applied to the second function.\n *\n * @example\n * import { fold, left, right } from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * function onLeft(errors: Array<string>): string {\n *   return `Errors: ${errors.join(', ')}`\n * }\n *\n * function onRight(value: number): string {\n *   return `Ok: ${value}`\n * }\n *\n * assert.strictEqual(\n *   pipe(\n *     right(1),\n *     fold(onLeft, onRight)\n *   ),\n *   'Ok: 1'\n * )\n * assert.strictEqual(\n *   pipe(\n *     left(['error 1', 'error 2']),\n *     fold(onLeft, onRight)\n *   ),\n *   'Errors: error 1, error 2'\n * )\n *\n * @since 2.0.0\n */\nfunction fold(onLeft, onRight) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : onRight(ma.right)); };\n}\nexports.fold = fold;\n/**\n * @since 2.0.0\n */\nfunction getShow(SE, SA) {\n    return {\n        show: function (ma) { return (isLeft(ma) ? \"left(\" + SE.show(ma.left) + \")\" : \"right(\" + SA.show(ma.right) + \")\"); }\n    };\n}\nexports.getShow = getShow;\n/**\n * @since 2.0.0\n */\nfunction getEq(EL, EA) {\n    return {\n        equals: function (x, y) {\n            return x === y || (isLeft(x) ? isLeft(y) && EL.equals(x.left, y.left) : isRight(y) && EA.equals(x.right, y.right));\n        }\n    };\n}\nexports.getEq = getEq;\n/**\n * Semigroup returning the left-most non-`Left` value. If both operands are `Right`s then the inner values are\n * appended using the provided `Semigroup`\n *\n * @example\n * import { getSemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getSemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), right(2))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), right(1))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nfunction getSemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(y) ? x : isLeft(x) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\nexports.getSemigroup = getSemigroup;\n/**\n * `Apply` semigroup\n *\n * @example\n * import { getApplySemigroup, left, right } from 'fp-ts/lib/Either'\n * import { semigroupSum } from 'fp-ts/lib/Semigroup'\n *\n * const S = getApplySemigroup<string, number>(semigroupSum)\n * assert.deepStrictEqual(S.concat(left('a'), left('b')), left('a'))\n * assert.deepStrictEqual(S.concat(left('a'), right(2)), left('a'))\n * assert.deepStrictEqual(S.concat(right(1), left('b')), left('b'))\n * assert.deepStrictEqual(S.concat(right(1), right(2)), right(3))\n *\n *\n * @since 2.0.0\n */\nfunction getApplySemigroup(S) {\n    return {\n        concat: function (x, y) { return (isLeft(x) ? x : isLeft(y) ? y : right(S.concat(x.right, y.right))); }\n    };\n}\nexports.getApplySemigroup = getApplySemigroup;\n/**\n * @since 2.0.0\n */\nfunction getApplyMonoid(M) {\n    return __assign(__assign({}, getApplySemigroup(M)), { empty: right(M.empty) });\n}\nexports.getApplyMonoid = getApplyMonoid;\n/**\n * Returns `true` if the either is an instance of `Left`, `false` otherwise\n *\n * @since 2.0.0\n */\nfunction isLeft(ma) {\n    switch (ma._tag) {\n        case 'Left':\n            return true;\n        case 'Right':\n            return false;\n    }\n}\nexports.isLeft = isLeft;\n/**\n * Returns `true` if the either is an instance of `Right`, `false` otherwise\n *\n * @since 2.0.0\n */\nfunction isRight(ma) {\n    return isLeft(ma) ? false : true;\n}\nexports.isRight = isRight;\n/**\n * @since 2.0.0\n */\nfunction swap(ma) {\n    return isLeft(ma) ? right(ma.left) : left(ma.right);\n}\nexports.swap = swap;\n/**\n * @since 2.0.0\n */\nfunction orElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma); };\n}\nexports.orElse = orElse;\n/**\n * @since 2.0.0\n */\nfunction getOrElse(onLeft) {\n    return function (ma) { return (isLeft(ma) ? onLeft(ma.left) : ma.right); };\n}\nexports.getOrElse = getOrElse;\n/**\n * @since 2.0.0\n */\nfunction elem(E) {\n    return function (a, ma) { return (isLeft(ma) ? false : E.equals(a, ma.right)); };\n}\nexports.elem = elem;\n/**\n * Returns `false` if `Left` or returns the result of the application of the given predicate to the `Right` value.\n *\n * @example\n * import { exists, left, right } from 'fp-ts/lib/Either'\n *\n * const gt2 = exists((n: number) => n > 2)\n *\n * assert.strictEqual(gt2(left('a')), false)\n * assert.strictEqual(gt2(right(1)), false)\n * assert.strictEqual(gt2(right(3)), true)\n *\n * @since 2.0.0\n */\nfunction exists(predicate) {\n    return function (ma) { return (isLeft(ma) ? false : predicate(ma.right)); };\n}\nexports.exists = exists;\n/**\n * Converts a JavaScript Object Notation (JSON) string into an object.\n *\n * @example\n * import { parseJSON, toError, right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(parseJSON('{\"a\":1}', toError), right({ a: 1 }))\n * assert.deepStrictEqual(parseJSON('{\"a\":}', toError), left(new SyntaxError('Unexpected token } in JSON at position 5')))\n *\n * @since 2.0.0\n */\nfunction parseJSON(s, onError) {\n    return tryCatch(function () { return JSON.parse(s); }, onError);\n}\nexports.parseJSON = parseJSON;\n/**\n * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\n *\n * @example\n * import * as E from 'fp-ts/lib/Either'\n * import { pipe } from 'fp-ts/lib/pipeable'\n *\n * assert.deepStrictEqual(E.stringifyJSON({ a: 1 }, E.toError), E.right('{\"a\":1}'))\n * const circular: any = { ref: null }\n * circular.ref = circular\n * assert.deepStrictEqual(\n *   pipe(\n *     E.stringifyJSON(circular, E.toError),\n *     E.mapLeft(e => e.message.includes('Converting circular structure to JSON'))\n *   ),\n *   E.left(true)\n * )\n *\n * @since 2.0.0\n */\nfunction stringifyJSON(u, onError) {\n    return tryCatch(function () { return JSON.stringify(u); }, onError);\n}\nexports.stringifyJSON = stringifyJSON;\n/**\n * Builds `Witherable` instance for `Either` given `Monoid` for the left side\n *\n * @since 2.0.0\n */\nfunction getWitherable(M) {\n    var empty = left(M.empty);\n    var compact = function (ma) {\n        return isLeft(ma) ? ma : ma.right._tag === 'None' ? left(M.empty) : right(ma.right.value);\n    };\n    var separate = function (ma) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : isLeft(ma.right)\n                ? { left: right(ma.right.left), right: empty }\n                : { left: empty, right: right(ma.right.right) };\n    };\n    var partitionMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return { left: ma, right: ma };\n        }\n        var e = f(ma.right);\n        return isLeft(e) ? { left: right(e.left), right: empty } : { left: empty, right: right(e.right) };\n    };\n    var partition = function (ma, p) {\n        return isLeft(ma)\n            ? { left: ma, right: ma }\n            : p(ma.right)\n                ? { left: empty, right: right(ma.right) }\n                : { left: right(ma.right), right: empty };\n    };\n    var filterMap = function (ma, f) {\n        if (isLeft(ma)) {\n            return ma;\n        }\n        var ob = f(ma.right);\n        return ob._tag === 'None' ? left(M.empty) : right(ob.value);\n    };\n    var filter = function (ma, predicate) {\n        return isLeft(ma) ? ma : predicate(ma.right) ? ma : left(M.empty);\n    };\n    var wither = function (F) {\n        var traverseF = exports.either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), compact); };\n    };\n    var wilt = function (F) {\n        var traverseF = exports.either.traverse(F);\n        return function (ma, f) { return F.map(traverseF(ma, f), separate); };\n    };\n    return {\n        URI: exports.URI,\n        _E: undefined,\n        map: exports.either.map,\n        compact: compact,\n        separate: separate,\n        filter: filter,\n        filterMap: filterMap,\n        partition: partition,\n        partitionMap: partitionMap,\n        traverse: exports.either.traverse,\n        sequence: exports.either.sequence,\n        reduce: exports.either.reduce,\n        foldMap: exports.either.foldMap,\n        reduceRight: exports.either.reduceRight,\n        wither: wither,\n        wilt: wilt\n    };\n}\nexports.getWitherable = getWitherable;\n/**\n * @since 2.0.0\n */\nfunction getValidation(S) {\n    return __assign(__assign({}, exports.either), { _E: undefined, ap: function (mab, ma) {\n            return isLeft(mab)\n                ? isLeft(ma)\n                    ? left(S.concat(mab.left, ma.left))\n                    : mab\n                : isLeft(ma)\n                    ? ma\n                    : right(mab.right(ma.right));\n        }, alt: function (fx, f) {\n            if (isRight(fx)) {\n                return fx;\n            }\n            var fy = f();\n            return isLeft(fy) ? left(S.concat(fx.left, fy.left)) : fy;\n        } });\n}\nexports.getValidation = getValidation;\n/**\n * @since 2.0.0\n */\nfunction getValidationSemigroup(SE, SA) {\n    return {\n        concat: function (fx, fy) {\n            return isLeft(fx)\n                ? isLeft(fy)\n                    ? left(SE.concat(fx.left, fy.left))\n                    : fx\n                : isLeft(fy)\n                    ? fy\n                    : right(SA.concat(fx.right, fy.right));\n        }\n    };\n}\nexports.getValidationSemigroup = getValidationSemigroup;\n/**\n * @since 2.0.0\n */\nfunction getValidationMonoid(SE, SA) {\n    return {\n        concat: getValidationSemigroup(SE, SA).concat,\n        empty: right(SA.empty)\n    };\n}\nexports.getValidationMonoid = getValidationMonoid;\n/**\n * @since 2.0.0\n */\nexports.either = {\n    URI: exports.URI,\n    map: function (ma, f) { return (isLeft(ma) ? ma : right(f(ma.right))); },\n    of: right,\n    ap: function (mab, ma) { return (isLeft(mab) ? mab : isLeft(ma) ? ma : right(mab.right(ma.right))); },\n    chain: function (ma, f) { return (isLeft(ma) ? ma : f(ma.right)); },\n    reduce: function (fa, b, f) { return (isLeft(fa) ? b : f(b, fa.right)); },\n    foldMap: function (M) { return function (fa, f) { return (isLeft(fa) ? M.empty : f(fa.right)); }; },\n    reduceRight: function (fa, b, f) { return (isLeft(fa) ? b : f(fa.right, b)); },\n    traverse: function (F) { return function (ma, f) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(f(ma.right), right);\n    }; },\n    sequence: function (F) { return function (ma) {\n        return isLeft(ma) ? F.of(left(ma.left)) : F.map(ma.right, right);\n    }; },\n    bimap: function (fea, f, g) { return (isLeft(fea) ? left(f(fea.left)) : right(g(fea.right))); },\n    mapLeft: function (fea, f) { return (isLeft(fea) ? left(f(fea.left)) : fea); },\n    alt: function (fx, fy) { return (isLeft(fx) ? fy() : fx); },\n    extend: function (wa, f) { return (isLeft(wa) ? wa : right(f(wa))); },\n    chainRec: function (a, f) {\n        return ChainRec_1.tailRec(f(a), function (e) {\n            return isLeft(e) ? right(left(e.left)) : isLeft(e.right) ? left(f(e.right.left)) : right(right(e.right.right));\n        });\n    },\n    throwError: left\n};\nvar _a = pipeable_1.pipeable(exports.either), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, bimap = _a.bimap, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, mapLeft = _a.mapLeft, reduce = _a.reduce, reduceRight = _a.reduceRight, fromOption = _a.fromOption, fromPredicate = _a.fromPredicate, filterOrElse = _a.filterOrElse;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.bimap = bimap;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.mapLeft = mapLeft;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.fromOption = fromOption;\nexports.fromPredicate = fromPredicate;\nexports.filterOrElse = filterOrElse;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar T = __importStar(require(\"./effect\"));\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar Ar = __importStar(require(\"fp-ts/lib/Array\"));\nvar Op = __importStar(require(\"fp-ts/lib/Option\"));\nvar Ei = __importStar(require(\"fp-ts/lib/Either\"));\nvar TR = __importStar(require(\"fp-ts/lib/Tree\"));\nvar RE = __importStar(require(\"fp-ts/lib/Record\"));\nvar ManagedTag;\n(function (ManagedTag) {\n    ManagedTag[ManagedTag[\"Pure\"] = 0] = \"Pure\";\n    ManagedTag[ManagedTag[\"Encase\"] = 1] = \"Encase\";\n    ManagedTag[ManagedTag[\"Bracket\"] = 2] = \"Bracket\";\n    ManagedTag[ManagedTag[\"Suspended\"] = 3] = \"Suspended\";\n    ManagedTag[ManagedTag[\"Chain\"] = 4] = \"Chain\";\n    ManagedTag[ManagedTag[\"BracketExit\"] = 5] = \"BracketExit\";\n})(ManagedTag = exports.ManagedTag || (exports.ManagedTag = {}));\nvar toM = function (_) { return _; };\nvar fromM = function (_) { return _; };\n/**\n * Lift a pure value into a resource\n * @param value\n */\nfunction pure(value) {\n    return toM(function () { return ({\n        _tag: ManagedTag.Pure,\n        value: value\n    }); });\n}\nexports.pure = pure;\n/**\n * Create a Resource by wrapping an IO producing a value that does not need to be disposed\n *\n * @param res\n * @param f\n */\nfunction encaseEffect(rio) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Encase,\n        acquire: T.provide(r)(rio)\n    }); });\n}\nexports.encaseEffect = encaseEffect;\n/**\n * Create a resource from an acquisition and release function\n * @param acquire\n * @param release\n */\nfunction bracket(acquire, release) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Bracket,\n        acquire: T.provide(r)(acquire),\n        release: function (a) { return T.provide(r)(release(a)); }\n    }); });\n}\nexports.bracket = bracket;\nfunction bracketExit(acquire, release) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.BracketExit,\n        acquire: T.provide(r)(acquire),\n        release: function (a, e) { return T.provide(r)(release(a, e)); }\n    }); });\n}\nexports.bracketExit = bracketExit;\n/**\n * Lift an IO of a Resource into a resource\n * @param suspended\n */\nfunction suspend(suspended) {\n    return toM(function (r) {\n        return ({\n            _tag: ManagedTag.Suspended,\n            suspended: T.effect.map(T.provide(r)(suspended), function (m) { return function (_) { return fromM(m)(r); }; })\n        });\n    });\n}\nexports.suspend = suspend;\n/**\n * Compose dependent resourcess.\n *\n * The scope of left will enclose the scope of the resource produced by bind\n * @param left\n * @param bind\n */\nfunction chain_(left, bind) {\n    return toM(function (r) { return ({\n        _tag: ManagedTag.Chain,\n        left: provideAll(r)(left),\n        bind: function (l) { return provideAll(r)(bind(l)); }\n    }); });\n}\n/**\n * Curried form of chain\n * @param bind\n */\nfunction chain(bind) {\n    return function (left) { return chain_(left, bind); };\n}\nexports.chain = chain;\n/**\n * Map a resource\n * @param res\n * @param f\n */\nfunction map_(res, f) {\n    return chain_(res, function (r) { return pure(f(r)); });\n}\n/**\n * Curried form of map\n * @param f\n */\nfunction map(f) {\n    return function (res) { return map_(res, f); };\n}\nexports.map = map;\n/**\n * Zip two resources together with the given function.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n * @param f\n */\nfunction zipWith(resa, resb, f) {\n    return chain_(resa, function (a) { return map_(resb, function (b) { return f(a, b); }); });\n}\nexports.zipWith = zipWith;\n/**\n * Zip two resources together as a tuple.\n *\n * The scope of resa will enclose the scope of resb\n * @param resa\n * @param resb\n */\nfunction zip(resa, resb) {\n    return zipWith(resa, resb, function (a, b) { return [a, b]; });\n}\nexports.zip = zip;\n/**\n * Apply the function produced by resfab to the value produced by resa to produce a new resource.\n * @param resa\n * @param resfab\n */\nfunction ap(resa, resfab) {\n    return zipWith(resa, resfab, function (a, f) { return f(a); });\n}\nexports.ap = ap;\n/**\n * Flipped version of ap\n * @param resfab\n * @param resa\n */\nfunction ap_(resfab, resa) {\n    return zipWith(resfab, resa, function (f, a) { return f(a); });\n}\n/**\n * Map a resource to a static value\n *\n * This creates a resource of the provided constant b where the produced A has the same lifetime internally\n * @param fa\n * @param b\n */\nfunction as(fa, b) {\n    return map_(fa, fp_ts_1[\"function\"].constant(b));\n}\nexports.as = as;\n/**\n * Curried form of as\n * @param b\n */\nfunction to(b) {\n    return function (fa) { return as(fa, b); };\n}\nexports.to = to;\n/**\n * Construct a new 'hidden' resource using the produced A with a nested lifetime\n * Useful for performing initialization and cleanup that clients don't need to see\n * @param left\n * @param bind\n */\nfunction chainTap(left, bind) {\n    return chain_(left, function (a) { return as(bind(a), a); });\n}\nexports.chainTap = chainTap;\n/**\n * Curried form of chainTap\n * @param bind\n */\nfunction chainTapWith(bind) {\n    return function (inner) { return chainTap(inner, bind); };\n}\nexports.chainTapWith = chainTapWith;\n/**\n * Curried data last form of use\n * @param f\n */\nfunction consume(f) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return function (r) { return use(r, f); };\n}\nexports.consume = consume;\n/**\n * Create a Resource from the fiber of an IO.\n * The acquisition of this resource corresponds to forking rio into a fiber.\n * The destruction of the resource is interrupting said fiber.\n * @param rio\n */\nfunction fiber(rio) {\n    return bracket(T.fork(rio), function (fiber) { return fiber.interrupt; });\n}\nexports.fiber = fiber;\n/**\n * Use a resource to produce a program that can be run.s\n * @param res\n * @param f\n */\nfunction use(res, f) {\n    return T.accessM(function (r) {\n        var c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return f(c.value);\n            case ManagedTag.Encase:\n                return T.effect.chain(c.acquire, f);\n            case ManagedTag.Bracket:\n                return T.bracket(c.acquire, c.release, f);\n            case ManagedTag.BracketExit:\n                return T.bracketExit(c.acquire, function (a, e) { return c.release(a, e); }, f);\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, consume(f));\n            case ManagedTag.Chain:\n                return use(c.left, function (a) { return use(c.bind(a), f); });\n        }\n    });\n}\nexports.use = use;\n/**\n * Create an IO action that will produce the resource for this managed along with its finalizer\n * action seperately.\n *\n * If an error occurs during allocation then any allocated resources should be cleaned up, but once the\n * Leak object is produced it is the callers responsibility to ensure release is invoked.\n * @param res\n */\nfunction allocate(res) {\n    return T.accessM(function (r) {\n        var c = fromM(res)(r);\n        switch (c._tag) {\n            case ManagedTag.Pure:\n                return T.pure({ a: c.value, release: T.unit });\n            case ManagedTag.Encase:\n                return T.effect.map(c.acquire, function (a) { return ({ a: a, release: T.unit }); });\n            case ManagedTag.Bracket:\n                return T.effect.map(c.acquire, function (a) { return ({ a: a, release: c.release(a) }); });\n            case ManagedTag.BracketExit:\n                // best effort, because we cannot know what the exit status here\n                return T.effect.map(c.acquire, function (a) { return ({\n                    a: a,\n                    release: c.release(a, exit_1.done(undefined))\n                }); });\n            case ManagedTag.Suspended:\n                return T.effect.chain(c.suspended, allocate);\n            case ManagedTag.Chain:\n                return T.bracketExit(allocate(c.left), function (leak, exit) { return (exit._tag === \"Done\" ? T.unit : leak.release); }, function (leak) {\n                    return T.effect.map(allocate(c.bind(leak.a)), \n                    // Combine the finalizer actions of the outer and inner resource\n                    function (innerLeak) { return ({\n                        a: innerLeak.a,\n                        release: T.effect.onComplete(innerLeak.release, leak.release)\n                    }); });\n                });\n        }\n    });\n}\nexports.allocate = allocate;\n/**\n * Use a resource to provide part of the environment to an effect\n * @param man\n * @param ma\n */\nfunction provide(man, inverted) {\n    if (inverted === void 0) { inverted = \"regular\"; }\n    return function (ma) { return use(man, function (r) { return T.provide(r, inverted)(ma); }); };\n}\nexports.provide = provide;\nexports.URI = \"matechs/Managed\";\nexports.managed = {\n    URI: exports.URI,\n    of: pure,\n    map: map_,\n    ap: ap_,\n    chain: chain_\n};\nfunction getSemigroup(Semigroup) {\n    return {\n        concat: function (x, y) {\n            return zipWith(x, y, Semigroup.concat);\n        }\n    };\n}\nexports.getSemigroup = getSemigroup;\nfunction getMonoid(Monoid) {\n    return __assign(__assign({}, getSemigroup(Monoid)), { empty: pure(Monoid.empty) });\n}\nexports.getMonoid = getMonoid;\nfunction provideAll(r) {\n    return function (ma) {\n        return toM(function () { return fromM(ma)(r); });\n    };\n}\nexports.Do = function () { return Do_1.Do(exports.managed); };\nexports.sequenceS = Apply_1.sequenceS(exports.managed);\nexports.sequenceT = Apply_1.sequenceT(exports.managed);\nexports.sequenceOption = Op.option.sequence(exports.managed);\nexports.traverseOption = function (f) { return function (ta) {\n    return Op.option.traverse(exports.managed)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return Op.option.wilt(exports.managed)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return Op.option.wither(exports.managed)(ta, f);\n}; };\nexports.sequenceEither = Ei.either.sequence(exports.managed);\nexports.traverseEither = function (f) { return function (ta) {\n    return Ei.either.traverse(exports.managed)(ta, f);\n}; };\nexports.sequenceTree = TR.tree.sequence(exports.managed);\nexports.traverseTree = function (f) { return function (ta) {\n    return TR.tree.traverse(exports.managed)(ta, f);\n}; };\nexports.sequenceArray = Ar.array.sequence(exports.managed);\nexports.traverseArray = function (f) { return function (ta) {\n    return Ar.array.traverse(exports.managed)(ta, f);\n}; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return Ar.array.traverseWithIndex(exports.managed)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return Ar.array.wilt(exports.managed)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return Ar.array.wither(exports.managed)(ta, f); }; };\nexports.sequenceRecord = RE.record.sequence(exports.managed);\nexports.traverseRecord = function (f) { return function (ta) {\n    return RE.record.traverse(exports.managed)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return RE.record.traverseWithIndex(exports.managed)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) {\n    return RE.record.wilt(exports.managed)(wa, f);\n}; };\nexports.witherRecord = function (f) { return function (ta) {\n    return RE.record.wither(exports.managed)(ta, f);\n}; };\n","module.exports = require(\"regenerator-runtime\");\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/stream.ts\n  credits to original author\n */\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar stream_1 = require(\"stream\");\nvar T = __importStar(require(\"../effect\"));\nvar effect_1 = require(\"../effect\");\nvar deferred = __importStar(require(\"../deferred\"));\nvar M = __importStar(require(\"../managed\"));\nvar cq = __importStar(require(\"../queue\"));\nvar ref = __importStar(require(\"../ref\"));\nvar semaphore = __importStar(require(\"../semaphore\"));\nvar sink_1 = require(\"./sink\");\nvar step_1 = require(\"./step\");\nvar su = __importStar(require(\"./support\"));\nexports.su = su;\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar Apply_1 = require(\"fp-ts/lib/Apply\");\nvar toS = function (_) { return _; };\nvar fromS = function (_) { return _; };\n// The contract of a Stream's fold is that state is preserved within the lifecycle of the managed\n// Therefore, we must track the offset in the array via a ref\n// This allows, for instance, this to work with transduce\nfunction arrayFold(as) {\n    return M.encaseEffect(effect_1.effect.map(ref.makeRef(0), function (cell) { return function (initial, cont, f) {\n        function step(current) {\n            /* istanbul ignore else */\n            if (cont(current)) {\n                return fp_ts_1.pipeable.pipe(cell.modify(function (i) { return [i, i + 1]; }), // increment the i\n                T.chain(function (i) {\n                    return i < as.length ? effect_1.effect.chain(f(current, as[i]), step) : T.pure(current);\n                }));\n            }\n            else {\n                return T.pure(current);\n            }\n        }\n        return step(initial);\n    }; }));\n}\nfunction iteratorSource(iter) {\n    return T.sync(function () {\n        var n = iter.next();\n        if (n.done) {\n            return fp_ts_1.option.none;\n        }\n        return fp_ts_1.option.some(n.value);\n    });\n}\nfunction rangeIterator(start, interval, end) {\n    var current;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                current = start;\n                _a.label = 1;\n            case 1:\n                if (!(!end || current < end)) return [3 /*break*/, 3];\n                return [4 /*yield*/, current];\n            case 2:\n                _a.sent();\n                current += interval || 1;\n                return [3 /*break*/, 1];\n            case 3: return [2 /*return*/];\n        }\n    });\n}\n/**\n * Create a Stream from a source A action.\n *\n * The contract is that the acquisition of the resource should produce a Wave that may be repeatedly evaluated\n * during the scope of the Managed\n * If there is more data in the stream, the Wave should produce some(A) otherwise it should produce none.\n * Once it produces none, it will not be evaluated again.\n * @param r\n */\nfunction fromSource(r) {\n    return toS(M.managed.map(r, function (pull) {\n        function fold(initial, cont, step) {\n            return cont(initial)\n                ? fp_ts_1.pipeable.pipe(pull, T.chain(function (out) {\n                    return fp_ts_1.pipeable.pipe(out, fp_ts_1.option.fold(function () { return T.pure(initial); }, function (a) { return effect_1.effect.chain(step(initial, a), function (next) { return fold(next, cont, step); }); }));\n                }))\n                : T.pure(initial);\n        }\n        return fold;\n    }));\n}\nexports.fromSource = fromSource;\n/**\n * Create a stream from an Array\n * @param as\n */\nfunction fromArray(as) {\n    return toS(arrayFold(as));\n}\nexports.fromArray = fromArray;\n/**\n * Create a stream from an iterator\n * @param iter\n */\nfunction fromIterator(iter) {\n    return fp_ts_1.pipeable.pipe(M.encaseEffect(T.sync(iter)), M.map(iteratorSource), fromSource);\n}\nexports.fromIterator = fromIterator;\n/**\n * Create a stream that emits the elements in a range\n * @param start\n * @param interval\n * @param end\n */\nfunction fromRange(start, interval, end) {\n    return fromIterator(function () { return rangeIterator(start, interval, end); });\n}\nexports.fromRange = fromRange;\n/**\n * Create a stream from an existing iterator\n * @param iter\n */\nfunction fromIteratorUnsafe(iter) {\n    return fromIterator(function () { return iter; });\n}\nexports.fromIteratorUnsafe = fromIteratorUnsafe;\n/**\n * Create a stream that emits a single element\n * @param a\n */\nfunction once(a) {\n    function fold(initial, cont, f) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return f(initial, a);\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\nexports.once = once;\n/**\n * Create a stream that emits As as fast as possible\n *\n * Be cautious when using this. If your entire pipeline is full of synchronous actions you can block the main\n * thread until the stream runs to completion (or forever) using this\n * @param a\n */\nfunction repeatedly(a) {\n    function fold(initial, cont, f) {\n        function step(current) {\n            if (cont(current)) {\n                return T.shiftAfter(effect_1.effect.chain(f(current, a), step));\n            }\n            return T.shiftAfter(T.pure(current));\n        }\n        return step(initial);\n    }\n    return toS(M.pure(fold));\n}\nexports.repeatedly = repeatedly;\nfunction periodically(ms) {\n    return fp_ts_1.pipeable.pipe(M.encaseEffect(ref.makeRef(-1)), M.map(function (r) {\n        return fp_ts_1.pipeable.pipe(T.delay(r.update(function (n) { return n + 1; }), ms), T.map(fp_ts_1.option.some));\n    }), fromSource);\n}\nexports.periodically = periodically;\n/**\n * A stream that emits no elements an immediately terminates\n */\nexports.empty = toS(M.pure(function (initial, _cont, _f) {\n    return T.pure(initial);\n}));\n/**\n * Create a stream that evalutes w to emit a single element\n * @param w\n */\nfunction encaseEffect(w) {\n    function fold(initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return fp_ts_1.pipeable.pipe(w, T.chain(function (a) { return step(initial, a); }));\n        }\n        else {\n            return T.pure(initial);\n        }\n    }\n    return toS(M.pure(fold));\n}\nexports.encaseEffect = encaseEffect;\n/**\n * Create a stream that immediately fails\n * @param e\n */\nfunction raised(e) {\n    return encaseEffect(T.raiseError(e));\n}\nexports.raised = raised;\n/**\n * Create a stream that immediately aborts\n * @param e\n */\nfunction aborted(e) {\n    return encaseEffect(T.raiseAbort(e));\n}\nexports.aborted = aborted;\n/**\n * Create a stream that immediately emits either 0 or 1 elements\n * @param opt\n */\nfunction fromOption(opt) {\n    return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(fp_ts_1[\"function\"].constant(exports.empty), once));\n}\nexports.fromOption = fromOption;\n/**\n * Zip all stream elements with their index ordinals\n * @param stream\n */\nfunction zipWithIndex(stream) {\n    return toS(M.managed.map(fromS(stream), function (fold) {\n        function zipFold(initial, cont, f) {\n            var folded = fold([initial, 0], function (s) { return cont(s[0]); }, function (_a, a) {\n                var s = _a[0], i = _a[1];\n                return effect_1.effect.map(f(s, [a, i]), function (s) { return [s, i + 1]; });\n            });\n            return effect_1.effect.map(folded, function (s) { return s[0]; });\n        }\n        return zipFold;\n    }));\n}\nexports.zipWithIndex = zipWithIndex;\n/**\n * Create a stream that emits all the elements of stream1 followed by all the elements of stream2\n * @param stream1\n * @param stream2\n */\nfunction concatL_(stream1, stream2) {\n    var w1 = fromS(stream1);\n    var w2 = function () { return fromS(stream2()); };\n    function fold(initial, cont, step) {\n        return fp_ts_1.pipeable.pipe(M.use(w1, function (fold1) { return fold1(initial, cont, step); }), T.chain(function (intermediate) {\n            /* istanbul ignore else */\n            if (cont(intermediate)) {\n                return M.use(w2(), function (fold2) { return fold2(intermediate, cont, step); });\n            }\n            else {\n                return T.pure(intermediate);\n            }\n        }));\n    }\n    return toS(M.pure(fold));\n}\nfunction concatL(stream2) {\n    return function (s) { return concatL_(s, stream2); };\n}\nexports.concatL = concatL;\n/**\n * Strict form of concatL\n * @param stream1\n * @param stream2\n */\nfunction concat_(stream1, stream2) {\n    return concatL_(stream1, fp_ts_1[\"function\"].constant(stream2));\n}\nfunction concat(stream2) {\n    return function (s) { return concat_(s, stream2); };\n}\nexports.concat = concat;\n/**\n * Creates a stream that repeatedly emits the elements of a stream forever.\n *\n * The elements are not cached, any effects required (i.e. opening files or sockets) are repeated for each cycle\n * @param stream\n */\nfunction repeat(stream) {\n    return concatL_(stream, function () { return repeat(stream); });\n}\nexports.repeat = repeat;\nfunction map_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outer) { return function (initial, cont, step) { return outer(initial, cont, function (s, a) { return step(s, f(a)); }); }; }));\n}\n/**\n * Map the elements of a stream\n * @param stream\n * @param f\n */\nfunction map(f) {\n    return function (stream) { return map_(stream, f); };\n}\nexports.map = map;\n/**\n * Map every element emitted by stream to b\n * @param stream\n * @param b\n */\nfunction as_(stream, b) {\n    return map_(stream, fp_ts_1[\"function\"].constant(b));\n}\nfunction as(b) {\n    return function (s) { return as_(s, b); };\n}\nexports.as = as;\n/**\n * Filter the elements of a stream by a predicate\n * @param stream\n * @param f\n */\nfunction filter_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outer) { return function (initial, cont, step) { return outer(initial, cont, function (s, a) { return (f(a) ? step(s, a) : T.pure(s)); }); }; }));\n}\nfunction filter(f) {\n    return function (s) { return filter_(s, f); };\n}\nexports.filter = filter;\n/**\n * Filter the stream so that only items that are not equal to the previous item emitted are emitted\n * @param eq\n */\nfunction distinctAdjacent_(stream, eq) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        var init = [initial, fp_ts_1.option.none];\n        var c = function (_a) {\n            var s = _a[0];\n            return cont(s);\n        };\n        function stp(current, next) {\n            return fp_ts_1.pipeable.pipe(current[1], fp_ts_1.option.fold(\n            // We haven't seen anything so just return\n            function () { return effect_1.effect.map(step(current[0], next), function (s) { return [s, fp_ts_1.option.some(next)]; }); }, function (seen) {\n                return eq.equals(seen, next)\n                    ? T.pure(current)\n                    : effect_1.effect.map(step(current[0], next), function (s) { return [s, fp_ts_1.option.some(next)]; });\n            }));\n        }\n        return effect_1.effect.map(base(init, c, stp), function (s) { return s[0]; });\n    }; }));\n}\nfunction distinctAdjacent(eq) {\n    return function (s) { return distinctAdjacent_(s, eq); };\n}\nexports.distinctAdjacent = distinctAdjacent;\n/**\n * Fold the elements of this stream together using an effect.\n *\n * The resulting stream will emit 1 element produced by the effectful fold\n * @param stream\n * @param f\n * @param seed\n */\nfunction foldM_(stream, f, seed) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        /* istanbul ignore else */\n        if (cont(initial)) {\n            return effect_1.effect.chain(base(seed, fp_ts_1[\"function\"].constant(true), f), function (result) { return step(initial, result); });\n        }\n        else {\n            return T.pure(initial);\n        }\n    }; }));\n}\nfunction foldM(seed, f) {\n    return function (s) { return foldM_(s, f, seed); };\n}\nexports.foldM = foldM;\n/**\n * Fold the elements of a stream together purely\n * @param stream\n * @param f\n * @param seed\n */\nfunction fold_(stream, f, seed) {\n    return foldM_(stream, function (b, a) { return T.pure(f(b, a)); }, seed);\n}\nfunction t2(a, b) {\n    return [a, b];\n}\nfunction fold(seed, f) {\n    return function (s) { return fold_(s, f, seed); };\n}\nexports.fold = fold;\n/**\n * Scan across the elements the stream.\n *\n * This is like foldM but emits every intermediate seed value in the resulting stream.\n * @param stream\n * @param f\n * @param seed\n */\nfunction scanM_(stream, f, seed) {\n    return concat_(once(seed), toS(fp_ts_1.pipeable.pipe(M.zip(fromS(stream), M.encaseEffect(ref.makeRef(seed))), M.map(function (_a) {\n        var base = _a[0], accum = _a[1];\n        function fold(initial, cont, step) {\n            /* istanbul ignore else */\n            if (cont(initial)) {\n                // We need to figure out how to drive the base fold for a single step\n                // Thus, we switch state from true to false on execution\n                return fp_ts_1.pipeable.pipe(accum.get, T.chain(function (b) {\n                    return base(t2(b, true), function (s) { return s[1]; }, function (s, a) { return effect_1.effect.map(f(s[0], a), function (r) { return t2(r, false); }); });\n                }), T.chain(\n                // If this is still true, we didn't consume anything so advance\n                function (s) {\n                    return s[1]\n                        ? T.pure(initial)\n                        : T.applySecond(accum.set(s[0]), effect_1.effect.chain(step(initial, s[0]), function (next) { return fold(next, cont, step); }));\n                }));\n            }\n            else {\n                return T.pure(initial);\n            }\n        }\n        return fold;\n    }))));\n}\nfunction scanM(seed, f) {\n    return function (s) { return scanM_(s, f, seed); };\n}\nexports.scanM = scanM;\n/**\n * Purely scan a stream\n * @param stream\n * @param f\n * @param seed\n */\nfunction scan_(stream, f, seed) {\n    return scanM_(stream, function (b, a) { return T.pure(f(b, a)); }, seed);\n}\nfunction scan(seed, f) {\n    return function (s) { return scan_(s, f, seed); };\n}\nexports.scan = scan;\nfunction chain_(stream, f) {\n    return toS(M.managed.map(fromS(stream), function (outerfold) { return function (initial, cont, step) {\n        return outerfold(initial, cont, function (s, a) {\n            /* istanbul ignore next */\n            if (cont(s)) {\n                var inner = f(a);\n                return M.use(fromS(inner), function (innerfold) { return innerfold(s, cont, step); });\n            }\n            else {\n                return T.pure(s);\n            }\n        });\n    }; }));\n}\n/**\n * Monadic chain on a stream\n * @param stream\n * @param f\n */\nfunction chain(f) {\n    return function (stream) {\n        return toS(M.managed.map(fromS(stream), function (outerfold) { return function (initial, cont, step) {\n            return outerfold(initial, cont, function (s, a) {\n                /* istanbul ignore next */\n                if (cont(s)) {\n                    var inner = f(a);\n                    return M.use(fromS(inner), function (innerfold) { return innerfold(s, cont, step); });\n                }\n                else {\n                    return T.pure(s);\n                }\n            });\n        }; }));\n    };\n}\nexports.chain = chain;\n/**\n * Flatten a stream of streams\n * @param stream\n */\nfunction flatten(stream) {\n    return chain_(stream, fp_ts_1[\"function\"].identity);\n}\nexports.flatten = flatten;\n/**\n * Map each element of the stream effectfully\n * @param stream\n * @param f\n */\nfunction mapM_(stream, f) {\n    return chain_(stream, function (a) { return encaseEffect(f(a)); });\n}\nfunction mapM(f) {\n    return function (s) { return mapM_(s, f); };\n}\nexports.mapM = mapM;\n/**\n * A stream that emits no elements but never terminates.\n */\nexports.never = mapM_(once(undefined), fp_ts_1[\"function\"].constant(T.never));\n/**\n * Transduce a stream via a sink.\n *\n * This repeatedly run a sink to completion on the elements of the input stream and emits the result of each run\n * Leftovers from a previous run are fed to the next run\n *\n * @param stream\n * @param sink\n */\nfunction transduce_(stream, sink) {\n    return toS(M.managed.map(fromS(stream), function (base) { return function (initial, cont, step) {\n        function feedSink(foldState, sinkState, chunk) {\n            return effect_1.effect.chain(sink_1.stepMany(sink, sinkState, chunk), function (nextSinkStep) {\n                return step_1.isSinkCont(nextSinkStep)\n                    ? // We need to let more data in to drive the sink\n                        T.pure([foldState, nextSinkStep.state, true])\n                    : // We have a completion, so extract the value and then use it to advance the fold state\n                        fp_ts_1.pipeable.pipe(step_1.sinkStepState(nextSinkStep), sink.extract, T.chain(function (b) { return step(foldState, b); }), T.chain(function (nextFoldState) {\n                            var leftover = step_1.sinkStepLeftover(nextSinkStep);\n                            // We will re-initialize the sink\n                            return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (nextNextSinkState) {\n                                if (cont(nextFoldState) && leftover.length > 0) {\n                                    return feedSink(nextFoldState, nextNextSinkState.state, leftover);\n                                }\n                                else {\n                                    return T.pure([\n                                        nextFoldState,\n                                        nextNextSinkState.state,\n                                        false\n                                    ]);\n                                }\n                            }));\n                        }));\n            });\n        }\n        var derivedInitial = effect_1.effect.map(sink.initial, function (initSink) { return [initial, step_1.sinkStepState(initSink), false]; });\n        return fp_ts_1.pipeable.pipe(derivedInitial, T.chain(function (init) {\n            return base(init, function (s) { return cont(s[0]); }, function (s, a) { return feedSink(s[0], s[1], [a]); });\n        }), T.chain(function (_a) {\n            var foldState = _a[0], sinkState = _a[1], extract = _a[2];\n            return extract && cont(foldState)\n                ? effect_1.effect.chain(sink.extract(sinkState), function (b) { return step(foldState, b); })\n                : T.pure(foldState);\n        }));\n    }; }));\n}\nfunction transduce(sink) {\n    return function (s) { return transduce_(s, sink); };\n}\nexports.transduce = transduce;\n/**\n * Drop some number of elements from a stream\n *\n * Their effects to be produced still occur in the background\n * @param stream\n * @param n\n */\nfunction drop_(stream, n) {\n    return fp_ts_1.pipeable.pipe(zipWithIndex(stream), filter(function (_a) {\n        var _ = _a[0], i = _a[1];\n        return i >= n;\n    }), map(function (_a) {\n        var a = _a[0];\n        return a;\n    }));\n}\nfunction drop(n) {\n    return function (s) { return drop_(s, n); };\n}\nexports.drop = drop;\n/**\n * Take some number of elements of a stream\n * @param stream\n * @param n\n */\nfunction take_(stream, n) {\n    return toS(M.managed.map(fromS(stream), function (fold) { return function (initial, cont, step) {\n        return effect_1.effect.map(fold(t2(initial, 0), function (t2s) { return t2s[1] < n && cont(t2s[0]); }, function (s, a) { return effect_1.effect.map(step(s[0], a), function (next) { return t2(next, s[1] + 1); }); }), function (t2s) { return t2s[0]; });\n    }; }));\n}\nfunction take(n) {\n    return function (s) { return take_(s, n); };\n}\nexports.take = take;\n/**\n * Take elements of a stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction takeWhile_(stream, pred) {\n    return toS(M.managed.map(fromS(stream), function (fold) { return function (initial, cont, step) {\n        return effect_1.effect.map(fold(t2(initial, true), function (t2s) { return t2s[1] && cont(t2s[0]); }, function (s, a) {\n            return pred(a)\n                ? effect_1.effect.map(step(s[0], a), function (next) { return t2(next, true); })\n                : T.pure(t2(s[0], false));\n        }), function (t2s) { return t2s[0]; });\n    }; }));\n}\nfunction takeWhile(pred) {\n    return function (s) { return takeWhile_(s, pred); };\n}\nexports.takeWhile = takeWhile;\n/**\n * Take elements from a stream until a given effect resolves.\n *\n * @param until The effect that will terminate the stream\n * @param stream The stream\n */\nfunction takeUntil_(stream, until) {\n    var wrappedUntil = as({ type: \"until\" })(encaseEffect(until));\n    var wrappedStream = fp_ts_1.pipeable.pipe(stream, map(function (value) { return ({ type: \"stream\", value: value }); }));\n    return fp_ts_1.pipeable.pipe(mergeAll([wrappedUntil, wrappedStream]), takeWhile(function (wrapped) { return wrapped.type === \"stream\"; }), filter(function (wrapped) { return wrapped.type === \"stream\"; }), map(function (wrapped) { return wrapped.value; }));\n}\nfunction takeUntil(until) {\n    return function (s) { return takeUntil_(s, until); };\n}\nexports.takeUntil = takeUntil;\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param sink\n */\nfunction into_(stream, sink) {\n    return M.use(fromS(stream), function (fold) {\n        return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (init) { return fold(init, step_1.isSinkCont, function (s, a) { return sink.step(s.state, a); }); }), T.map(function (s) { return s.state; }), T.chain(sink.extract));\n    });\n}\nfunction into(sink) {\n    return function (s) { return into_(s, sink); };\n}\nexports.into = into;\n/**\n * Push a stream into a sink to produce the sink's result\n * @param stream\n * @param managedSink\n */\nfunction intoManaged_(stream, managedSink) {\n    return M.use(managedSink, function (sink) { return into_(stream, sink); });\n}\nfunction intoManaged(managedSink) {\n    return function (s) { return intoManaged_(s, managedSink); };\n}\nexports.intoManaged = intoManaged;\n/**\n * Push a stream in a sink to produce the result and the leftover\n * @param stream\n * @param sink\n */\nfunction intoLeftover_(stream, sink) {\n    return M.use(stream, function (fold) {\n        return fp_ts_1.pipeable.pipe(sink.initial, T.chain(function (init) { return fold(init, step_1.isSinkCont, function (s, a) { return sink.step(s.state, a); }); }), T.chain(function (end) {\n            return effect_1.effect.map(sink.extract(end.state), function (b) { return [b, step_1.sinkStepLeftover(end)]; });\n        }));\n    });\n}\nfunction intoLeftover(sink) {\n    return function (s) { return intoLeftover_(s, sink); };\n}\nexports.intoLeftover = intoLeftover;\nfunction sinkQueue(stream) {\n    return M.managed.chain(M.zip(\n    // 0 allows maximum backpressure throttling (i.e. a reader must be waiting already to produce the item)\n    M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), function (_a) {\n        var q = _a[0], latch = _a[1];\n        var write = effect_1.effect.foldExit(into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(q)), function (c) { return latch.cause(c); }, fp_ts_1[\"function\"].constant(q.offer(fp_ts_1.option.none)));\n        return M.as(M.fiber(write), [q, latch]);\n    });\n}\n/**\n * Zip two streams together termitating when either stream is exhausted\n * @param as\n * @param bs\n * @param f\n */\nfunction zipWith_(as, bs, f) {\n    var source = M.zipWith(sinkQueue(as), sinkQueue(bs), function (_a, _b) {\n        var aq = _a[0], alatch = _a[1];\n        var bq = _b[0], blatch = _b[1];\n        var atake = fp_ts_1.pipeable.pipe(aq.take, T.chainTap(function (opt) {\n            return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n            // Confirm we have seen the last element\n            function () { return alatch.done(fp_ts_1.option.none); }, function () { return T.unit; } // just keep going\n            ));\n        }));\n        var agrab = T.raceFirst(atake, alatch.wait);\n        var btake = fp_ts_1.pipeable.pipe(bq.take, T.chainTap(function (opt) {\n            return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n            // Confirm we have seen the last element\n            function () { return blatch.done(fp_ts_1.option.none); }, function () { return T.unit; } // just keep going\n            ));\n        }));\n        var bgrab = T.raceFirst(btake, blatch.wait);\n        return T.effect.zipWith(agrab, bgrab, function (aOpt, bOpt) {\n            return fp_ts_1.option.option.chain(aOpt, function (a) { return fp_ts_1.option.option.map(bOpt, function (b) { return f(a, b); }); });\n        });\n    });\n    return fromSource(source);\n}\nfunction zipWith(bs, f) {\n    return function (s) { return zipWith_(s, bs, f); };\n}\nexports.zipWith = zipWith;\n/**\n * zipWith to form tuples\n * @param as\n * @param bs\n */\nfunction zip_(as, bs) {\n    return zipWith_(as, bs, function (a, b) { return [a, b]; });\n}\nfunction zip(bs) {\n    return function (as) { return zip_(bs, as); };\n}\nexports.zip = zip;\n/**\n * Given a queue and a Deferred for signalling exits construct a Wave of a pull operation.\n * The protocol is that errors are propogated through the latch and the latch can be used to track completion.\n * Once a none is received through the queue, this read process completes the latch with none to to make the finish durable\n * in the face of repeated reads (which is important for peel)\n *\n * @param queue\n * @param breaker\n */\nfunction queueBreakerSource(queue, breaker) {\n    var take = fp_ts_1.pipeable.pipe(queue.take, T.chainTap(function (opt) {\n        return fp_ts_1.pipeable.pipe(opt, fp_ts_1.option.fold(\n        // Confirm we have seen the last element by closing the breaker so subsequent reads see it\n        fp_ts_1[\"function\"].constant(breaker.done(fp_ts_1.option.none)), \n        // do nothing to the breaker if we got an element\n        fp_ts_1[\"function\"].constant(T.unit)));\n    }));\n    return T.raceFirst(take, breaker.wait);\n}\n/**\n * Construct a Source for a Stream.\n * During the scope of the Managed, Wave will repeatedly pull items from a queue being managed in the background\n * @param stream\n */\nfunction streamQueueSource(stream) {\n    return M.managed.map(sinkQueue(stream), function (_a) {\n        var q = _a[0], breaker = _a[1];\n        return queueBreakerSource(q, breaker);\n    });\n}\n/**\n * Feed a stream into a sink to produce a value.\n *\n * Emits the value and a 'remainder' stream that includes the rest of the elements of the input stream.\n * @param stream\n * @param sink\n */\nfunction peel_(stream, sink) {\n    return toS(M.managed.chain(streamQueueSource(stream), function (pull) {\n        var pullStream = fromSource(M.pure(pull));\n        // We now have a shared pull instantiation that we can use as a sink to drive and return as a stream\n        return fromS(fp_ts_1.pipeable.pipe(encaseEffect(intoLeftover_(pullStream, sink)), map(function (_a) {\n            var b = _a[0], left = _a[1];\n            return [b, concat_(fromArray(left), pullStream)];\n        })));\n    }));\n}\nfunction peel(sink) {\n    return function (s) { return peel_(s, sink); };\n}\nexports.peel = peel;\nfunction peelManaged_(stream, managedSink) {\n    return toS(M.managed.chain(managedSink, function (sink) { return fromS(peel_(stream, sink)); }));\n}\nfunction peelManaged(managedSink) {\n    return function (s) { return peelManaged_(s, managedSink); };\n}\nexports.peelManaged = peelManaged;\nfunction interruptFiberSlot(slot) {\n    return effect_1.effect.chain(slot.get, function (optFiber) {\n        return fp_ts_1.pipeable.pipe(optFiber, fp_ts_1.option.fold(function () { return T.pure(fp_ts_1.option.none); }, function (f) { return T.effect.map(f.interrupt, fp_ts_1.option.some); }));\n    });\n}\nfunction waitFiberSlot(slot) {\n    return effect_1.effect.chain(slot.get, function (optFiber) {\n        return fp_ts_1.pipeable.pipe(optFiber, fp_ts_1.option.fold(function () { return T.pure(undefined); }, function (f) { return T.asUnit(f.wait); }));\n    });\n}\nfunction singleFiberSlot() {\n    return M.bracket(ref.makeRef(fp_ts_1.option.none), interruptFiberSlot);\n}\n/**\n * Create a stream that switches to emitting elements of the most recent input stream.\n * @param stream\n */\nfunction switchLatest(stream) {\n    var source = M.managed.chain(streamQueueSource(stream), function (pull // read streams\n    ) {\n        return M.managed.chain(M.zip(\n        // The queue and latch to push into\n        M.encaseEffect(cq.boundedQueue(0)), M.encaseEffect(deferred.makeDeferred())), function (_a) {\n            var pushQueue = _a[0], pushBreaker = _a[1];\n            // The internal latch that can be used to signal failures and shut down the read process\n            return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (internalBreaker) {\n                // somewhere to hold the currently running fiber so we can interrupt it on termination\n                return M.managed.chain(singleFiberSlot(), function (fiberSlot) {\n                    var interruptPushFiber = interruptFiberSlot(fiberSlot);\n                    // Spawn a fiber that should push elements from stream into pushQueue as long as it is able\n                    function spawnPushFiber(stream) {\n                        var writer = fp_ts_1.pipeable.pipe(\n                        // The writer process pushes things into the queue\n                        into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(pushQueue)), \n                        // We need to trap any errors that occur and send those to internal latch to halt the process\n                        // Dont' worry about interrupts, because we perform cleanups for single fiber slot\n                        T.foldExit(function (e) { return internalBreaker.done(e); }, fp_ts_1[\"function\"].constant(T.pure(undefined)) // we can do nothing because we will delegate to the proxy\n                        ));\n                        return T.applyFirst(interruptPushFiber, effect_1.effect.chain(T.fork(writer), function (f) { return fiberSlot.set(fp_ts_1.option.some(f)); }));\n                    }\n                    // pull streams and setup the push fibers appropriately\n                    function advanceStreams() {\n                        // We need a way of looking ahead to see errors in the output streams in order to cause termination\n                        // The push fiber will generate this when it encounters a failure\n                        var breakerError = effect_1.effect.chain(internalBreaker.wait, T.raised);\n                        return effect_1.effect.foldExit(T.raceFirst(pull, breakerError), \n                        // In the event of an error either from pull or from upstream we need to shut everything down\n                        // On managed unwind the active production fiber will be interrupted if there is one\n                        function (cause) { return pushBreaker.cause(cause); }, function (nextOpt) {\n                            return fp_ts_1.pipeable.pipe(nextOpt, fp_ts_1.option.fold(\n                            // nothing left, so we should wait the push fiber's completion and then forward the termination\n                            function () {\n                                return fp_ts_1.pipeable.pipe(T.race(breakerError, waitFiberSlot(fiberSlot)), T.foldExit(function (c) { return pushBreaker.cause(c); }, // if we get a latchError forward it through to downstream\n                                fp_ts_1[\"function\"].constant(pushQueue.offer(fp_ts_1.option.none)) // otherwise we are done, so lets forward that\n                                ));\n                            }, function (next) { return T.applySecondL(spawnPushFiber(next), advanceStreams); }));\n                        });\n                    }\n                    // We can configure this source now, but it will be invalid outside of running fibers\n                    // Thus we can use managed.fiber\n                    var downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n                    return M.as(M.fiber(advanceStreams()), downstreamSource);\n                });\n            });\n        });\n    });\n    return fromSource(source);\n}\nexports.switchLatest = switchLatest;\n/**\n * Create a stream that switches to emitting the elements of the most recent stream produced by applying f to the\n * element most recently emitted\n * @param stream\n * @param f\n */\n/* istanbul ignore next */\nfunction chainSwitchLatest_(stream, f) {\n    return switchLatest(map_(stream, f));\n}\n/* istanbul ignore next */\nfunction chainSwitchLatest(f) {\n    return function (s) { return chainSwitchLatest_(s, f); };\n}\nexports.chainSwitchLatest = chainSwitchLatest;\nfunction interruptWeaveHandles(ref) {\n    return effect_1.effect.chain(ref.get, function (fibers) {\n        return T.asUnit(fp_ts_1.array.array.traverse(T.effect)(fibers, function (fiber) { return fiber[1].interrupt; }));\n    });\n}\n// Track many fibers for the purpose of clean interruption on failure\nvar makeWeave = M.managed.chain(M.encaseEffect(ref.makeRef(0)), function (cell) {\n    // On cleanup we want to interrupt any running fibers\n    return M.managed.map(M.bracket(ref.makeRef([]), interruptWeaveHandles), function (store) {\n        function attach(action) {\n            return fp_ts_1.pipeable.pipe(fp_ts_1.apply.sequenceS(T.effect)({\n                next: cell.update(function (n) { return n + 1; }),\n                fiber: T.fork(action)\n            }), T.chainTap(function (_a) {\n                var next = _a.next, fiber = _a.fiber;\n                return store.update(function (handles) { return __spreadArrays(handles, [[next, fiber]]); });\n            }), T.chainTap(function (_a) {\n                var next = _a.next, fiber = _a.fiber;\n                return T.fork(T.applySecond(fiber.wait, store.update(fp_ts_1.array.filter(function (h) { return h[0] !== next; }))));\n            }), T.asUnit);\n        }\n        return { attach: attach };\n    });\n});\n/**\n * Merge a stream of streams into a single stream.\n *\n * This stream will run up to maxActive streams concurrently to produce values into the output stream.\n * @param stream the input stream\n * @param maxActive the maximum number of streams to hold active at any given time\n * this controls how much active streams are able to collectively produce in the face of a slow downstream consumer\n */\nfunction merge_(stream, maxActive) {\n    var source = M.managed.chain(streamQueueSource(stream), function (pull) {\n        return M.managed.chain(M.encaseEffect(semaphore.makeSemaphore(maxActive)), function (sem) {\n            // create the queue that output will be forced into\n            return M.managed.chain(M.encaseEffect(cq.boundedQueue(0)), function (pushQueue) {\n                // create the mechanism t hrough which we can signal completion\n                return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (pushBreaker) {\n                    return M.managed.chain(makeWeave, function (weave) {\n                        return M.managed.chain(M.encaseEffect(deferred.makeDeferred()), function (internalBreaker) {\n                            // create a wave action that will proxy elements created by running the stream into the push queue\n                            // if any errors occur, we set the breaker\n                            function spawnPushFiber(stream) {\n                                var writer = fp_ts_1.pipeable.pipe(\n                                // Process to sink elements into the queue\n                                into_(map_(stream, fp_ts_1.option.some), sink_1.queueSink(pushQueue)), \n                                // TODO: I don't think we need to handle interrupts, it shouldn't be possible\n                                T.foldExit(function (e) { return internalBreaker.done(e); }, fp_ts_1[\"function\"].constant(T.pure(undefined))));\n                                return weave.attach(sem.withPermit(writer)); // we need a permit to start\n                            }\n                            // The action that will pull a single stream upstream and attempt to activate it to push downstream\n                            function advanceStreams() {\n                                var breakerError = effect_1.effect.chain(internalBreaker.wait, T.raised);\n                                return effect_1.effect.foldExit(T.raceFirst(pull, // we don't want to pull until there is capacity\n                                breakerError), function (c) { return pushBreaker.cause(c); }, // if upstream errored, we should push the failure downstream immediately\n                                function (nextOpt // otherwise we should\n                                ) {\n                                    return fp_ts_1.pipeable.pipe(nextOpt, fp_ts_1.option.fold(\n                                    // The end has occured\n                                    fp_ts_1[\"function\"].constant(fp_ts_1.pipeable.pipe(\n                                    // We will wait for an error or all active produces to finish\n                                    T.race(breakerError, sem.acquireN(maxActive)), T.foldExit(function (c) { return pushBreaker.cause(c); }, fp_ts_1[\"function\"].constant(pushQueue.offer(fp_ts_1.option.none))))), \n                                    // Start the push fiber and then keep going\n                                    function (next) {\n                                        return T.applySecondL(sem.withPermit(spawnPushFiber(next)), fp_ts_1[\"function\"].constant(advanceStreams()));\n                                    }));\n                                });\n                            }\n                            var downstreamSource = queueBreakerSource(pushQueue, pushBreaker);\n                            return M.as(M.fiber(advanceStreams()), downstreamSource);\n                        });\n                    });\n                });\n            });\n        });\n    });\n    return fromSource(source);\n}\nfunction merge(maxActive) {\n    return function (stream) {\n        return merge_(stream, maxActive);\n    };\n}\nexports.merge = merge;\nfunction chainMerge_(stream, f, maxActive) {\n    return merge_(map_(stream, f), maxActive);\n}\nfunction chainMerge(maxActive, f) {\n    return function (s) { return chainMerge_(s, f, maxActive); };\n}\nexports.chainMerge = chainMerge;\nfunction mergeAll(streams) {\n    return merge_(fromArray(streams), streams.length);\n}\nexports.mergeAll = mergeAll;\n/**\n * Drop elements of the stream while a predicate holds\n * @param stream\n * @param pred\n */\nfunction dropWhile_(stream, pred) {\n    return chain_(peel_(stream, sink_1.drainWhileSink(pred)), function (_a) {\n        var head = _a[0], rest = _a[1];\n        return concat_(fromOption(head), rest);\n    });\n}\nfunction dropWhile(pred) {\n    return function (s) { return dropWhile_(s, pred); };\n}\nexports.dropWhile = dropWhile;\n/**\n * Collect all the elements emitted by a stream into an array.\n * @param stream\n */\nfunction collectArray(stream) {\n    return into_(stream, sink_1.collectArraySink());\n}\nexports.collectArray = collectArray;\n/**\n * Evaluate a stream for its effects\n * @param stream\n */\nfunction drain(stream) {\n    return into_(stream, sink_1.drainSink());\n}\nexports.drain = drain;\nexports.URI = \"matechs/Stream\";\nexports.stream = {\n    URI: exports.URI,\n    _CTX: \"async\",\n    map: map_,\n    of: function (a) { return once(a); },\n    ap: function (sfab, sa) { return zipWith_(sfab, sa, function (f, a) { return f(a); }); },\n    chain: chain_,\n    as: as_,\n    chainMerge: chainMerge_,\n    chainSwitchLatest: chainSwitchLatest_,\n    concat: concat_,\n    concatL: concatL_,\n    distinctAdjacent: distinctAdjacent_,\n    drop: drop_,\n    dropWhile: dropWhile_,\n    filter: filter_,\n    fold: fold_,\n    foldM: foldM_,\n    into: into_,\n    intoLeftover: intoLeftover_,\n    intoManaged: intoManaged_,\n    mapM: mapM_,\n    merge: merge_,\n    peel: peel_,\n    peelManaged: peelManaged_,\n    scan: scan_,\n    scanM: scanM_,\n    take: take_,\n    takeWhile: takeWhile_,\n    takeUntil: takeUntil_,\n    transduce: transduce_,\n    zip: zip_,\n    zipWith: zipWith_\n};\n/* extensions */\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStream(stream) {\n    return M.managed.chain(M.encaseEffect(T.sync(function () {\n        var _a = su.queueUtils(), next = _a.next, ops = _a.ops, hasCB = _a.hasCB;\n        stream.on(\"end\", function () {\n            next({ _tag: \"complete\" });\n        });\n        stream.on(\"error\", function (e) {\n            next({ _tag: \"error\", e: fp_ts_1.either.toError(e) });\n        });\n        stream.pipe(new stream_1.Writable({\n            objectMode: true,\n            write: function (chunk, _, callback) {\n                next({ _tag: \"offer\", a: chunk });\n                callback();\n            }\n        }));\n        return { ops: ops, hasCB: hasCB };\n    })), function (_a) {\n        var hasCB = _a.hasCB, ops = _a.ops;\n        return su.emitter(ops, hasCB);\n    });\n}\n/* istanbul ignore next */\nfunction fromObjectReadStream(stream) {\n    return fromSource(getSourceFromObjectReadStream(stream));\n}\nexports.fromObjectReadStream = fromObjectReadStream;\n// TODO: generalize this to batch over generic stream\n/* istanbul ignore next */\nfunction getSourceFromObjectReadStreamB(stream, batch, every) {\n    return M.encaseEffect(T.sync(function () {\n        var open = true;\n        var leftover = [];\n        var errors = [];\n        stream.on(\"end\", function () {\n            open = false;\n        });\n        stream.on(\"error\", function (e) {\n            errors.push(e);\n        });\n        stream.pipe(new stream_1.Writable({\n            objectMode: true,\n            write: function (chunk, _, callback) {\n                leftover.push(chunk);\n                callback();\n            }\n        }));\n        return T.delay(T.async(function (res) {\n            if (leftover.length > 0) {\n                res(fp_ts_1.either.right(fp_ts_1.option.some(leftover.splice(0, batch))));\n            }\n            else {\n                if (errors.length > 0) {\n                    res(fp_ts_1.either.left(errors[0]));\n                }\n                else {\n                    if (open) {\n                        res(fp_ts_1.either.right(fp_ts_1.option.some([])));\n                    }\n                    else {\n                        res(fp_ts_1.either.right(fp_ts_1.option.none));\n                    }\n                }\n            }\n            // tslint:disable-next-line: no-empty\n            return function (cb) {\n                cb();\n            };\n        }), every);\n    }));\n}\n/* istanbul ignore next */\nfunction fromObjectReadStreamB(stream, batch, every) {\n    return fromSource(getSourceFromObjectReadStreamB(stream, batch, every));\n}\nexports.fromObjectReadStreamB = fromObjectReadStreamB;\nexports.Do = function () { return Do_1.Do(exports.stream); };\nexports.sequenceS = Apply_1.sequenceS(exports.stream);\nexports.sequenceT = Apply_1.sequenceT(exports.stream);\nexports.sequenceOption = fp_ts_1.option.option.sequence(exports.stream);\nexports.traverseOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.traverse(exports.stream)(ta, f);\n}; };\nexports.wiltOption = function (f) { return function (wa) {\n    return fp_ts_1.option.option.wilt(exports.stream)(wa, f);\n}; };\nexports.witherOption = function (f) { return function (ta) {\n    return fp_ts_1.option.option.wither(exports.stream)(ta, f);\n}; };\nexports.sequenceEither = fp_ts_1.either.either.sequence(exports.stream);\nexports.traverseEither = function (f) { return function (ta) {\n    return fp_ts_1.either.either.traverse(exports.stream)(ta, f);\n}; };\nexports.sequenceTree = fp_ts_1.tree.tree.sequence(exports.stream);\nexports.traverseTree = function (f) { return function (ta) { return fp_ts_1.tree.tree.traverse(exports.stream)(ta, f); }; };\nexports.sequenceArray = fp_ts_1.array.array.sequence(exports.stream);\nexports.traverseArray = function (f) { return function (ta) { return fp_ts_1.array.array.traverse(exports.stream)(ta, f); }; };\nexports.traverseArrayWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.array.array.traverseWithIndex(exports.stream)(ta, f);\n}; };\nexports.wiltArray = function (f) { return function (wa) {\n    return fp_ts_1.array.array.wilt(exports.stream)(wa, f);\n}; };\nexports.witherArray = function (f) { return function (ta) { return fp_ts_1.array.array.wither(exports.stream)(ta, f); }; };\nexports.sequenceRecord = fp_ts_1.record.record.sequence(exports.stream);\nexports.traverseRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverse(exports.stream)(ta, f);\n}; };\nexports.traverseRecordWithIndex = function (f) { return function (ta) {\n    return fp_ts_1.record.record.traverseWithIndex(exports.stream)(ta, f);\n}; };\nexports.wiltRecord = function (f) { return function (wa) { return fp_ts_1.record.record.wilt(exports.stream)(wa, f); }; };\nexports.witherRecord = function (f) { return function (ta) {\n    return fp_ts_1.record.record.wither(exports.stream)(ta, f);\n}; };\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nvar listc_1 = require(\"../listc\");\nvar RuntimeImpl = /** @class */ (function () {\n    function RuntimeImpl() {\n        var _this = this;\n        this.running = false;\n        this.array = new listc_1.LinkedList();\n        this.isRunning = function () { return _this.running; };\n    }\n    RuntimeImpl.prototype.run = function () {\n        var _a, _b;\n        this.running = true;\n        var next = (_a = this.array.deleteHead()) === null || _a === void 0 ? void 0 : _a.value;\n        while (next) {\n            next[0](next[1]);\n            next = (_b = this.array.deleteHead()) === null || _b === void 0 ? void 0 : _b.value;\n        }\n        this.running = false;\n    };\n    RuntimeImpl.prototype.dispatch = function (thunk, a) {\n        this.array.append([thunk, a]);\n        if (!this.running) {\n            this.run();\n        }\n    };\n    RuntimeImpl.prototype.dispatchLater = function (thunk, a, ms) {\n        var _this = this;\n        var handle = setTimeout(function () { return _this.dispatch(thunk, a); }, ms);\n        return function (cb) {\n            clearTimeout(handle);\n            cb();\n        };\n    };\n    return RuntimeImpl;\n}());\nexports.defaultRuntime = new RuntimeImpl();\n","\"use strict\";\n/* istanbul ignore file */\nexports.__esModule = true;\nvar LinkedListNode = /** @class */ (function () {\n    function LinkedListNode(value, next) {\n        if (next === void 0) { next = null; }\n        this.value = value;\n        this.next = next;\n    }\n    return LinkedListNode;\n}());\nexports.LinkedListNode = LinkedListNode;\nvar LinkedList = /** @class */ (function () {\n    function LinkedList(head, tail) {\n        if (head === void 0) { head = null; }\n        if (tail === void 0) { tail = null; }\n        this.head = head;\n        this.tail = tail;\n        this.head = null;\n        this.tail = null;\n    }\n    LinkedList.prototype.empty = function () {\n        return this.head === null;\n    };\n    LinkedList.prototype.prepend = function (value) {\n        var newNode = new LinkedListNode(value, this.head);\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    };\n    LinkedList.prototype.append = function (value) {\n        var newNode = new LinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        this.tail = newNode;\n        return this;\n    };\n    LinkedList.prototype.deleteHead = function () {\n        if (!this.head) {\n            return null;\n        }\n        var deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    };\n    return LinkedList;\n}());\nexports.LinkedList = LinkedList;\nvar DoublyLinkedListNode = /** @class */ (function () {\n    function DoublyLinkedListNode(value, next, previous) {\n        if (next === void 0) { next = null; }\n        if (previous === void 0) { previous = null; }\n        this.value = value;\n        this.next = next;\n        this.previous = previous;\n    }\n    return DoublyLinkedListNode;\n}());\nexports.DoublyLinkedListNode = DoublyLinkedListNode;\nvar DoublyLinkedList = /** @class */ (function () {\n    function DoublyLinkedList(head, tail) {\n        if (head === void 0) { head = null; }\n        if (tail === void 0) { tail = null; }\n        this.head = head;\n        this.tail = tail;\n    }\n    DoublyLinkedList.prototype.prepend = function (value) {\n        var newNode = new DoublyLinkedListNode(value, this.head);\n        if (this.head) {\n            this.head.previous = newNode;\n        }\n        this.head = newNode;\n        if (!this.tail) {\n            this.tail = newNode;\n        }\n        return this;\n    };\n    DoublyLinkedList.prototype.append = function (value) {\n        var newNode = new DoublyLinkedListNode(value);\n        if (!this.head) {\n            this.head = newNode;\n            this.tail = newNode;\n            return this;\n        }\n        this.tail.next = newNode;\n        newNode.previous = this.tail;\n        this.tail = newNode;\n        return this;\n    };\n    DoublyLinkedList.prototype.deleteTail = function () {\n        if (!this.tail) {\n            return null;\n        }\n        if (this.head === this.tail) {\n            var deletedTail_1 = this.tail;\n            this.head = null;\n            this.tail = null;\n            return deletedTail_1;\n        }\n        var deletedTail = this.tail;\n        this.tail = this.tail.previous;\n        this.tail.next = null;\n        return deletedTail;\n    };\n    DoublyLinkedList.prototype.deleteHead = function () {\n        if (!this.head) {\n            return null;\n        }\n        var deletedHead = this.head;\n        if (this.head.next) {\n            this.head = this.head.next;\n            this.head.previous = null;\n        }\n        else {\n            this.head = null;\n            this.tail = null;\n        }\n        return deletedHead;\n    };\n    DoublyLinkedList.prototype.empty = function () {\n        return this.head === null;\n    };\n    return DoublyLinkedList;\n}());\nexports.DoublyLinkedList = DoublyLinkedList;\n","\"use strict\";\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nfunction singleNode(a) {\n    var l = { a: a, prev: null, next: null };\n    l.prev = l;\n    l.next = l;\n    return l;\n}\n/**\n * Push an Elem at the end of the List\n */\nfunction push(list, a) {\n    if (isNotEmpty(list)) {\n        var last_1 = list.last;\n        var first = list.first;\n        var newLast = { a: a, next: first, prev: last_1 };\n        last_1.next = newLast;\n        first.prev = newLast;\n        list.last = newLast;\n    }\n    else {\n        var l = singleNode(a);\n        list.first = l;\n        list.last = l;\n    }\n}\nexports.push = push;\n/**\n * Creates an empty List\n */\nfunction empty() {\n    return { first: null, last: null };\n}\nexports.empty = empty;\n/**\n * Indicates if a List is a singleton\n */\nfunction isSingleton(list) {\n    return list.first === list.last && isNotEmpty(list);\n}\n/**\n * Indicates if a List is not empty\n */\nfunction isNotEmpty(list) {\n    return list.first !== null;\n}\nexports.isNotEmpty = isNotEmpty;\n/**\n * Pops the first element of a List (A | null)\n */\nfunction popUnsafe(list) {\n    var first = list.first;\n    if (first) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            first.next.prev = first.prev;\n            first.prev.next = first.next;\n            list.first = first.next;\n        }\n        return first.a;\n    }\n    else {\n        return null;\n    }\n}\nexports.popUnsafe = popUnsafe;\n/**\n * Pops the first element of a List (A | null)\n */\nfunction popLastUnsafe(list) {\n    var last = list.last;\n    if (last) {\n        if (isSingleton(list)) {\n            list.first = null;\n            list.last = null;\n        }\n        else {\n            last.prev.next = last.next;\n            last.next.prev = last.prev;\n            list.last = last.prev;\n        }\n        return last.a;\n    }\n    else {\n        return null;\n    }\n}\nexports.popLastUnsafe = popLastUnsafe;\n/**\n * Pops the first element of a List Option<A>\n */\nfunction pop(list) {\n    return fp_ts_1.option.fromNullable(popUnsafe(list));\n}\nexports.pop = pop;\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nfunction headUnsafe(list) {\n    return list.first !== null ? list.first.a : null;\n}\nexports.headUnsafe = headUnsafe;\n/**\n * Gets the first element of the List as Option<A> (does not change the List)\n */\nfunction head(list) {\n    return fp_ts_1.option.fromNullable(headUnsafe(list));\n}\nexports.head = head;\n/**\n * Gets the last element of the List as A |null (does not change the List)\n */\nfunction lastUnsafe(list) {\n    return list.last !== null ? list.last.a : null;\n}\nexports.lastUnsafe = lastUnsafe;\n/**\n * Gets the last element of the List as Option<A> (does not change the List)\n */\nfunction last(list) {\n    return fp_ts_1.option.fromNullable(lastUnsafe(list));\n}\nexports.last = last;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\nvar RA = require(\"./ReadonlyArray\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Array';\n/**\n * @since 2.0.0\n */\nexports.getShow = RA.getShow;\n/**\n * Returns a `Monoid` for `Array<A>`\n *\n * @example\n * import { getMonoid } from 'fp-ts/lib/Array'\n *\n * const M = getMonoid<number>()\n * assert.deepStrictEqual(M.concat([1, 2], [3, 4]), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexports.getMonoid = RA.getMonoid;\n/**\n * Derives an `Eq` over the `Array` of a given element type from the `Eq` of that type. The derived `Eq` defines two\n * arrays as equal if all elements of both arrays are compared equal pairwise with the given `E`. In case of arrays of\n * different lengths, the result is non equality.\n *\n * @example\n * import { eqString } from 'fp-ts/lib/Eq'\n * import { getEq } from 'fp-ts/lib/Array'\n *\n * const E = getEq(eqString)\n * assert.strictEqual(E.equals(['a', 'b'], ['a', 'b']), true)\n * assert.strictEqual(E.equals(['a'], []), false)\n *\n * @since 2.0.0\n */\nexports.getEq = RA.getEq;\n/**\n * Derives an `Ord` over the `Array` of a given element type from the `Ord` of that type. The ordering between two such\n * arrays is equal to: the first non equal comparison of each arrays elements taken pairwise in increasing order, in\n * case of equality over all the pairwise elements; the longest array is considered the greatest, if both arrays have\n * the same length, the result is equality.\n *\n * @example\n * import { getOrd } from 'fp-ts/lib/Array'\n * import { ordString } from 'fp-ts/lib/Ord'\n *\n * const O = getOrd(ordString)\n * assert.strictEqual(O.compare(['b'], ['a']), 1)\n * assert.strictEqual(O.compare(['a'], ['a']), 0)\n * assert.strictEqual(O.compare(['a'], ['b']), -1)\n *\n *\n * @since 2.0.0\n */\nexports.getOrd = RA.getOrd;\n/**\n * An empty array\n *\n * @since 2.0.0\n */\nexports.empty = [];\n/**\n * Return a list of length `n` with element `i` initialized with `f(i)`\n *\n * @example\n * import { makeBy } from 'fp-ts/lib/Array'\n *\n * const double = (n: number): number => n * 2\n * assert.deepStrictEqual(makeBy(5, double), [0, 2, 4, 6, 8])\n *\n * @since 2.0.0\n */\nexports.makeBy = RA.makeBy;\n/**\n * Create an array containing a range of integers, including both endpoints\n *\n * @example\n * import { range } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(range(1, 5), [1, 2, 3, 4, 5])\n *\n * @since 2.0.0\n */\nexports.range = RA.range;\n/**\n * Create an array containing a value repeated the specified number of times\n *\n * @example\n * import { replicate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(replicate(3, 'a'), ['a', 'a', 'a'])\n *\n * @since 2.0.0\n */\nexports.replicate = RA.replicate;\n/**\n * Removes one level of nesting\n *\n * @example\n * import { flatten } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(flatten([[1], [2], [3]]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.flatten = RA.flatten;\n/**\n * Break an array into its first element and remaining elements\n *\n * @example\n * import { foldLeft } from 'fp-ts/lib/Array'\n *\n * const len: <A>(as: Array<A>) => number = foldLeft(() => 0, (_, tail) => 1 + len(tail))\n * assert.strictEqual(len([1, 2, 3]), 3)\n *\n * @since 2.0.0\n */\nexports.foldLeft = RA.foldLeft;\n/**\n * Break an array into its initial elements and the last element\n *\n * @since 2.0.0\n */\nexports.foldRight = RA.foldRight;\n/**\n * Same as `reduce` but it carries over the intermediate steps\n *\n * ```ts\n * import { scanLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanLeft(10, (b, a: number) => b - a)([1, 2, 3]), [10, 9, 7, 4])\n * ```\n *\n * @since 2.0.0\n */\nexports.scanLeft = RA.scanLeft;\n/**\n * Fold an array from the right, keeping all intermediate results instead of only the final result\n *\n * @example\n * import { scanRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(scanRight(10, (a: number, b) => b - a)([1, 2, 3]), [4, 5, 7, 10])\n *\n * @since 2.0.0\n */\nexports.scanRight = RA.scanRight;\n/**\n * Test whether an array is empty\n *\n * @example\n * import { isEmpty } from 'fp-ts/lib/Array'\n *\n * assert.strictEqual(isEmpty([]), true)\n *\n * @since 2.0.0\n */\nexports.isEmpty = RA.isEmpty;\n/**\n * Test whether an array is non empty narrowing down the type to `NonEmptyArray<A>`\n *\n * @since 2.0.0\n */\nexports.isNonEmpty = RA.isNonEmpty;\n/**\n * Test whether an array contains a particular index\n *\n * @since 2.0.0\n */\nexports.isOutOfBound = RA.isOutOfBound;\n/**\n * This function provides a safe way to read a value at a particular index from an array\n *\n * @example\n * import { lookup } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(lookup(1, [1, 2, 3]), some(2))\n * assert.deepStrictEqual(lookup(3, [1, 2, 3]), none)\n *\n * @since 2.0.0\n */\nexports.lookup = RA.lookup;\n/**\n * Attaches an element to the front of an array, creating a new non empty array\n *\n * @example\n * import { cons } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(cons(0, [1, 2, 3]), [0, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.cons = RA.cons;\n/**\n * Append an element to the end of an array, creating a new non empty array\n *\n * @example\n * import { snoc } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(snoc([1, 2, 3], 4), [1, 2, 3, 4])\n *\n * @since 2.0.0\n */\nexports.snoc = RA.snoc;\n/**\n * Get the first element in an array, or `None` if the array is empty\n *\n * @example\n * import { head } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(head([1, 2, 3]), some(1))\n * assert.deepStrictEqual(head([]), none)\n *\n * @since 2.0.0\n */\nexports.head = RA.head;\n/**\n * Get the last element in an array, or `None` if the array is empty\n *\n * @example\n * import { last } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(last([1, 2, 3]), some(3))\n * assert.deepStrictEqual(last([]), none)\n *\n * @since 2.0.0\n */\nexports.last = RA.last;\n/**\n * Get all but the first element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { tail } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(tail([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(tail([]), none)\n *\n * @since 2.0.0\n */\nexports.tail = RA.tail;\n/**\n * Get all but the last element of an array, creating a new array, or `None` if the array is empty\n *\n * @example\n * import { init } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(init([1, 2, 3]), some([1, 2]))\n * assert.deepStrictEqual(init([]), none)\n *\n * @since 2.0.0\n */\nexports.init = RA.init;\n/**\n * Keep only a number of elements from the start of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeLeft(2)([1, 2, 3]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.takeLeft = RA.takeLeft;\n/**\n * Keep only a number of elements from the end of an array, creating a new array.\n * `n` must be a natural number\n *\n * @example\n * import { takeRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(takeRight(2)([1, 2, 3, 4, 5]), [4, 5])\n *\n * @since 2.0.0\n */\nexports.takeRight = RA.takeRight;\nfunction takeLeftWhile(predicate) {\n    return RA.takeLeftWhile(predicate);\n}\nexports.takeLeftWhile = takeLeftWhile;\nfunction spanLeft(predicate) {\n    return RA.spanLeft(predicate);\n}\nexports.spanLeft = spanLeft;\n/* tslint:enable:readonly-keyword */\n/**\n * Drop a number of elements from the start of an array, creating a new array\n *\n * @example\n * import { dropLeft } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeft(2)([1, 2, 3]), [3])\n *\n * @since 2.0.0\n */\nexports.dropLeft = RA.dropLeft;\n/**\n * Drop a number of elements from the end of an array, creating a new array\n *\n * @example\n * import { dropRight } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropRight(2)([1, 2, 3, 4, 5]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.dropRight = RA.dropRight;\n/**\n * Remove the longest initial subarray for which all element satisfy the specified predicate, creating a new array\n *\n * @example\n * import { dropLeftWhile } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(dropLeftWhile((n: number) => n % 2 === 1)([1, 3, 2, 4, 5]), [2, 4, 5])\n *\n * @since 2.0.0\n */\nexports.dropLeftWhile = RA.dropLeftWhile;\n/**\n * Find the first index for which a predicate holds\n *\n * @example\n * import { findIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([1, 2, 3]), some(1))\n * assert.deepStrictEqual(findIndex((n: number) => n === 2)([]), none)\n *\n * @since 2.0.0\n */\nexports.findIndex = RA.findIndex;\nfunction findFirst(predicate) {\n    return RA.findFirst(predicate);\n}\nexports.findFirst = findFirst;\n/**\n * Find the first element returned by an option based selector function\n *\n * @example\n * import { findFirstMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the first person that has an age\n * assert.deepStrictEqual(findFirstMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Mary'))\n *\n * @since 2.0.0\n */\nexports.findFirstMap = RA.findFirstMap;\nfunction findLast(predicate) {\n    return RA.findLast(predicate);\n}\nexports.findLast = findLast;\n/**\n * Find the last element returned by an option based selector function\n *\n * @example\n * import { findLastMap } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface Person {\n *   name: string\n *   age?: number\n * }\n *\n * const persons: Array<Person> = [{ name: 'John' }, { name: 'Mary', age: 45 }, { name: 'Joey', age: 28 }]\n *\n * // returns the name of the last person that has an age\n * assert.deepStrictEqual(findLastMap((p: Person) => (p.age === undefined ? none : some(p.name)))(persons), some('Joey'))\n *\n * @since 2.0.0\n */\nexports.findLastMap = RA.findLastMap;\n/**\n * Returns the index of the last element of the list which matches the predicate\n *\n * @example\n * import { findLastIndex } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * interface X {\n *   a: number\n *   b: number\n * }\n * const xs: Array<X> = [{ a: 1, b: 0 }, { a: 1, b: 1 }]\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 1)(xs), some(1))\n * assert.deepStrictEqual(findLastIndex((x: { a: number }) => x.a === 4)(xs), none)\n *\n *\n * @since 2.0.0\n */\nexports.findLastIndex = RA.findLastIndex;\n/**\n * @since 2.0.0\n */\nexports.copy = RA.toArray;\n/**\n * @since 2.0.0\n */\nexports.unsafeInsertAt = RA.unsafeInsertAt;\n/**\n * Insert an element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { insertAt } from 'fp-ts/lib/Array'\n * import { some } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(insertAt(2, 5)([1, 2, 3, 4]), some([1, 2, 5, 3, 4]))\n *\n * @since 2.0.0\n */\nexports.insertAt = RA.insertAt;\n/**\n * @since 2.0.0\n */\nexports.unsafeUpdateAt = RA.unsafeUpdateAt;\n/**\n * Change the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { updateAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(updateAt(1, 1)([1, 2, 3]), some([1, 1, 3]))\n * assert.deepStrictEqual(updateAt(1, 1)([]), none)\n *\n * @since 2.0.0\n */\nexports.updateAt = RA.updateAt;\n/**\n * @since 2.0.0\n */\nexports.unsafeDeleteAt = RA.unsafeDeleteAt;\n/**\n * Delete the element at the specified index, creating a new array, or returning `None` if the index is out of bounds\n *\n * @example\n * import { deleteAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * assert.deepStrictEqual(deleteAt(0)([1, 2, 3]), some([2, 3]))\n * assert.deepStrictEqual(deleteAt(1)([]), none)\n *\n * @since 2.0.0\n */\nexports.deleteAt = RA.deleteAt;\n/**\n * Apply a function to the element at the specified index, creating a new array, or returning `None` if the index is out\n * of bounds\n *\n * @example\n * import { modifyAt } from 'fp-ts/lib/Array'\n * import { some, none } from 'fp-ts/lib/Option'\n *\n * const double = (x: number): number => x * 2\n * assert.deepStrictEqual(modifyAt(1, double)([1, 2, 3]), some([1, 4, 3]))\n * assert.deepStrictEqual(modifyAt(1, double)([]), none)\n *\n * @since 2.0.0\n */\nexports.modifyAt = RA.modifyAt;\n/**\n * Reverse an array, creating a new array\n *\n * @example\n * import { reverse } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(reverse([1, 2, 3]), [3, 2, 1])\n *\n * @since 2.0.0\n */\nexports.reverse = RA.reverse;\n/**\n * Extracts from an array of `Either` all the `Right` elements. All the `Right` elements are extracted in order\n *\n * @example\n * import { rights } from 'fp-ts/lib/Array'\n * import { right, left } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(rights([right(1), left('foo'), right(2)]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.rights = RA.rights;\n/**\n * Extracts from an array of `Either` all the `Left` elements. All the `Left` elements are extracted in order\n *\n * @example\n * import { lefts } from 'fp-ts/lib/Array'\n * import { left, right } from 'fp-ts/lib/Either'\n *\n * assert.deepStrictEqual(lefts([right(1), left('foo'), right(2)]), ['foo'])\n *\n * @since 2.0.0\n */\nexports.lefts = RA.lefts;\n/**\n * Sort the elements of an array in increasing order, creating a new array\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { ordNumber } from 'fp-ts/lib/Ord'\n *\n * assert.deepStrictEqual(sort(ordNumber)([3, 2, 1]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.sort = RA.sort;\n/**\n * Apply a function to pairs of elements at the same index in two arrays, collecting the results in a new array. If one\n * input array is short, excess elements of the longer array are discarded.\n *\n * @example\n * import { zipWith } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zipWith([1, 2, 3], ['a', 'b', 'c', 'd'], (n, s) => s + n), ['a1', 'b2', 'c3'])\n *\n * @since 2.0.0\n */\nexports.zipWith = RA.zipWith;\n/**\n * Takes two arrays and returns an array of corresponding pairs. If one input array is short, excess elements of the\n * longer array are discarded\n *\n * @example\n * import { zip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(zip([1, 2, 3], ['a', 'b', 'c', 'd']), [[1, 'a'], [2, 'b'], [3, 'c']])\n *\n * @since 2.0.0\n */\nexports.zip = RA.zip;\n/**\n * The function is reverse of `zip`. Takes an array of pairs and return two corresponding arrays\n *\n * @example\n * import { unzip } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(unzip([[1, 'a'], [2, 'b'], [3, 'c']]), [[1, 2, 3], ['a', 'b', 'c']])\n *\n * @since 2.0.0\n */\nexports.unzip = RA.unzip;\n/**\n * Rotate an array to the right by `n` steps\n *\n * @example\n * import { rotate } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(rotate(2)([1, 2, 3, 4, 5]), [4, 5, 1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.rotate = RA.rotate;\n/**\n * Test if a value is a member of an array. Takes a `Eq<A>` as a single\n * argument which returns the function to use to search for a value of type `A` in\n * an array of type `Array<A>`.\n *\n * @example\n * import { elem } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.strictEqual(elem(eqNumber)(1, [1, 2, 3]), true)\n * assert.strictEqual(elem(eqNumber)(4, [1, 2, 3]), false)\n *\n * @since 2.0.0\n */\nexports.elem = RA.elem;\n/**\n * Remove duplicates from an array, keeping the first occurrence of an element.\n *\n * @example\n * import { uniq } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(uniq(eqNumber)([1, 2, 1]), [1, 2])\n *\n * @since 2.0.0\n */\nexports.uniq = RA.uniq;\n/**\n * Sort the elements of an array in increasing order, where elements are compared using first `ords[0]`, then `ords[1]`,\n * etc...\n *\n * @example\n * import { sortBy } from 'fp-ts/lib/Array'\n * import { ord, ordString, ordNumber } from 'fp-ts/lib/Ord'\n *\n * interface Person {\n *   name: string\n *   age: number\n * }\n * const byName = ord.contramap(ordString, (p: Person) => p.name)\n * const byAge = ord.contramap(ordNumber, (p: Person) => p.age)\n *\n * const sortByNameByAge = sortBy([byName, byAge])\n *\n * const persons = [{ name: 'a', age: 1 }, { name: 'b', age: 3 }, { name: 'c', age: 2 }, { name: 'b', age: 2 }]\n * assert.deepStrictEqual(sortByNameByAge(persons), [\n *   { name: 'a', age: 1 },\n *   { name: 'b', age: 2 },\n *   { name: 'b', age: 3 },\n *   { name: 'c', age: 2 }\n * ])\n *\n * @since 2.0.0\n */\nexports.sortBy = RA.sortBy;\n/**\n * A useful recursion pattern for processing an array to produce a new array, often used for \"chopping\" up the input\n * array. Typically chop is called with some function that will consume an initial prefix of the array and produce a\n * value and the rest of the array.\n *\n * @example\n * import { Eq, eqNumber } from 'fp-ts/lib/Eq'\n * import { chop, spanLeft } from 'fp-ts/lib/Array'\n *\n * const group = <A>(S: Eq<A>): ((as: Array<A>) => Array<Array<A>>) => {\n *   return chop(as => {\n *     const { init, rest } = spanLeft((a: A) => S.equals(a, as[0]))(as)\n *     return [init, rest]\n *   })\n * }\n * assert.deepStrictEqual(group(eqNumber)([1, 1, 2, 3, 3, 4]), [[1, 1], [2], [3, 3], [4]])\n *\n * @since 2.0.0\n */\nexports.chop = RA.chop;\n/**\n * Splits an array into two pieces, the first piece has `n` elements.\n *\n * @example\n * import { splitAt } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(splitAt(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4, 5]])\n *\n * @since 2.0.0\n */\nexports.splitAt = RA.splitAt;\n/**\n * Splits an array into length-`n` pieces. The last piece will be shorter if `n` does not evenly divide the length of\n * the array. Note that `chunksOf(n)([])` is `[]`, not `[[]]`. This is intentional, and is consistent with a recursive\n * definition of `chunksOf`; it satisfies the property that\n *\n * ```ts\n * chunksOf(n)(xs).concat(chunksOf(n)(ys)) == chunksOf(n)(xs.concat(ys)))\n * ```\n *\n * whenever `n` evenly divides the length of `xs`.\n *\n * @example\n * import { chunksOf } from 'fp-ts/lib/Array'\n *\n * assert.deepStrictEqual(chunksOf(2)([1, 2, 3, 4, 5]), [[1, 2], [3, 4], [5]])\n *\n *\n * @since 2.0.0\n */\nexports.chunksOf = RA.chunksOf;\nfunction comprehension(input, f, g) {\n    if (g === void 0) { g = function () { return true; }; }\n    return RA.comprehension(input, f, g);\n}\nexports.comprehension = comprehension;\n/**\n * Creates an array of unique values, in order, from all given arrays using a `Eq` for equality comparisons\n *\n * @example\n * import { union } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(union(eqNumber)([1, 2], [2, 3]), [1, 2, 3])\n *\n * @since 2.0.0\n */\nexports.union = RA.union;\n/**\n * Creates an array of unique values that are included in all given arrays using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { intersection } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(intersection(eqNumber)([1, 2], [2, 3]), [2])\n *\n * @since 2.0.0\n */\nexports.intersection = RA.intersection;\n/**\n * Creates an array of array values not included in the other given array using a `Eq` for equality\n * comparisons. The order and references of result values are determined by the first array.\n *\n * @example\n * import { difference } from 'fp-ts/lib/Array'\n * import { eqNumber } from 'fp-ts/lib/Eq'\n *\n * assert.deepStrictEqual(difference(eqNumber)([1, 2], [2, 3]), [1])\n *\n * @since 2.0.0\n */\nexports.difference = RA.difference;\n/**\n * @since 2.0.0\n */\nexports.of = RA.of;\n/**\n * @since 2.0.0\n */\nexports.array = {\n    URI: exports.URI,\n    map: RA.readonlyArray.map,\n    mapWithIndex: RA.readonlyArray.mapWithIndex,\n    compact: RA.readonlyArray.compact,\n    separate: RA.readonlyArray.separate,\n    filter: RA.readonlyArray.filter,\n    filterMap: RA.readonlyArray.filterMap,\n    partition: RA.readonlyArray.partition,\n    partitionMap: RA.readonlyArray.partitionMap,\n    of: exports.of,\n    ap: RA.readonlyArray.ap,\n    chain: RA.readonlyArray.chain,\n    reduce: RA.readonlyArray.reduce,\n    foldMap: RA.readonlyArray.foldMap,\n    reduceRight: RA.readonlyArray.reduceRight,\n    unfold: RA.readonlyArray.unfold,\n    traverse: RA.readonlyArray.traverse,\n    sequence: RA.readonlyArray.sequence,\n    zero: RA.readonlyArray.zero,\n    alt: RA.readonlyArray.alt,\n    extend: RA.readonlyArray.extend,\n    wither: RA.readonlyArray.wither,\n    wilt: RA.readonlyArray.wilt,\n    reduceWithIndex: RA.readonlyArray.reduceWithIndex,\n    foldMapWithIndex: RA.readonlyArray.foldMapWithIndex,\n    reduceRightWithIndex: RA.readonlyArray.reduceRightWithIndex,\n    traverseWithIndex: RA.readonlyArray.traverseWithIndex,\n    partitionMapWithIndex: RA.readonlyArray.partitionMapWithIndex,\n    partitionWithIndex: RA.readonlyArray.partitionWithIndex,\n    filterMapWithIndex: RA.readonlyArray.filterMapWithIndex,\n    filterWithIndex: RA.readonlyArray.filterWithIndex\n};\nvar _a = pipeable_1.pipeable(exports.array), alt = _a.alt, ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, filter = _a.filter, filterMap = _a.filterMap, filterMapWithIndex = _a.filterMapWithIndex, filterWithIndex = _a.filterWithIndex, foldMap = _a.foldMap, foldMapWithIndex = _a.foldMapWithIndex, map = _a.map, mapWithIndex = _a.mapWithIndex, partition = _a.partition, partitionMap = _a.partitionMap, partitionMapWithIndex = _a.partitionMapWithIndex, partitionWithIndex = _a.partitionWithIndex, reduce = _a.reduce, reduceRight = _a.reduceRight, reduceRightWithIndex = _a.reduceRightWithIndex, reduceWithIndex = _a.reduceWithIndex, compact = _a.compact, separate = _a.separate;\nexports.alt = alt;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.filterMapWithIndex = filterMapWithIndex;\nexports.filterWithIndex = filterWithIndex;\nexports.foldMap = foldMap;\nexports.foldMapWithIndex = foldMapWithIndex;\nexports.map = map;\nexports.mapWithIndex = mapWithIndex;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.partitionMapWithIndex = partitionMapWithIndex;\nexports.partitionWithIndex = partitionWithIndex;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reduceRightWithIndex = reduceRightWithIndex;\nexports.reduceWithIndex = reduceWithIndex;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/queue.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar deferred_1 = require(\"./deferred\");\nvar ref_1 = require(\"./ref\");\nvar sanity_1 = require(\"./sanity\");\nvar semaphore_1 = require(\"./semaphore\");\nvar dequeue_1 = require(\"./original/support/dequeue\");\nvar ticket_1 = require(\"./ticket\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar initial = function () { return fp_ts_1.either.right(dequeue_1.empty()); };\nvar poption = fp_ts_1.pipeable.pipeable(fp_ts_1.option.option);\nvar unboundedOffer = function (queue, a) { return queue.offer(a); };\n// TODO: Need a better way of checking for this\n// Possibly predicates that allow testing if the queue is at least of some size\nvar slidingOffer = function (n) { return function (queue, a) {\n    return queue.size() >= n\n        ? fp_ts_1.pipeable.pipe(queue.take(), poption.map(function (t) { return t[1]; }), fp_ts_1.option.getOrElse(function () { return queue; })).offer(a)\n        : queue.offer(a);\n}; };\nvar droppingOffer = function (n) { return function (queue, a) {\n    return queue.size() >= n ? queue : queue.offer(a);\n}; };\nfunction makeConcurrentQueueImpl(state, factory, overflowStrategy, \n// This is effect that precedes offering\n// in the case of a boudned queue it is responsible for acquiring the semaphore\nofferGate, \n// This is the function that wraps the constructed take IO action\n// In the case of a bounded queue, it is responsible for releasing the\n// semaphore and re-acquiring it on interrupt\ntakeGate) {\n    function cleanupLatch(latch) {\n        return T.asUnit(state.update(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) { return fp_ts_1.either.left(waiting.filter(function (item) { return item !== latch; })); }, function (available) { return fp_ts_1.either.right(available); }));\n        }));\n    }\n    var take = takeGate(T.bracketExit(effect_1.effect.chain(factory, function (latch) {\n        return state.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return [\n                    ticket_1.makeTicket(latch.wait, cleanupLatch(latch)),\n                    fp_ts_1.either.left(waiting.offer(latch))\n                ];\n            }, function (ready) {\n                return fp_ts_1.pipeable.pipe(ready.take(), poption.map(function (_a) {\n                    var next = _a[0], q = _a[1];\n                    return [ticket_1.makeTicket(T.pure(next), T.unit), fp_ts_1.either.right(q)];\n                }), fp_ts_1.option.getOrElse(function () {\n                    return [\n                        ticket_1.makeTicket(latch.wait, cleanupLatch(latch)),\n                        fp_ts_1.either.left(dequeue_1.of(latch))\n                    ];\n                }));\n            }));\n        });\n    }), ticket_1.ticketExit, ticket_1.ticketUse));\n    var offer = function (a) {\n        return T.applySecond(offerGate, T.uninterruptible(T.flatten(state.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return fp_ts_1.pipeable.pipe(waiting.take(), poption.map(function (_a) {\n                    var next = _a[0], q = _a[1];\n                    return [next.done(a), fp_ts_1.either.left(q)];\n                }), fp_ts_1.option.getOrElse(function () { return [T.unit, fp_ts_1.either.right(overflowStrategy(dequeue_1.empty(), a))]; }));\n            }, function (available) {\n                return [T.unit, fp_ts_1.either.right(overflowStrategy(available, a))];\n            }));\n        }))));\n    };\n    return {\n        take: take,\n        offer: offer\n    };\n}\n/**\n * Create an unbounded concurrent queue\n */\nfunction unboundedQueue() {\n    return effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), unboundedOffer, T.unit, fp_ts_1[\"function\"].identity);\n    });\n}\nexports.unboundedQueue = unboundedQueue;\nvar natCapacity = sanity_1.natNumber(new Error(\"Die: capacity must be a natural number\"));\n/**\n * Create a bounded queue with the given capacity that drops older offers\n * @param capacity\n */\nfunction slidingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), slidingOffer(capacity), T.unit, fp_ts_1[\"function\"].identity);\n    }));\n}\nexports.slidingQueue = slidingQueue;\n/**\n * Create a dropping queue with the given capacity that drops offers on full\n * @param capacity\n */\nfunction droppingQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), effect_1.effect.map(ref_1.makeRef(initial()), function (ref) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), droppingOffer(capacity), T.unit, fp_ts_1[\"function\"].identity);\n    }));\n}\nexports.droppingQueue = droppingQueue;\n/**\n * Create a bounded queue that blocks offers on capacity\n * @param capacity\n */\nfunction boundedQueue(capacity) {\n    return T.applySecond(natCapacity(capacity), T.effect.zipWith(ref_1.makeRef(initial()), semaphore_1.makeSemaphore(capacity), function (ref, sem) {\n        return makeConcurrentQueueImpl(ref, deferred_1.makeDeferred(), unboundedOffer, sem.acquire, function (inner) {\n            // Before take, we must release the semaphore. If we are interrupted we should re-acquire the item\n            return T.bracketExit(sem.release, function (_, exit) { return (exit._tag === \"Interrupt\" ? sem.acquire : T.unit); }, function () { return inner; });\n        });\n    }));\n}\nexports.boundedQueue = boundedQueue;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/semaphore.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar dequeue_1 = require(\"./original/support/dequeue\");\nvar deferred_1 = require(\"./deferred\");\nvar ref_1 = require(\"./ref\");\nvar ticket_1 = require(\"./ticket\");\nvar T = __importStar(require(\"./effect\"));\nvar effect_1 = require(\"./effect\");\nvar isReservationFor = function (latch) { return function (rsv) { return rsv[1] === latch; }; };\nfunction sanityCheck(n) {\n    if (n < 0) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits must be non negative\"));\n    }\n    if (Math.round(n) !== n) {\n        return T.raiseAbort(new Error(\"Die: semaphore permits may not be fractional\"));\n    }\n    return T.unit;\n}\nfunction makeSemaphoreImpl(ref) {\n    var releaseN = function (n) {\n        return T.applySecond(sanityCheck(n), T.uninterruptible(n === 0\n            ? T.unit\n            : T.flatten(ref.modify(function (current) {\n                return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                    return fp_ts_1.pipeable.pipe(waiting.take(), fp_ts_1.option.fold(function () { return [T.unit, fp_ts_1.either.right(n)]; }, function (_a) {\n                        var _b = _a[0], needed = _b[0], latch = _b[1], q = _a[1];\n                        return n >= needed\n                            ? [\n                                T.applyFirst(latch.done(undefined), n > needed ? releaseN(n - needed) : T.unit),\n                                fp_ts_1.either.left(q)\n                            ]\n                            : [T.unit, fp_ts_1.either.left(q.push([needed - n, latch]))];\n                    }));\n                }, function (ready) { return [T.unit, fp_ts_1.either.right(ready + n)]; }));\n            }))));\n    };\n    var cancelWait = function (n, latch) {\n        return T.uninterruptible(T.flatten(ref.modify(function (current) {\n            return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                return fp_ts_1.pipeable.pipe(waiting.find(isReservationFor(latch)), fp_ts_1.option.fold(function () { return [releaseN(n), fp_ts_1.either.left(waiting)]; }, function (_a) {\n                    var pending = _a[0];\n                    return [\n                        releaseN(n - pending),\n                        fp_ts_1.either.left(waiting.filter(fp_ts_1[\"function\"].not(isReservationFor(latch))))\n                    ];\n                }));\n            }, function (ready) { return [T.unit, fp_ts_1.either.right(ready + n)]; }));\n        })));\n    };\n    var ticketN = function (n) {\n        return effect_1.effect.chain(deferred_1.makeDeferred(), function (latch) {\n            return ref.modify(function (current) {\n                return fp_ts_1.pipeable.pipe(current, fp_ts_1.either.fold(function (waiting) {\n                    return [\n                        ticket_1.makeTicket(latch.wait, cancelWait(n, latch)),\n                        fp_ts_1.either.left(waiting.offer([n, latch]))\n                    ];\n                }, function (ready) {\n                    return ready >= n\n                        ? [ticket_1.makeTicket(T.unit, releaseN(n)), fp_ts_1.either.right(ready - n)]\n                        : [\n                            ticket_1.makeTicket(latch.wait, cancelWait(n, latch)),\n                            fp_ts_1.either.left(dequeue_1.empty().offer([n - ready, latch]))\n                        ];\n                }));\n            });\n        });\n    };\n    var acquireN = function (n) {\n        return T.applySecond(sanityCheck(n), n === 0 ? T.unit : T.bracketExit(ticketN(n), ticket_1.ticketExit, ticket_1.ticketUse));\n    };\n    var withPermitsN = function (n, inner) {\n        var acquire = T.interruptible(acquireN(n));\n        var release = releaseN(n);\n        return T.bracket(acquire, fp_ts_1[\"function\"].constant(release), function () { return inner; });\n    };\n    var available = effect_1.effect.map(ref.get, fp_ts_1.either.fold(function (q) { return -1 * q.size(); }, fp_ts_1[\"function\"].identity));\n    return {\n        acquireN: acquireN,\n        acquire: acquireN(1),\n        releaseN: releaseN,\n        release: releaseN(1),\n        withPermitsN: withPermitsN,\n        withPermit: function (inner) { return withPermitsN(1, inner); },\n        available: available\n    };\n}\n/**\n * Allocate a semaphore.\n *\n * @param n the number of permits\n * This must be non-negative\n */\nfunction makeSemaphore(n) {\n    return T.applySecond(sanityCheck(n), effect_1.effect.map(ref_1.makeRef(fp_ts_1.either.right(n)), makeSemaphoreImpl));\n}\nexports.makeSemaphore = makeSemaphore;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nvar l = __importStar(require(\"./list\"));\nvar list_1 = require(\"./list\");\nvar DequeueImpl = /** @class */ (function () {\n    function DequeueImpl(front, back) {\n        this.front = front;\n        this.back = back;\n    }\n    DequeueImpl.prototype.take = function () {\n        var _this = this;\n        return l.cata(this.front, function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(t, _this.back)]); }, function () {\n            return fp_ts_1.pipeable.pipe(_this.back, l.reverse, l.catac(function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(t, list_1.nil)]); }, function () { return fp_ts_1.option.none; }));\n        });\n    };\n    DequeueImpl.prototype.offer = function (a) {\n        return new DequeueImpl(this.front, list_1.cons(a, this.back));\n    };\n    DequeueImpl.prototype.pull = function () {\n        var _this = this;\n        return l.cata(this.back, function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(_this.front, t)]); }, function () {\n            return fp_ts_1.pipeable.pipe(_this.front, l.reverse, l.catac(function (h, t) { return fp_ts_1.option.some([h, new DequeueImpl(list_1.nil, t)]); }, function () { return fp_ts_1.option.none; }));\n        });\n    };\n    DequeueImpl.prototype.push = function (a) {\n        return new DequeueImpl(list_1.cons(a, this.front), this.back);\n    };\n    DequeueImpl.prototype.filter = function (p) {\n        return new DequeueImpl(l.filter(this.front, p), l.filter(this.back, p));\n    };\n    DequeueImpl.prototype.size = function () {\n        return l.size(this.front) + l.size(this.back);\n    };\n    DequeueImpl.prototype.isEmpty = function () {\n        return l.isEmpty(this.front) && l.isEmpty(this.back);\n    };\n    DequeueImpl.prototype.find = function (p) {\n        var _this = this;\n        return fp_ts_1.option.option.alt(l.find(this.front, p), function () { return l.find(_this.back, p); });\n    };\n    return DequeueImpl;\n}());\nfunction from(front, back) {\n    return new DequeueImpl(front, back);\n}\nexports.from = from;\nfunction empty() {\n    return from(list_1.nil, list_1.nil);\n}\nexports.empty = empty;\nfunction of(a) {\n    return from(l.of(a), list_1.nil);\n}\nexports.of = of;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nfunction isCons(list) {\n    return list._tag === \"cons\";\n}\nexports.isCons = isCons;\nfunction isNil(list) {\n    return list._tag === \"nil\";\n}\nexports.isNil = isNil;\nexports.nil = { _tag: \"nil\" };\nfunction cons(h, t) {\n    return {\n        _tag: \"cons\",\n        head: h,\n        tail: t\n    };\n}\nexports.cons = cons;\nfunction of(a) {\n    return cons(a, exports.nil);\n}\nexports.of = of;\nfunction foldl(list, b, f) {\n    var iter = list;\n    var seed = b;\n    while (isCons(iter)) {\n        seed = f(seed, iter.head);\n        iter = iter.tail;\n    }\n    return seed;\n}\nexports.foldl = foldl;\nfunction foldlc(b, f) {\n    return function (list) { return foldl(list, b, f); };\n}\nexports.foldlc = foldlc;\nfunction reverse(list) {\n    return foldl(list, exports.nil, function (t, h) { return cons(h, t); });\n}\nexports.reverse = reverse;\nfunction foldr(list, b, f) {\n    return fp_ts_1.pipeable.pipe(list, reverse, foldlc(b, fp_ts_1[\"function\"].flip(f)));\n}\nexports.foldr = foldr;\nfunction snoc(append, list) {\n    return foldr(list, of(append), cons);\n}\nexports.snoc = snoc;\nfunction cata(list, ifCons, ifNil) {\n    if (isCons(list)) {\n        return ifCons(list.head, list.tail);\n    }\n    return ifNil();\n}\nexports.cata = cata;\nfunction catac(ifCons, ifNil) {\n    return function (list) { return cata(list, ifCons, ifNil); };\n}\nexports.catac = catac;\nfunction head(list) {\n    return cata(list, fp_ts_1.option.some, function () { return fp_ts_1.option.none; });\n}\nexports.head = head;\nfunction tail(list) {\n    return cata(list, function (_, rest) { return fp_ts_1.option.some(rest); }, function () { return fp_ts_1.option.none; });\n}\nexports.tail = tail;\nfunction last(list) {\n    if (isNil(list)) {\n        return fp_ts_1.option.none;\n    }\n    var iter = list;\n    while (isCons(iter.tail)) {\n        iter = iter.tail;\n    }\n    return fp_ts_1.option.some(iter.head);\n}\nexports.last = last;\nexports.isEmpty = isNil;\nexports.nonEmpty = fp_ts_1[\"function\"].not(isNil);\nfunction find(list, f) {\n    var iter = list;\n    while (isCons(iter)) {\n        if (f(iter.head)) {\n            return fp_ts_1.option.some(iter.head);\n        }\n        iter = iter.tail;\n    }\n    return fp_ts_1.option.none;\n}\nexports.find = find;\nfunction findc(f) {\n    return function (list) { return find(list, f); };\n}\nexports.findc = findc;\nfunction foldrc(b, f) {\n    return function (list) { return foldr(list, b, f); };\n}\nexports.foldrc = foldrc;\nfunction map(list, f) {\n    return fp_ts_1.pipeable.pipe(list, foldlc(exports.nil, function (t, a) { return cons(f(a), t); }), reverse);\n}\nexports.map = map;\nfunction lift(f) {\n    return function (list) { return map(list, f); };\n}\nexports.lift = lift;\nfunction filter(list, f) {\n    return foldr(list, exports.nil, function (a, t) { return (f(a) ? cons(a, t) : t); });\n}\nexports.filter = filter;\nfunction filterc(f) {\n    return function (list) { return filter(list, f); };\n}\nexports.filterc = filterc;\nfunction concat(front, back) {\n    return foldr(front, back, cons);\n}\nexports.concat = concat;\n/**\n * Get the size of a list.\n *\n * This has pathologically bad performance.\n * @param list\n */\nfunction size(list) {\n    var ct = 0;\n    var iter = list;\n    while (isCons(iter)) {\n        ct++;\n        iter = iter.tail;\n    }\n    return ct;\n}\nexports.size = size;\nfunction chain(list, f) {\n    return fp_ts_1.pipeable.pipe(list, lift(f), foldlc(exports.nil, concat));\n}\nexports.chain = chain;\nfunction ap(list, fns) {\n    return chain(list, function (a) { return map(fns, function (f) { return f(a); }); });\n}\nexports.ap = ap;\nfunction flatten(list) {\n    return foldl(list, exports.nil, concat);\n}\nexports.flatten = flatten;\nfunction fromArray(as) {\n    return as.reduceRight(function (t, h) { return cons(h, t); }, exports.nil);\n}\nexports.fromArray = fromArray;\nfunction toArray(as) {\n    var out = [];\n    var iter = as;\n    while (isCons(iter)) {\n        out.push(iter.head);\n        iter = iter.tail;\n    }\n    return out;\n}\nexports.toArray = toArray;\nexports.URI = \"matechs/WaveList\";\nexports.instances = {\n    URI: exports.URI,\n    map: map,\n    of: of,\n    ap: fp_ts_1[\"function\"].flip(ap),\n    chain: chain\n};\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/ticket.ts\n  credits to original author\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\nfunction ticketExit(ticket, exit) {\n    if (exit._tag === \"Interrupt\") {\n        return ticket.cleanup;\n    }\n    return T.unit;\n}\nexports.ticketExit = ticketExit;\nfunction ticketUse(ticket) {\n    return ticket.acquire;\n}\nexports.ticketUse = ticketUse;\nfunction makeTicket(acquire, cleanup) {\n    return {\n        acquire: acquire,\n        cleanup: cleanup\n    };\n}\nexports.makeTicket = makeTicket;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\n/* tested in wave */\n/* istanbul ignore file */\nvar fp_ts_1 = require(\"fp-ts\");\nvar step_1 = require(\"./step\");\nvar T = __importStar(require(\"../effect\"));\nvar effect_1 = require(\"../effect\");\n/**\n * Step a sink repeatedly.\n * If the sink completes before consuming all of the input, then the done state will include the ops leftovers\n * and anything left in the array\n * @param sink\n * @param s\n * @param multi\n */\nfunction stepMany(sink, s, multi) {\n    function go(current, i) {\n        if (i === multi.length) {\n            return T.pure(current);\n        }\n        else if (step_1.isSinkDone(current)) {\n            return T.pure(step_1.sinkDone(current.state, current.leftover.concat(multi.slice(i))));\n        }\n        else {\n            return effect_1.effect.chain(sink.step(current.state, multi[i]), function (next) { return go(next, i + 1); });\n        }\n    }\n    return go(step_1.sinkCont(s), 0);\n}\nexports.stepMany = stepMany;\nfunction liftPureSink(sink) {\n    return {\n        initial: T.pure(sink.initial),\n        step: function (state, next) { return T.pure(sink.step(state, next)); },\n        extract: fp_ts_1[\"function\"].flow(sink.extract, T.pure)\n    };\n}\nexports.liftPureSink = liftPureSink;\nfunction collectArraySink() {\n    var initial = T.pure(step_1.sinkCont([]));\n    function step(state, next) {\n        return T.pure(step_1.sinkCont(__spreadArrays(state, [next])));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.collectArraySink = collectArraySink;\nfunction drainSink() {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    function step(_state, _next) {\n        return T.pure(step_1.sinkCont(undefined));\n    }\n    return { initial: initial, extract: extract, step: step };\n}\nexports.drainSink = drainSink;\n/**\n * A sink that consumes no input to produce a constant b\n * @param b\n */\nfunction constSink(b) {\n    var initial = T.pure(step_1.sinkDone(undefined, []));\n    var extract = fp_ts_1[\"function\"].constant(T.pure(b));\n    function step(_state, _next) {\n        return T.pure(step_1.sinkDone(undefined, []));\n    }\n    return { initial: initial, extract: extract, step: step };\n}\nexports.constSink = constSink;\n/**\n * A sink that produces the head element of a stream (if any elements are emitted)\n */\nfunction headSink() {\n    var initial = T.pure(step_1.sinkCont(fp_ts_1.option.none));\n    function step(_state, next) {\n        return T.pure(step_1.sinkDone(fp_ts_1.option.some(next), []));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.headSink = headSink;\n/**\n * A sink that produces the last element of a stream (if any elements are emitted)\n */\nfunction lastSink() {\n    var initial = T.pure(step_1.sinkCont(fp_ts_1.option.none));\n    function step(_state, next) {\n        return T.pure(step_1.sinkCont(fp_ts_1.option.some(next)));\n    }\n    return { initial: initial, extract: T.pure, step: step };\n}\nexports.lastSink = lastSink;\n/**\n * A sink that evalutes an action for every element of a sink and produces no value\n * @param f\n */\nfunction evalSink(f) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, next) {\n        return fp_ts_1.pipeable.pipe(f(next), T.apSecond(T.pure(step_1.sinkCont(_state))));\n    }\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    return { initial: initial, extract: extract, step: step };\n}\nexports.evalSink = evalSink;\n/**\n * A sink that consumes elements for which a predicate does not hold.\n *\n * Returns the first element for which the predicate did hold if such an element is found.\n * @param f\n */\nfunction drainWhileSink(f) {\n    var initial = step_1.sinkCont(fp_ts_1.option.none);\n    function step(_state, a) {\n        return f(a) ? step_1.sinkCont(fp_ts_1.option.none) : step_1.sinkDone(fp_ts_1.option.some(a), []);\n    }\n    var extract = fp_ts_1[\"function\"].identity;\n    return liftPureSink({ initial: initial, extract: extract, step: step });\n}\nexports.drainWhileSink = drainWhileSink;\n/**\n * A sink that offers elements into a concurrent queue\n *\n * @param queue\n */\nfunction queueSink(queue) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(a), step_1.sinkCont(undefined));\n    }\n    var extract = fp_ts_1[\"function\"].constant(T.unit);\n    return { initial: initial, extract: extract, step: step };\n}\nexports.queueSink = queueSink;\n/**\n * A sink that offers elements into a queue after wrapping them in an option.\n *\n * The sink will offer one final none into the queue when the stream terminates\n * @param queue\n */\nfunction queueOptionSink(queue) {\n    var initial = T.pure(step_1.sinkCont(undefined));\n    function step(_state, a) {\n        return T.as(queue.offer(fp_ts_1.option.some(a)), step_1.sinkCont(undefined));\n    }\n    var extract = fp_ts_1[\"function\"].constant(queue.offer(fp_ts_1.option.none));\n    return { initial: initial, extract: extract, step: step };\n}\nexports.queueOptionSink = queueOptionSink;\n/**\n * Map the output value of a sink\n * @param sink\n * @param f\n */\nfunction map(sink, f) {\n    return __assign(__assign({}, sink), { extract: fp_ts_1[\"function\"].flow(sink.extract, T.map(f)) });\n}\nexports.map = map;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide-streams/blob/master/src/step.ts\n  credits to original author\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar SinkStepTag;\n(function (SinkStepTag) {\n    SinkStepTag[SinkStepTag[\"Cont\"] = 0] = \"Cont\";\n    SinkStepTag[SinkStepTag[\"Done\"] = 1] = \"Done\";\n})(SinkStepTag = exports.SinkStepTag || (exports.SinkStepTag = {}));\nfunction sinkCont(s) {\n    return { _tag: SinkStepTag.Cont, state: s };\n}\nexports.sinkCont = sinkCont;\nfunction sinkDone(s, leftover) {\n    return { _tag: SinkStepTag.Done, state: s, leftover: leftover };\n}\nexports.sinkDone = sinkDone;\nfunction isSinkCont(s) {\n    return s._tag === SinkStepTag.Cont;\n}\nexports.isSinkCont = isSinkCont;\nfunction isSinkDone(s) {\n    return s._tag === SinkStepTag.Done;\n}\nexports.isSinkDone = isSinkDone;\nfunction sinkStepLeftover(s) {\n    if (s._tag === SinkStepTag.Cont) {\n        return [];\n    }\n    else {\n        return s.leftover;\n    }\n}\nexports.sinkStepLeftover = sinkStepLeftover;\nfunction sinkStepState(s) {\n    return s.state;\n}\nexports.sinkStepState = sinkStepState;\nfunction map(step, f) {\n    return __assign(__assign({}, step), { state: f(step.state) });\n}\nexports.map = map;\nfunction mapWith(f) {\n    return function (step) { return map(step, f); };\n}\nexports.mapWith = mapWith;\nfunction traverse(F) {\n    return function (step, f) { return F.map(f(step.state), function (s1) { return (__assign(__assign({}, step), { state: s1 })); }); };\n}\nexports.traverse = traverse;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar list = __importStar(require(\"../list\"));\nvar fp_ts_1 = require(\"fp-ts\");\nvar M = __importStar(require(\"../managed\"));\nvar T = __importStar(require(\"../effect\"));\nfunction queueUtils() {\n    var ops = list.empty();\n    var hasCB = {};\n    function next(o) {\n        if (hasCB.cb) {\n            var cb = hasCB.cb;\n            hasCB.cb = undefined;\n            cb(o);\n        }\n        else {\n            // TODO: figure out how to trigger if even possible\n            /* istanbul ignore next */\n            list.push(ops, o);\n        }\n    }\n    return { ops: ops, hasCB: hasCB, next: next };\n}\nexports.queueUtils = queueUtils;\nfunction runFromQueue(op, callback) {\n    switch (op._tag) {\n        case \"error\":\n            callback(fp_ts_1.either.left(op.e));\n            // this will never be called\n            /* istanbul ignore next */\n            // tslint:disable-next-line: no-empty\n            return function () { };\n        case \"complete\":\n            callback(fp_ts_1.either.right(fp_ts_1.option.none));\n            // tslint:disable-next-line: no-empty\n            return function () { };\n        case \"offer\":\n            callback(fp_ts_1.either.right(fp_ts_1.option.some(op.a)));\n            // tslint:disable-next-line: no-empty\n            return function () { };\n    }\n}\nexports.runFromQueue = runFromQueue;\nfunction emitter(ops, hasCB) {\n    return M.pure(T.async(function (callback) {\n        var op = list.popUnsafe(ops);\n        if (op !== null) {\n            runFromQueue(op, callback);\n        }\n        else {\n            hasCB.cb = function (o) {\n                // TODO: figure out how to trigger if even possible, triggered by line 22\n                /* istanbul ignore if */\n                if (list.isNotEmpty(ops)) {\n                    list.push(ops, o);\n                    var op_1 = list.popUnsafe(ops);\n                    if (op_1 !== null) {\n                        runFromQueue(op_1, callback)();\n                    }\n                }\n                else {\n                    runFromQueue(o, callback)();\n                }\n            };\n        }\n        /* istanbul ignore next */\n        return function (cb) {\n            cb();\n        };\n    }));\n}\nexports.emitter = emitter;\n","\"use strict\";\nexports.__esModule = true;\nvar stream_1 = require(\"./stream\");\nexports.Do = stream_1.Do;\nexports.URI = stream_1.URI;\nexports.aborted = stream_1.aborted;\nexports.as = stream_1.as;\nexports.chain = stream_1.chain;\nexports.chainMerge = stream_1.chainMerge;\nexports.chainSwitchLatest = stream_1.chainSwitchLatest;\nexports.collectArray = stream_1.collectArray;\nexports.concat = stream_1.concat;\nexports.concatL = stream_1.concatL;\nexports.distinctAdjacent = stream_1.distinctAdjacent;\nexports.drain = stream_1.drain;\nexports.drop = stream_1.drop;\nexports.dropWhile = stream_1.dropWhile;\nexports.empty = stream_1.empty;\nexports.encaseEffect = stream_1.encaseEffect;\nexports.filter = stream_1.filter;\nexports.flatten = stream_1.flatten;\nexports.fold = stream_1.fold;\nexports.foldM = stream_1.foldM;\nexports.fromArray = stream_1.fromArray;\nexports.fromIterator = stream_1.fromIterator;\nexports.fromIteratorUnsafe = stream_1.fromIteratorUnsafe;\nexports.fromObjectReadStream = stream_1.fromObjectReadStream;\nexports.fromObjectReadStreamB = stream_1.fromObjectReadStreamB;\nexports.fromOption = stream_1.fromOption;\nexports.fromRange = stream_1.fromRange;\nexports.fromSource = stream_1.fromSource;\nexports.into = stream_1.into;\nexports.intoLeftover = stream_1.intoLeftover;\nexports.intoManaged = stream_1.intoManaged;\nexports.map = stream_1.map;\nexports.mapM = stream_1.mapM;\nexports.merge = stream_1.merge;\nexports.mergeAll = stream_1.mergeAll;\nexports.never = stream_1.never;\nexports.once = stream_1.once;\nexports.peel = stream_1.peel;\nexports.peelManaged = stream_1.peelManaged;\nexports.periodically = stream_1.periodically;\nexports.raised = stream_1.raised;\nexports.repeat = stream_1.repeat;\nexports.repeatedly = stream_1.repeatedly;\nexports.scan = stream_1.scan;\nexports.scanM = stream_1.scanM;\nexports.sequenceArray = stream_1.sequenceArray;\nexports.sequenceEither = stream_1.sequenceEither;\nexports.sequenceOption = stream_1.sequenceOption;\nexports.sequenceRecord = stream_1.sequenceRecord;\nexports.sequenceS = stream_1.sequenceS;\nexports.sequenceT = stream_1.sequenceT;\nexports.sequenceTree = stream_1.sequenceTree;\nexports.stream = stream_1.stream;\nexports.switchLatest = stream_1.switchLatest;\nexports.take = stream_1.take;\nexports.takeUntil = stream_1.takeUntil;\nexports.takeWhile = stream_1.takeWhile;\nexports.transduce = stream_1.transduce;\nexports.traverseEither = stream_1.traverseEither;\nexports.traverseOption = stream_1.traverseOption;\nexports.traverseRecord = stream_1.traverseRecord;\nexports.traverseRecordWithIndex = stream_1.traverseRecordWithIndex;\nexports.traverseTree = stream_1.traverseTree;\nexports.wiltArray = stream_1.wiltArray;\nexports.wiltOption = stream_1.wiltOption;\nexports.wiltRecord = stream_1.wiltRecord;\nexports.witherArray = stream_1.witherArray;\nexports.witherOption = stream_1.witherOption;\nexports.witherRecord = stream_1.witherRecord;\nexports.zip = stream_1.zip;\nexports.zipWith = stream_1.zipWith;\nexports.zipWithIndex = stream_1.zipWithIndex;\nexports.su = stream_1.su;\nexports.traverseArray = stream_1.traverseArray;\nexports.traverseArrayWithIndex = stream_1.traverseArrayWithIndex;\nvar subject_1 = require(\"./subject\");\nexports.subject = subject_1.subject;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","module.exports = require('./lib/_stream_writable.js');\n","module.exports = require('./lib/_stream_duplex.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./readable').PassThrough\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction tailRec(a, f) {\n    var v = f(a);\n    while (v._tag === 'Left') {\n        v = f(v.left);\n    }\n    return v.right;\n}\nexports.tailRec = tailRec;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The `Ord` type class represents types which support comparisons with a _total order_.\n *\n * Instances should satisfy the laws of total orderings:\n *\n * 1. Reflexivity: `S.compare(a, a) <= 0`\n * 2. Antisymmetry: if `S.compare(a, b) <= 0` and `S.compare(b, a) <= 0` then `a <-> b`\n * 3. Transitivity: if `S.compare(a, b) <= 0` and `S.compare(b, c) <= 0` then `S.compare(a, c) <= 0`\n *\n * @since 2.0.0\n */\nvar Ordering_1 = require(\"./Ordering\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Ord';\n// default compare for primitive types\nvar compare = function (x, y) {\n    return x < y ? -1 : x > y ? 1 : 0;\n};\nfunction strictEqual(a, b) {\n    return a === b;\n}\n/**\n * @since 2.0.0\n */\nexports.ordString = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexports.ordNumber = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * @since 2.0.0\n */\nexports.ordBoolean = {\n    equals: strictEqual,\n    compare: compare\n};\n/**\n * Test whether one value is _strictly less than_ another\n *\n * @since 2.0.0\n */\nfunction lt(O) {\n    return function (x, y) { return O.compare(x, y) === -1; };\n}\nexports.lt = lt;\n/**\n * Test whether one value is _strictly greater than_ another\n *\n * @since 2.0.0\n */\nfunction gt(O) {\n    return function (x, y) { return O.compare(x, y) === 1; };\n}\nexports.gt = gt;\n/**\n * Test whether one value is _non-strictly less than_ another\n *\n * @since 2.0.0\n */\nfunction leq(O) {\n    return function (x, y) { return O.compare(x, y) !== 1; };\n}\nexports.leq = leq;\n/**\n * Test whether one value is _non-strictly greater than_ another\n *\n * @since 2.0.0\n */\nfunction geq(O) {\n    return function (x, y) { return O.compare(x, y) !== -1; };\n}\nexports.geq = geq;\n/**\n * Take the minimum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nfunction min(O) {\n    return function (x, y) { return (O.compare(x, y) === 1 ? y : x); };\n}\nexports.min = min;\n/**\n * Take the maximum of two values. If they are considered equal, the first argument is chosen\n *\n * @since 2.0.0\n */\nfunction max(O) {\n    return function (x, y) { return (O.compare(x, y) === -1 ? y : x); };\n}\nexports.max = max;\n/**\n * Clamp a value between a minimum and a maximum\n *\n * @since 2.0.0\n */\nfunction clamp(O) {\n    var minO = min(O);\n    var maxO = max(O);\n    return function (low, hi) { return function (x) { return maxO(minO(x, hi), low); }; };\n}\nexports.clamp = clamp;\n/**\n * Test whether a value is between a minimum and a maximum (inclusive)\n *\n * @since 2.0.0\n */\nfunction between(O) {\n    var lessThanO = lt(O);\n    var greaterThanO = gt(O);\n    return function (low, hi) { return function (x) { return (lessThanO(x, low) || greaterThanO(x, hi) ? false : true); }; };\n}\nexports.between = between;\n/**\n * @since 2.0.0\n */\nfunction fromCompare(compare) {\n    var optimizedCompare = function (x, y) { return (x === y ? 0 : compare(x, y)); };\n    return {\n        equals: function (x, y) { return optimizedCompare(x, y) === 0; },\n        compare: optimizedCompare\n    };\n}\nexports.fromCompare = fromCompare;\nvar S = {\n    concat: function (x, y) { return fromCompare(function (a, b) { return Ordering_1.monoidOrdering.concat(x.compare(a, b), y.compare(a, b)); }); }\n};\n/**\n * Use `getMonoid` instead\n *\n * @since 2.0.0\n * @deprecated\n */\nfunction getSemigroup() {\n    return S;\n}\nexports.getSemigroup = getSemigroup;\nvar M = {\n    // tslint:disable-next-line: deprecation\n    concat: getSemigroup().concat,\n    empty: fromCompare(function () { return 0; })\n};\n/**\n * Returns a `Monoid` such that:\n *\n * - its `concat(ord1, ord2)` operation will order first by `ord1`, and then by `ord2`\n * - its `empty` value is an `Ord` that always considers compared elements equal\n *\n * @example\n * import { sort } from 'fp-ts/lib/Array'\n * import { contramap, getDualOrd, getMonoid, ordBoolean, ordNumber, ordString } from 'fp-ts/lib/Ord'\n * import { pipe } from 'fp-ts/lib/pipeable'\n * import { fold } from 'fp-ts/lib/Monoid'\n *\n * interface User {\n *   id: number\n *   name: string\n *   age: number\n *   rememberMe: boolean\n * }\n *\n * const byName = pipe(\n *   ordString,\n *   contramap((p: User) => p.name)\n * )\n *\n * const byAge = pipe(\n *   ordNumber,\n *   contramap((p: User) => p.age)\n * )\n *\n * const byRememberMe = pipe(\n *   ordBoolean,\n *   contramap((p: User) => p.rememberMe)\n * )\n *\n * const M = getMonoid<User>()\n *\n * const users: Array<User> = [\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true }\n * ]\n *\n * // sort by name, then by age, then by `rememberMe`\n * const O1 = fold(M)([byName, byAge, byRememberMe])\n * assert.deepStrictEqual(sort(O1)(users), [\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * // now `rememberMe = true` first, then by name, then by age\n * const O2 = fold(M)([getDualOrd(byRememberMe), byName, byAge])\n * assert.deepStrictEqual(sort(O2)(users), [\n *   { id: 4, name: 'Giulio', age: 44, rememberMe: true },\n *   { id: 2, name: 'Guido', age: 46, rememberMe: true },\n *   { id: 3, name: 'Giulio', age: 44, rememberMe: false },\n *   { id: 1, name: 'Guido', age: 47, rememberMe: false }\n * ])\n *\n * @since 2.4.0\n */\nfunction getMonoid() {\n    return M;\n}\nexports.getMonoid = getMonoid;\n/**\n * Given a tuple of `Ord`s returns an `Ord` for the tuple\n *\n * @example\n * import { getTupleOrd, ordString, ordNumber, ordBoolean } from 'fp-ts/lib/Ord'\n *\n * const O = getTupleOrd(ordString, ordNumber, ordBoolean)\n * assert.strictEqual(O.compare(['a', 1, true], ['b', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 2, true]), -1)\n * assert.strictEqual(O.compare(['a', 1, true], ['a', 1, false]), 1)\n *\n * @since 2.0.0\n */\nfunction getTupleOrd() {\n    var ords = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        ords[_i] = arguments[_i];\n    }\n    var len = ords.length;\n    return fromCompare(function (x, y) {\n        var i = 0;\n        for (; i < len - 1; i++) {\n            var r = ords[i].compare(x[i], y[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return ords[i].compare(x[i], y[i]);\n    });\n}\nexports.getTupleOrd = getTupleOrd;\n/**\n * @since 2.0.0\n */\nfunction getDualOrd(O) {\n    return fromCompare(function (x, y) { return O.compare(y, x); });\n}\nexports.getDualOrd = getDualOrd;\n/**\n * @since 2.0.0\n */\nexports.ord = {\n    URI: exports.URI,\n    contramap: function (fa, f) { return fromCompare(function (x, y) { return fa.compare(f(x), f(y)); }); }\n};\nvar contramap = pipeable_1.pipeable(exports.ord).contramap;\nexports.contramap = contramap;\n/**\n * @since 2.0.0\n */\nexports.ordDate = exports.ord.contramap(exports.ordNumber, function (date) { return date.valueOf(); });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @since 2.0.0\n */\nfunction sign(n) {\n    return n <= -1 ? -1 : n >= 1 ? 1 : 0;\n}\nexports.sign = sign;\n/**\n * @since 2.0.0\n */\nexports.eqOrdering = {\n    equals: function (x, y) { return x === y; }\n};\n/**\n * Use `monoidOrdering` instead\n * @since 2.0.0\n * @deprecated\n */\nexports.semigroupOrdering = {\n    concat: function (x, y) { return (x !== 0 ? x : y); }\n};\n/**\n * @since 2.4.0\n */\nexports.monoidOrdering = {\n    // tslint:disable-next-line: deprecation\n    concat: exports.semigroupOrdering.concat,\n    empty: 0\n};\n/**\n * @since 2.0.0\n */\nfunction invert(O) {\n    switch (O) {\n        case -1:\n            return 1;\n        case 1:\n            return -1;\n        default:\n            return 0;\n    }\n}\nexports.invert = invert;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar runtime_1 = require(\"./original/runtime\");\nvar T = __importStar(require(\"./effect\"));\nvar L = __importStar(require(\"./list\"));\nvar Frame = /** @class */ (function () {\n    function Frame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n    return Frame;\n}());\nvar FoldFrame = /** @class */ (function () {\n    function FoldFrame(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n    return FoldFrame;\n}());\nvar MapFrame = /** @class */ (function () {\n    function MapFrame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n    return MapFrame;\n}());\nvar makeInterruptFrame = function (interruptStatus, prev) { return ({\n    prev: prev,\n    _tag: \"interrupt-frame\",\n    apply: function (u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion: function () {\n        interruptStatus.pop();\n    }\n}); };\nvar DriverSyncImpl = /** @class */ (function () {\n    function DriverSyncImpl(runtime) {\n        if (runtime === void 0) { runtime = runtime_1.defaultRuntime; }\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = L.empty();\n    }\n    DriverSyncImpl.prototype.set = function (a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {\n                var f = _a[_i];\n                f(a);\n            }\n        }\n    };\n    DriverSyncImpl.prototype.isComplete = function () {\n        return this.completed !== null;\n    };\n    DriverSyncImpl.prototype.complete = function (a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    DriverSyncImpl.prototype.isInterruptible = function () {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    };\n    DriverSyncImpl.prototype.handle = function (e) {\n        var _a, _b;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    };\n    DriverSyncImpl.prototype.dispatchResumeInterrupt = function () {\n        var go = this.handle(exit_1.interrupt);\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    };\n    DriverSyncImpl.prototype.resumeInterrupt = function () {\n        this.dispatchResumeInterrupt();\n    };\n    DriverSyncImpl.prototype.next = function (value) {\n        var _a;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(exit_1.done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(exit_1.done(value));\n        return;\n    };\n    DriverSyncImpl.prototype.foldResume = function (status) {\n        var _this = this;\n        fp_ts_1.either.fold(function (cause) {\n            var go = _this.handle(exit_1.raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        }, function (value) {\n            var go = _this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        })(status);\n    };\n    DriverSyncImpl.prototype.resume = function (status) {\n        this.foldResume(status);\n    };\n    // tslint:disable-next-line: cyclomatic-complexity\n    DriverSyncImpl.prototype.loop = function (go) {\n        var _this = this;\n        var current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        var env = L.isNotEmpty(this.envStack) ? L.lastUnsafe(this.envStack) : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        L.push(this.envStack, current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, function (e) {\n                            return T.effect.chain(T.sync(function () {\n                                L.popLastUnsafe(_this.envStack);\n                                return {};\n                            }), function (_) { return T.raised(e); });\n                        }, function (r) {\n                            return T.sync(function () {\n                                L.popLastUnsafe(_this.envStack);\n                                return r;\n                            });\n                        }));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (fp_ts_1.option.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (fp_ts_1.either.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(\"Die: Unrecognized current type \" + current);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    };\n    DriverSyncImpl.prototype.start = function (run) {\n        this.loop(run);\n        if (this.completed !== null) {\n            return fp_ts_1.either.right(this.completed);\n        }\n        this.interrupt();\n        return fp_ts_1.either.left(new Error(\"async operations running\"));\n    };\n    DriverSyncImpl.prototype.interrupt = function () {\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n    };\n    return DriverSyncImpl;\n}());\nexports.DriverSyncImpl = DriverSyncImpl;\n","\"use strict\";\n/*\n  based on: https://github.com/rzeigler/waveguide/blob/master/src/driver.ts\n */\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar exit_1 = require(\"./original/exit\");\nvar runtime_1 = require(\"./original/runtime\");\nvar T = __importStar(require(\"./effect\"));\nvar listc_1 = require(\"./listc\");\nvar Frame = /** @class */ (function () {\n    function Frame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"frame\";\n    }\n    return Frame;\n}());\nvar FoldFrame = /** @class */ (function () {\n    function FoldFrame(apply, recover, prev) {\n        this.apply = apply;\n        this.recover = recover;\n        this.prev = prev;\n        this._tag = \"fold-frame\";\n    }\n    return FoldFrame;\n}());\nvar MapFrame = /** @class */ (function () {\n    function MapFrame(apply, prev) {\n        this.apply = apply;\n        this.prev = prev;\n        this._tag = \"map-frame\";\n    }\n    return MapFrame;\n}());\nvar makeInterruptFrame = function (interruptStatus, prev) { return ({\n    prev: prev,\n    _tag: \"interrupt-frame\",\n    apply: function (u) {\n        interruptStatus.pop();\n        return T.Implementation.fromEffect(T.pure(u));\n    },\n    exitRegion: function () {\n        interruptStatus.pop();\n    }\n}); };\nvar DriverImpl = /** @class */ (function () {\n    function DriverImpl(runtime) {\n        if (runtime === void 0) { runtime = runtime_1.defaultRuntime; }\n        this.runtime = runtime;\n        this.completed = null;\n        this.started = false;\n        this.interrupted = false;\n        this.currentFrame = undefined;\n        this.envStack = new listc_1.DoublyLinkedList();\n    }\n    DriverImpl.prototype.set = function (a) {\n        this.completed = a;\n        if (this.listeners !== undefined) {\n            for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {\n                var f = _a[_i];\n                f(a);\n            }\n        }\n    };\n    DriverImpl.prototype.isComplete = function () {\n        return this.completed !== null;\n    };\n    DriverImpl.prototype.complete = function (a) {\n        /* istanbul ignore if */\n        if (this.completed !== null) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    DriverImpl.prototype.onExit = function (f) {\n        var _this = this;\n        if (this.completed !== null) {\n            f(this.completed);\n        }\n        if (this.listeners === undefined) {\n            this.listeners = [f];\n        }\n        else {\n            this.listeners.push(f);\n        }\n        // TODO: figure how to trigger if possible\n        /* istanbul ignore next */\n        return function () {\n            if (_this.listeners !== undefined) {\n                _this.listeners = _this.listeners.filter(function (cb) { return cb !== f; });\n            }\n        };\n    };\n    DriverImpl.prototype.exit = function () {\n        return this.completed;\n    };\n    DriverImpl.prototype.isInterruptible = function () {\n        return this.interruptRegionStack !== undefined && this.interruptRegionStack.length > 0\n            ? this.interruptRegionStack[this.interruptRegionStack.length - 1]\n            : true;\n    };\n    DriverImpl.prototype.handle = function (e) {\n        var _a, _b;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        while (frame) {\n            if (frame._tag === \"fold-frame\" && (e._tag !== \"Interrupt\" || !this.isInterruptible())) {\n                return frame.recover(e);\n            }\n            // We need to make sure we leave an interrupt region or environment provision region while unwinding on errors\n            if (frame._tag === \"interrupt-frame\") {\n                frame.exitRegion();\n            }\n            frame = this.currentFrame;\n            this.currentFrame = (_b = this.currentFrame) === null || _b === void 0 ? void 0 : _b.prev;\n        }\n        // At the end... so we have failed\n        this.complete(e);\n        return;\n    };\n    DriverImpl.prototype.dispatchResumeInterrupt = function (err) {\n        var go = this.handle(exit_1.interruptWithError(err));\n        if (go) {\n            // eslint-disable-next-line\n            this.loop(go);\n        }\n    };\n    DriverImpl.prototype.resumeInterrupt = function (err) {\n        this.runtime.dispatch(this.dispatchResumeInterrupt.bind(this), err);\n    };\n    DriverImpl.prototype.next = function (value) {\n        var _a;\n        var frame = this.currentFrame;\n        this.currentFrame = (_a = this.currentFrame) === null || _a === void 0 ? void 0 : _a.prev;\n        if (frame) {\n            switch (frame._tag) {\n                case \"map-frame\": {\n                    if (this.currentFrame === undefined) {\n                        this.complete(exit_1.done(frame.apply(value)));\n                        return;\n                    }\n                    return new T.Implementation(T.EffectTag.Pure, frame.apply(value));\n                }\n                default:\n                    return frame.apply(value);\n            }\n        }\n        this.complete(exit_1.done(value));\n        return;\n    };\n    DriverImpl.prototype.foldResume = function (status) {\n        var _this = this;\n        fp_ts_1.either.fold(function (cause) {\n            var go = _this.handle(exit_1.raise(cause));\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        }, function (value) {\n            var go = _this.next(value);\n            if (go) {\n                /* eslint-disable-next-line */\n                _this.loop(go);\n            }\n        })(status);\n    };\n    DriverImpl.prototype.resume = function (status) {\n        this.cancelAsync = undefined;\n        this.runtime.dispatch(this.foldResume.bind(this), status);\n    };\n    DriverImpl.prototype.contextSwitch = function (op) {\n        var _this = this;\n        var complete = false;\n        var wrappedCancel = op(function (status) {\n            if (complete) {\n                return;\n            }\n            complete = true;\n            _this.resume(status);\n        });\n        this.cancelAsync = function (cb) {\n            complete = true;\n            wrappedCancel(function (err) {\n                cb(err);\n            });\n        };\n    };\n    // tslint:disable-next-line: cyclomatic-complexity\n    DriverImpl.prototype.loop = function (go) {\n        var _this = this;\n        var current = go;\n        while (current && (!this.interrupted || !this.isInterruptible())) {\n            try {\n                switch (current._tag) {\n                    case T.EffectTag.AccessEnv:\n                        var env = !this.envStack.empty() ? this.envStack.tail.value : {};\n                        current = this.next(env);\n                        break;\n                    case T.EffectTag.ProvideEnv:\n                        this.envStack.append(current.f1);\n                        current = T.Implementation.fromEffect(T.effect.foldExit(current.f0, function (e) {\n                            return T.effect.chain(T.sync(function () {\n                                _this.envStack.deleteTail();\n                                return {};\n                            }), function (_) { return T.raised(e); });\n                        }, function (r) {\n                            return T.sync(function () {\n                                _this.envStack.deleteTail();\n                                return r;\n                            });\n                        }));\n                        break;\n                    case T.EffectTag.Pure:\n                        current = this.next(current.f0);\n                        break;\n                    case T.EffectTag.PureOption: {\n                        if (fp_ts_1.option.isSome(current.f0)) {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f1()));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.PureEither: {\n                        if (fp_ts_1.either.isRight(current.f0)) {\n                            current = this.next(current.f0.right);\n                        }\n                        else {\n                            current = this.handle(exit_1.raise(current.f0.left));\n                        }\n                        break;\n                    }\n                    case T.EffectTag.Raised:\n                        if (current.f0._tag === \"Interrupt\") {\n                            this.interrupted = true;\n                        }\n                        current = this.handle(current.f0);\n                        break;\n                    case T.EffectTag.Completed:\n                        if (current.f0._tag === \"Done\") {\n                            current = this.next(current.f0.value);\n                        }\n                        else {\n                            current = this.handle(current.f0);\n                        }\n                        break;\n                    case T.EffectTag.Suspended:\n                        current = current.f0();\n                        break;\n                    case T.EffectTag.Async:\n                        this.contextSwitch(current.f0);\n                        current = undefined;\n                        break;\n                    case T.EffectTag.Chain:\n                        this.currentFrame = new Frame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Map:\n                        this.currentFrame = new MapFrame(current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.Collapse:\n                        this.currentFrame = new FoldFrame(current.f2, current.f1, this.currentFrame);\n                        current = current.f0;\n                        break;\n                    case T.EffectTag.InterruptibleRegion:\n                        if (this.interruptRegionStack === undefined) {\n                            this.interruptRegionStack = [current.f0];\n                        }\n                        else {\n                            this.interruptRegionStack.push(current.f0);\n                        }\n                        this.currentFrame = makeInterruptFrame(this.interruptRegionStack, this.currentFrame);\n                        current = current.f1;\n                        break;\n                    case T.EffectTag.AccessRuntime:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.runtime)));\n                        break;\n                    case T.EffectTag.AccessInterruptible:\n                        current = T.Implementation.fromEffect(T.pure(current.f0(this.isInterruptible())));\n                        break;\n                    default:\n                        /* istanbul ignore next */\n                        throw new Error(\"Die: Unrecognized current type \" + current);\n                }\n            }\n            catch (e) {\n                current = T.Implementation.fromEffect(T.raiseAbort(e));\n            }\n        }\n        // If !current then the interrupt came to late and we completed everything\n        if (this.interrupted && current) {\n            this.resumeInterrupt();\n        }\n    };\n    DriverImpl.prototype.start = function (run) {\n        if (this.started) {\n            /* istanbul ignore next */\n            throw new Error(\"Bug: Runtime may not be started multiple times\");\n        }\n        this.started = true;\n        this.runtime.dispatch(this.loop.bind(this), run);\n    };\n    DriverImpl.prototype.interrupt = function () {\n        var _this = this;\n        if (this.interrupted || this.isComplete()) {\n            return;\n        }\n        this.interrupted = true;\n        if (this.cancelAsync && this.isInterruptible()) {\n            this.cancelAsync(function (err) {\n                _this.resumeInterrupt(err);\n            });\n        }\n    };\n    return DriverImpl;\n}());\nexports.DriverImpl = DriverImpl;\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\n/* istanbul ignore file */\n// Some utilities\nfunction tuple2(a, b) {\n    return [a, b];\n}\nexports.tuple2 = tuple2;\nfunction fst(a) {\n    // eslint-disable-line no-unused-vars\n    return a;\n}\nexports.fst = fst;\nfunction snd(_, b) {\n    return b;\n}\nexports.snd = snd;\n","\"use strict\";\nexports.__esModule = true;\nvar EffectTag;\n(function (EffectTag) {\n    EffectTag[EffectTag[\"Pure\"] = 0] = \"Pure\";\n    EffectTag[EffectTag[\"PureOption\"] = 1] = \"PureOption\";\n    EffectTag[EffectTag[\"PureEither\"] = 2] = \"PureEither\";\n    EffectTag[EffectTag[\"Raised\"] = 3] = \"Raised\";\n    EffectTag[EffectTag[\"Completed\"] = 4] = \"Completed\";\n    EffectTag[EffectTag[\"Suspended\"] = 5] = \"Suspended\";\n    EffectTag[EffectTag[\"Async\"] = 6] = \"Async\";\n    EffectTag[EffectTag[\"Chain\"] = 7] = \"Chain\";\n    EffectTag[EffectTag[\"Collapse\"] = 8] = \"Collapse\";\n    EffectTag[EffectTag[\"InterruptibleRegion\"] = 9] = \"InterruptibleRegion\";\n    EffectTag[EffectTag[\"AccessInterruptible\"] = 10] = \"AccessInterruptible\";\n    EffectTag[EffectTag[\"AccessRuntime\"] = 11] = \"AccessRuntime\";\n    EffectTag[EffectTag[\"AccessEnv\"] = 12] = \"AccessEnv\";\n    EffectTag[EffectTag[\"ProvideEnv\"] = 13] = \"ProvideEnv\";\n    EffectTag[EffectTag[\"Map\"] = 14] = \"Map\";\n})(EffectTag = exports.EffectTag || (exports.EffectTag = {}));\n","\"use strict\";\n// Copyright 2019 Ryan Zeigler\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.__esModule = true;\nvar fp_ts_1 = require(\"fp-ts\");\nvar CompletableImpl = /** @class */ (function () {\n    function CompletableImpl() {\n        this.completed = fp_ts_1.option.none;\n        this.listeners = [];\n    }\n    CompletableImpl.prototype.set = function (a) {\n        this.completed = fp_ts_1.option.some(a);\n        this.listeners.forEach(function (f) { return f(a); });\n    };\n    CompletableImpl.prototype.value = function () {\n        return this.completed;\n    };\n    CompletableImpl.prototype.isComplete = function () {\n        return fp_ts_1.option.isSome(this.completed);\n    };\n    CompletableImpl.prototype.complete = function (a) {\n        if (fp_ts_1.option.isSome(this.completed)) {\n            throw new Error(\"Die: Completable is already completed\");\n        }\n        this.set(a);\n    };\n    CompletableImpl.prototype.tryComplete = function (a) {\n        if (fp_ts_1.option.isSome(this.completed)) {\n            return false;\n        }\n        this.set(a);\n        return true;\n    };\n    CompletableImpl.prototype.listen = function (f) {\n        var _this = this;\n        if (fp_ts_1.option.isSome(this.completed)) {\n            f(this.completed.value);\n        }\n        this.listeners.push(f);\n        return function (cb) {\n            _this.listeners = _this.listeners.filter(function (cb) { return cb !== f; });\n            cb();\n        };\n    };\n    return CompletableImpl;\n}());\nexports.CompletableImpl = CompletableImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Array_1 = require(\"./Array\");\nvar Eq_1 = require(\"./Eq\");\nvar function_1 = require(\"./function\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Tree';\n/**\n * @since 2.0.0\n */\nfunction make(value, forest) {\n    if (forest === void 0) { forest = Array_1.empty; }\n    return {\n        value: value,\n        forest: forest\n    };\n}\nexports.make = make;\n/**\n * @since 2.0.0\n */\nfunction getShow(S) {\n    var show = function (t) {\n        return t.forest === Array_1.empty || t.forest.length === 0\n            ? \"make(\" + S.show(t.value) + \")\"\n            : \"make(\" + S.show(t.value) + \", [\" + t.forest.map(show).join(', ') + \"])\";\n    };\n    return {\n        show: show\n    };\n}\nexports.getShow = getShow;\n/**\n * @since 2.0.0\n */\nfunction getEq(E) {\n    var SA;\n    var R = Eq_1.fromEquals(function (x, y) { return E.equals(x.value, y.value) && SA.equals(x.forest, y.forest); });\n    SA = Array_1.getEq(R);\n    return R;\n}\nexports.getEq = getEq;\nvar draw = function (indentation, forest) {\n    var r = '';\n    var len = forest.length;\n    var tree;\n    for (var i = 0; i < len; i++) {\n        tree = forest[i];\n        var isLast = i === len - 1;\n        r += indentation + (isLast ? '' : '') + ' ' + tree.value;\n        r += draw(indentation + (len > 1 && !isLast ? '  ' : '   '), tree.forest);\n    }\n    return r;\n};\n/**\n * Neat 2-dimensional drawing of a forest\n *\n * @since 2.0.0\n */\nfunction drawForest(forest) {\n    return draw('\\n', forest);\n}\nexports.drawForest = drawForest;\n/**\n * Neat 2-dimensional drawing of a tree\n *\n * @example\n * import { make, drawTree, tree } from 'fp-ts/lib/Tree'\n *\n * const fa = make('a', [\n *   tree.of('b'),\n *   tree.of('c'),\n *   make('d', [tree.of('e'), tree.of('f')])\n * ])\n *\n * assert.strictEqual(drawTree(fa), `a\n *  b\n *  c\n *  d\n *     e\n *     f`)\n *\n *\n * @since 2.0.0\n */\nfunction drawTree(tree) {\n    return tree.value + drawForest(tree.forest);\n}\nexports.drawTree = drawTree;\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nfunction unfoldTree(b, f) {\n    var _a = f(b), a = _a[0], bs = _a[1];\n    return { value: a, forest: unfoldForest(bs, f) };\n}\nexports.unfoldTree = unfoldTree;\n/**\n * Build a tree from a seed value\n *\n * @since 2.0.0\n */\nfunction unfoldForest(bs, f) {\n    return bs.map(function (b) { return unfoldTree(b, f); });\n}\nexports.unfoldForest = unfoldForest;\nfunction unfoldTreeM(M) {\n    var unfoldForestMM = unfoldForestM(M);\n    return function (b, f) { return M.chain(f(b), function (_a) {\n        var a = _a[0], bs = _a[1];\n        return M.chain(unfoldForestMM(bs, f), function (ts) { return M.of({ value: a, forest: ts }); });\n    }); };\n}\nexports.unfoldTreeM = unfoldTreeM;\nfunction unfoldForestM(M) {\n    var traverseM = Array_1.array.traverse(M);\n    return function (bs, f) { return traverseM(bs, function (b) { return unfoldTreeM(M)(b, f); }); };\n}\nexports.unfoldForestM = unfoldForestM;\n/**\n * @since 2.0.0\n */\nfunction elem(E) {\n    var go = function (a, fa) {\n        if (E.equals(a, fa.value)) {\n            return true;\n        }\n        return fa.forest.some(function (tree) { return go(a, tree); });\n    };\n    return go;\n}\nexports.elem = elem;\n/**\n * @since 2.0.0\n */\nexports.tree = {\n    URI: exports.URI,\n    map: function (fa, f) { return ({\n        value: f(fa.value),\n        forest: fa.forest.map(function (t) { return exports.tree.map(t, f); })\n    }); },\n    of: function (a) { return ({\n        value: a,\n        forest: Array_1.empty\n    }); },\n    ap: function (fab, fa) { return exports.tree.chain(fab, function (f) { return exports.tree.map(fa, f); }); },\n    chain: function (fa, f) {\n        var _a = f(fa.value), value = _a.value, forest = _a.forest;\n        var concat = Array_1.getMonoid().concat;\n        return {\n            value: value,\n            forest: concat(forest, fa.forest.map(function (t) { return exports.tree.chain(t, f); }))\n        };\n    },\n    reduce: function (fa, b, f) {\n        var r = f(b, fa.value);\n        var len = fa.forest.length;\n        for (var i = 0; i < len; i++) {\n            r = exports.tree.reduce(fa.forest[i], r, f);\n        }\n        return r;\n    },\n    foldMap: function (M) { return function (fa, f) { return exports.tree.reduce(fa, M.empty, function (acc, a) { return M.concat(acc, f(a)); }); }; },\n    reduceRight: function (fa, b, f) {\n        var r = b;\n        var len = fa.forest.length;\n        for (var i = len - 1; i >= 0; i--) {\n            r = exports.tree.reduceRight(fa.forest[i], r, f);\n        }\n        return f(fa.value, r);\n    },\n    traverse: function (F) {\n        var traverseF = Array_1.array.traverse(F);\n        var r = function (ta, f) {\n            return F.ap(F.map(f(ta.value), function (value) { return function (forest) { return ({\n                value: value,\n                forest: forest\n            }); }; }), traverseF(ta.forest, function (t) { return r(t, f); }));\n        };\n        return r;\n    },\n    sequence: function (F) {\n        var traverseF = exports.tree.traverse(F);\n        return function (ta) { return traverseF(ta, function_1.identity); };\n    },\n    extract: function (wa) { return wa.value; },\n    extend: function (wa, f) { return ({\n        value: f(wa),\n        forest: wa.forest.map(function (t) { return exports.tree.extend(t, f); })\n    }); }\n};\nvar _a = pipeable_1.pipeable(exports.tree), ap = _a.ap, apFirst = _a.apFirst, apSecond = _a.apSecond, chain = _a.chain, chainFirst = _a.chainFirst, duplicate = _a.duplicate, extend = _a.extend, flatten = _a.flatten, foldMap = _a.foldMap, map = _a.map, reduce = _a.reduce, reduceRight = _a.reduceRight;\nexports.ap = ap;\nexports.apFirst = apFirst;\nexports.apSecond = apSecond;\nexports.chain = chain;\nexports.chainFirst = chainFirst;\nexports.duplicate = duplicate;\nexports.extend = extend;\nexports.flatten = flatten;\nexports.foldMap = foldMap;\nexports.map = map;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pipeable_1 = require(\"./pipeable\");\nvar RR = require(\"./ReadonlyRecord\");\n/**\n * @since 2.0.0\n */\nexports.URI = 'Record';\n/**\n * @since 2.0.0\n */\nexports.getShow = RR.getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.0.0\n */\nexports.size = RR.size;\n/**\n * Test whether a record is empty\n *\n * @since 2.0.0\n */\nexports.isEmpty = RR.isEmpty;\n/**\n * @since 2.0.0\n */\nexports.keys = RR.keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/Record'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.0.0\n */\nexports.collect = RR.collect;\n/**\n * @since 2.0.0\n */\nexports.toArray = RR.toReadonlyArray;\nfunction toUnfoldable(U) {\n    return RR.toUnfoldable(U);\n}\nexports.toUnfoldable = toUnfoldable;\nfunction insertAt(k, a) {\n    return RR.insertAt(k, a);\n}\nexports.insertAt = insertAt;\n/**\n * @since 2.0.0\n */\nexports.hasOwnProperty = RR.hasOwnProperty;\nfunction deleteAt(k) {\n    return RR.deleteAt(k);\n}\nexports.deleteAt = deleteAt;\n/**\n * @since 2.0.0\n */\nexports.updateAt = RR.updateAt;\n/**\n * @since 2.0.0\n */\nexports.modifyAt = RR.modifyAt;\nfunction pop(k) {\n    return RR.pop(k);\n}\nexports.pop = pop;\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.0.0\n */\nexports.isSubrecord = RR.isSubrecord;\nfunction getEq(E) {\n    return RR.getEq(E);\n}\nexports.getEq = getEq;\nfunction getMonoid(S) {\n    return RR.getMonoid(S);\n}\nexports.getMonoid = getMonoid;\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.0.0\n */\nexports.lookup = RR.lookup;\n/**\n * @since 2.0.0\n */\nexports.empty = {};\nfunction mapWithIndex(f) {\n    return RR.mapWithIndex(f);\n}\nexports.mapWithIndex = mapWithIndex;\nfunction map(f) {\n    return RR.map(f);\n}\nexports.map = map;\nfunction reduceWithIndex(b, f) {\n    return RR.reduceWithIndex(b, f);\n}\nexports.reduceWithIndex = reduceWithIndex;\nfunction foldMapWithIndex(M) {\n    return RR.foldMapWithIndex(M);\n}\nexports.foldMapWithIndex = foldMapWithIndex;\nfunction reduceRightWithIndex(b, f) {\n    return RR.reduceRightWithIndex(b, f);\n}\nexports.reduceRightWithIndex = reduceRightWithIndex;\n/**\n * Create a record with one key/value pair\n *\n * @since 2.0.0\n */\nexports.singleton = RR.singleton;\nfunction traverseWithIndex(F) {\n    return RR.traverseWithIndex(F);\n}\nexports.traverseWithIndex = traverseWithIndex;\nfunction traverse(F) {\n    return RR.traverse(F);\n}\nexports.traverse = traverse;\nfunction sequence(F) {\n    return RR.sequence(F);\n}\nexports.sequence = sequence;\nfunction partitionMapWithIndex(f) {\n    return RR.partitionMapWithIndex(f);\n}\nexports.partitionMapWithIndex = partitionMapWithIndex;\nfunction partitionWithIndex(predicateWithIndex) {\n    return RR.partitionWithIndex(predicateWithIndex);\n}\nexports.partitionWithIndex = partitionWithIndex;\nfunction filterMapWithIndex(f) {\n    return RR.filterMapWithIndex(f);\n}\nexports.filterMapWithIndex = filterMapWithIndex;\nfunction filterWithIndex(predicateWithIndex) {\n    return RR.filterWithIndex(predicateWithIndex);\n}\nexports.filterWithIndex = filterWithIndex;\nfunction fromFoldable(M, F) {\n    return RR.fromFoldable(M, F);\n}\nexports.fromFoldable = fromFoldable;\nfunction fromFoldableMap(M, F) {\n    return RR.fromFoldableMap(M, F);\n}\nexports.fromFoldableMap = fromFoldableMap;\n/**\n * @since 2.0.0\n */\nexports.every = RR.every;\n/**\n * @since 2.0.0\n */\nexports.some = RR.some;\n/**\n * @since 2.0.0\n */\nexports.elem = RR.elem;\n/**\n * @since 2.0.0\n */\nexports.record = {\n    URI: exports.URI,\n    map: RR.readonlyRecord.map,\n    reduce: RR.readonlyRecord.reduce,\n    foldMap: RR.readonlyRecord.foldMap,\n    reduceRight: RR.readonlyRecord.reduceRight,\n    traverse: RR.readonlyRecord.traverse,\n    sequence: sequence,\n    compact: RR.readonlyRecord.compact,\n    separate: RR.readonlyRecord.separate,\n    filter: RR.readonlyRecord.filter,\n    filterMap: RR.readonlyRecord.filterMap,\n    partition: RR.readonlyRecord.partition,\n    partitionMap: RR.readonlyRecord.partitionMap,\n    wither: RR.readonlyRecord.wither,\n    wilt: RR.readonlyRecord.wilt,\n    mapWithIndex: RR.readonlyRecord.mapWithIndex,\n    reduceWithIndex: RR.readonlyRecord.reduceWithIndex,\n    foldMapWithIndex: RR.readonlyRecord.foldMapWithIndex,\n    reduceRightWithIndex: RR.readonlyRecord.reduceRightWithIndex,\n    traverseWithIndex: RR.readonlyRecord.traverseWithIndex,\n    partitionMapWithIndex: RR.readonlyRecord.partitionMapWithIndex,\n    partitionWithIndex: RR.readonlyRecord.partitionWithIndex,\n    filterMapWithIndex: RR.readonlyRecord.filterMapWithIndex,\n    filterWithIndex: RR.readonlyRecord.filterWithIndex\n};\nvar _a = pipeable_1.pipeable(exports.record), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.foldMap = foldMap;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Eq_1 = require(\"./Eq\");\nvar function_1 = require(\"./function\");\nvar Option_1 = require(\"./Option\");\nvar pipeable_1 = require(\"./pipeable\");\n/**\n * @since 2.5.0\n */\nexports.URI = 'ReadonlyRecord';\n/**\n * @since 2.5.0\n */\nfunction fromRecord(r) {\n    return Object.assign({}, r);\n}\nexports.fromRecord = fromRecord;\n/**\n * @since 2.5.0\n */\nfunction toRecord(r) {\n    return Object.assign({}, r);\n}\nexports.toRecord = toRecord;\n/**\n * @since 2.5.0\n */\nfunction getShow(S) {\n    return {\n        show: function (r) {\n            var elements = collect(function (k, a) { return JSON.stringify(k) + \": \" + S.show(a); })(r).join(', ');\n            return elements === '' ? '{}' : \"{ \" + elements + \" }\";\n        }\n    };\n}\nexports.getShow = getShow;\n/**\n * Calculate the number of key/value pairs in a record\n *\n * @since 2.5.0\n */\nfunction size(r) {\n    return Object.keys(r).length;\n}\nexports.size = size;\n/**\n * Test whether a record is empty\n *\n * @since 2.5.0\n */\nfunction isEmpty(r) {\n    return Object.keys(r).length === 0;\n}\nexports.isEmpty = isEmpty;\n/**\n * @since 2.5.0\n */\nfunction keys(r) {\n    return Object.keys(r).sort();\n}\nexports.keys = keys;\n/**\n * Map a record into an array\n *\n * @example\n * import {collect} from 'fp-ts/lib/ReadonlyRecord'\n *\n * const x: { a: string, b: boolean } = { a: 'foo', b: false }\n * assert.deepStrictEqual(\n *   collect((key, val) => ({key: key, value: val}))(x),\n *   [{key: 'a', value: 'foo'}, {key: 'b', value: false}]\n * )\n *\n * @since 2.5.0\n */\nfunction collect(f) {\n    return function (r) {\n        // tslint:disable-next-line: readonly-array\n        var out = [];\n        for (var _i = 0, _a = keys(r); _i < _a.length; _i++) {\n            var key = _a[_i];\n            out.push(f(key, r[key]));\n        }\n        return out;\n    };\n}\nexports.collect = collect;\n/**\n * @since 2.5.0\n */\nexports.toReadonlyArray = collect(function (k, a) { return [k, a]; });\nfunction toUnfoldable(U) {\n    return function (r) {\n        var arr = exports.toReadonlyArray(r);\n        var len = arr.length;\n        return U.unfold(0, function (b) { return (b < len ? Option_1.some([arr[b], b + 1]) : Option_1.none); });\n    };\n}\nexports.toUnfoldable = toUnfoldable;\nfunction insertAt(k, a) {\n    return function (r) {\n        if (r[k] === a) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return out;\n    };\n}\nexports.insertAt = insertAt;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 2.5.0\n */\nfunction hasOwnProperty(k, r) {\n    return _hasOwnProperty.call(r, k);\n}\nexports.hasOwnProperty = hasOwnProperty;\nfunction deleteAt(k) {\n    return function (r) {\n        if (!_hasOwnProperty.call(r, k)) {\n            return r;\n        }\n        var out = Object.assign({}, r);\n        delete out[k];\n        return out;\n    };\n}\nexports.deleteAt = deleteAt;\n/**\n * @since 2.5.0\n */\nfunction updateAt(k, a) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return Option_1.none;\n        }\n        if (r[k] === a) {\n            return Option_1.some(r);\n        }\n        var out = Object.assign({}, r);\n        out[k] = a;\n        return Option_1.some(out);\n    };\n}\nexports.updateAt = updateAt;\n/**\n * @since 2.5.0\n */\nfunction modifyAt(k, f) {\n    return function (r) {\n        if (!hasOwnProperty(k, r)) {\n            return Option_1.none;\n        }\n        var out = Object.assign({}, r);\n        out[k] = f(r[k]);\n        return Option_1.some(out);\n    };\n}\nexports.modifyAt = modifyAt;\nfunction pop(k) {\n    var deleteAtk = deleteAt(k);\n    return function (r) {\n        var oa = lookup(k, r);\n        return Option_1.isNone(oa) ? Option_1.none : Option_1.some([oa.value, deleteAtk(r)]);\n    };\n}\nexports.pop = pop;\n/**\n * Test whether one record contains all of the keys and values contained in another record\n *\n * @since 2.5.0\n */\nfunction isSubrecord(E) {\n    return function (x, y) {\n        for (var k in x) {\n            if (!_hasOwnProperty.call(y, k) || !E.equals(x[k], y[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.isSubrecord = isSubrecord;\nfunction getEq(E) {\n    var isSubrecordE = isSubrecord(E);\n    return Eq_1.fromEquals(function (x, y) { return isSubrecordE(x, y) && isSubrecordE(y, x); });\n}\nexports.getEq = getEq;\nfunction getMonoid(S) {\n    return {\n        concat: function (x, y) {\n            if (x === exports.empty) {\n                return y;\n            }\n            if (y === exports.empty) {\n                return x;\n            }\n            var keys = Object.keys(y);\n            var len = keys.length;\n            if (len === 0) {\n                return x;\n            }\n            var r = __assign({}, x);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                r[k] = _hasOwnProperty.call(x, k) ? S.concat(x[k], y[k]) : y[k];\n            }\n            return r;\n        },\n        empty: exports.empty\n    };\n}\nexports.getMonoid = getMonoid;\n/**\n * Lookup the value for a key in a record\n *\n * @since 2.5.0\n */\nfunction lookup(k, r) {\n    return _hasOwnProperty.call(r, k) ? Option_1.some(r[k]) : Option_1.none;\n}\nexports.lookup = lookup;\n/**\n * @since 2.5.0\n */\nexports.empty = {};\nfunction mapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.mapWithIndex(fa, f); };\n}\nexports.mapWithIndex = mapWithIndex;\nfunction map(f) {\n    return mapWithIndex(function (_, a) { return f(a); });\n}\nexports.map = map;\nfunction reduceWithIndex(b, f) {\n    return function (fa) { return exports.readonlyRecord.reduceWithIndex(fa, b, f); };\n}\nexports.reduceWithIndex = reduceWithIndex;\nfunction foldMapWithIndex(M) {\n    var foldMapWithIndexM = exports.readonlyRecord.foldMapWithIndex(M);\n    return function (f) { return function (fa) { return foldMapWithIndexM(fa, f); }; };\n}\nexports.foldMapWithIndex = foldMapWithIndex;\nfunction reduceRightWithIndex(b, f) {\n    return function (fa) { return exports.readonlyRecord.reduceRightWithIndex(fa, b, f); };\n}\nexports.reduceRightWithIndex = reduceRightWithIndex;\n/**\n * Create a record with one key/value pair\n *\n * @since 2.5.0\n */\nfunction singleton(k, a) {\n    var _a;\n    return _a = {}, _a[k] = a, _a;\n}\nexports.singleton = singleton;\nfunction traverseWithIndex(F) {\n    var traverseWithIndexF = exports.readonlyRecord.traverseWithIndex(F);\n    return function (f) { return function (ta) { return traverseWithIndexF(ta, f); }; };\n}\nexports.traverseWithIndex = traverseWithIndex;\nfunction traverse(F) {\n    var traverseWithIndexF = traverseWithIndex(F);\n    return function (f) { return traverseWithIndexF(function (_, a) { return f(a); }); };\n}\nexports.traverse = traverse;\nfunction sequence(F) {\n    return traverseWithIndex(F)(function (_, a) { return a; });\n}\nexports.sequence = sequence;\nfunction partitionMapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.partitionMapWithIndex(fa, f); };\n}\nexports.partitionMapWithIndex = partitionMapWithIndex;\nfunction partitionWithIndex(predicateWithIndex) {\n    return function (fa) { return exports.readonlyRecord.partitionWithIndex(fa, predicateWithIndex); };\n}\nexports.partitionWithIndex = partitionWithIndex;\nfunction filterMapWithIndex(f) {\n    return function (fa) { return exports.readonlyRecord.filterMapWithIndex(fa, f); };\n}\nexports.filterMapWithIndex = filterMapWithIndex;\nfunction filterWithIndex(predicateWithIndex) {\n    return function (fa) { return exports.readonlyRecord.filterWithIndex(fa, predicateWithIndex); };\n}\nexports.filterWithIndex = filterWithIndex;\nfunction fromFoldable(M, F) {\n    var fromFoldableMapM = fromFoldableMap(M, F);\n    return function (fka) { return fromFoldableMapM(fka, function_1.identity); };\n}\nexports.fromFoldable = fromFoldable;\nfunction fromFoldableMap(M, F) {\n    return function (ta, f) {\n        return F.reduce(ta, {}, function (r, a) {\n            var _a = f(a), k = _a[0], b = _a[1];\n            r[k] = _hasOwnProperty.call(r, k) ? M.concat(r[k], b) : b;\n            return r;\n        });\n    };\n}\nexports.fromFoldableMap = fromFoldableMap;\n/**\n * @since 2.5.0\n */\nfunction every(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (!predicate(r[k])) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nexports.every = every;\n/**\n * @since 2.5.0\n */\nfunction some(predicate) {\n    return function (r) {\n        for (var k in r) {\n            if (predicate(r[k])) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.some = some;\n/**\n * @since 2.5.0\n */\nfunction elem(E) {\n    return function (a, fa) {\n        for (var k in fa) {\n            if (E.equals(fa[k], a)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.elem = elem;\n/**\n * @since 2.5.0\n */\nexports.readonlyRecord = {\n    URI: exports.URI,\n    map: function (fa, f) { return exports.readonlyRecord.mapWithIndex(fa, function (_, a) { return f(a); }); },\n    reduce: function (fa, b, f) { return exports.readonlyRecord.reduceWithIndex(fa, b, function (_, b, a) { return f(b, a); }); },\n    foldMap: function (M) {\n        var foldMapWithIndexM = exports.readonlyRecord.foldMapWithIndex(M);\n        return function (fa, f) { return foldMapWithIndexM(fa, function (_, a) { return f(a); }); };\n    },\n    reduceRight: function (fa, b, f) { return exports.readonlyRecord.reduceRightWithIndex(fa, b, function (_, a, b) { return f(a, b); }); },\n    traverse: function (F) {\n        var traverseWithIndexF = exports.readonlyRecord.traverseWithIndex(F);\n        return function (ta, f) { return traverseWithIndexF(ta, function (_, a) { return f(a); }); };\n    },\n    sequence: sequence,\n    compact: function (fa) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var optionA = fa[key];\n            if (Option_1.isSome(optionA)) {\n                r[key] = optionA.value;\n            }\n        }\n        return r;\n    },\n    separate: function (fa) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var e = fa[key];\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filter: function (fa, predicate) {\n        return exports.readonlyRecord.filterWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    filterMap: function (fa, f) { return exports.readonlyRecord.filterMapWithIndex(fa, function (_, a) { return f(a); }); },\n    partition: function (fa, predicate) {\n        return exports.readonlyRecord.partitionWithIndex(fa, function (_, a) { return predicate(a); });\n    },\n    partitionMap: function (fa, f) { return exports.readonlyRecord.partitionMapWithIndex(fa, function (_, a) { return f(a); }); },\n    wither: function (F) {\n        var traverseF = exports.readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyRecord.compact); };\n    },\n    wilt: function (F) {\n        var traverseF = exports.readonlyRecord.traverse(F);\n        return function (wa, f) { return F.map(traverseF(wa, f), exports.readonlyRecord.separate); };\n    },\n    mapWithIndex: function (fa, f) {\n        var out = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n            var key = keys_3[_i];\n            out[key] = f(key, fa[key]);\n        }\n        return out;\n    },\n    reduceWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = f(k, out, fa[k]);\n        }\n        return out;\n    },\n    foldMapWithIndex: function (M) { return function (fa, f) {\n        var out = M.empty;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            out = M.concat(out, f(k, fa[k]));\n        }\n        return out;\n    }; },\n    reduceRightWithIndex: function (fa, b, f) {\n        var out = b;\n        var keys = Object.keys(fa).sort();\n        var len = keys.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var k = keys[i];\n            out = f(k, fa[k], out);\n        }\n        return out;\n    },\n    traverseWithIndex: function (F) { return function (ta, f) {\n        var keys = Object.keys(ta);\n        if (keys.length === 0) {\n            return F.of(exports.empty);\n        }\n        var fr = F.of({});\n        var _loop_1 = function (key) {\n            fr = F.ap(F.map(fr, function (r) { return function (b) {\n                r[key] = b;\n                return r;\n            }; }), f(key, ta[key]));\n        };\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var key = keys_4[_i];\n            _loop_1(key);\n        }\n        return fr;\n    }; },\n    partitionMapWithIndex: function (fa, f) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\n            var key = keys_5[_i];\n            var e = f(key, fa[key]);\n            switch (e._tag) {\n                case 'Left':\n                    left[key] = e.left;\n                    break;\n                case 'Right':\n                    right[key] = e.right;\n                    break;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    partitionWithIndex: function (fa, predicateWithIndex) {\n        var left = {};\n        var right = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_6 = keys; _i < keys_6.length; _i++) {\n            var key = keys_6[_i];\n            var a = fa[key];\n            if (predicateWithIndex(key, a)) {\n                right[key] = a;\n            }\n            else {\n                left[key] = a;\n            }\n        }\n        return {\n            left: left,\n            right: right\n        };\n    },\n    filterMapWithIndex: function (fa, f) {\n        var r = {};\n        var keys = Object.keys(fa);\n        for (var _i = 0, keys_7 = keys; _i < keys_7.length; _i++) {\n            var key = keys_7[_i];\n            var optionB = f(key, fa[key]);\n            if (Option_1.isSome(optionB)) {\n                r[key] = optionB.value;\n            }\n        }\n        return r;\n    },\n    filterWithIndex: function (fa, predicateWithIndex) {\n        var out = {};\n        var changed = false;\n        for (var key in fa) {\n            if (_hasOwnProperty.call(fa, key)) {\n                var a = fa[key];\n                if (predicateWithIndex(key, a)) {\n                    out[key] = a;\n                }\n                else {\n                    changed = true;\n                }\n            }\n        }\n        return changed ? out : fa;\n    }\n};\nvar _a = pipeable_1.pipeable(exports.readonlyRecord), filter = _a.filter, filterMap = _a.filterMap, foldMap = _a.foldMap, partition = _a.partition, partitionMap = _a.partitionMap, reduce = _a.reduce, reduceRight = _a.reduceRight, compact = _a.compact, separate = _a.separate;\nexports.filter = filter;\nexports.filterMap = filterMap;\nexports.foldMap = foldMap;\nexports.partition = partition;\nexports.partitionMap = partitionMap;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.compact = compact;\nexports.separate = separate;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar T = __importStar(require(\"./effect\"));\n/* tested in wave */\n/* istanbul ignore next */\nexports.natNumber = function (msg) { return function (n) {\n    return n < 0 || Math.round(n) !== n ? T.raiseAbort(msg) : T.unit;\n}; };\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar S = __importStar(require(\"./stream\"));\nvar Sink = __importStar(require(\"./sink\"));\nvar Q = __importStar(require(\"../queue\"));\nvar T = __importStar(require(\"../effect\"));\nvar M = __importStar(require(\"../managed\"));\nvar Option_1 = require(\"fp-ts/lib/Option\");\nvar pipeable_1 = require(\"fp-ts/lib/pipeable\");\nvar Do_1 = require(\"fp-ts-contrib/lib/Do\");\nvar support_1 = require(\"./support\");\nfunction subject(_) {\n    var listeners = new Map();\n    function next(_) {\n        listeners.forEach(function (f) {\n            f(_);\n        });\n    }\n    return Do_1.Do(T.effect)\n        .bind(\"q\", Q.unboundedQueue())\n        .bindL(\"into\", function (_a) {\n        var q = _a.q;\n        return pipeable_1.pipe(_, S.into(Sink.queueOptionSink(q)), T.chainError(function (e) {\n            return pipeable_1.pipe(T.sync(function () {\n                next({ _tag: \"error\", e: e });\n            }), T.chain(function () { return T.raiseError(e); }));\n        }), T.fork);\n    })\n        .bindL(\"extract\", function (_a) {\n        var q = _a.q;\n        return pipeable_1.pipe(q.take, T.chainTap(function (_) {\n            return T.sync(function () { return next(Option_1.isSome(_) ? { _tag: \"offer\", a: _.value } : { _tag: \"complete\" }); });\n        }), T.forever, T.fork);\n    })[\"return\"](function (_a) {\n        var into = _a.into, extract = _a.extract;\n        var interrupt = pipeable_1.pipe(T.sequenceT(into.interrupt, extract.interrupt, T.sync(function () {\n            next({ _tag: \"complete\" });\n        })), T.asUnit);\n        var subscribe = T.sync(function () {\n            var _a = support_1.queueUtils(), next = _a.next, ops = _a.ops, hasCB = _a.hasCB;\n            var push = function (_) {\n                next(_);\n            };\n            listeners.set(push, push);\n            return S.fromSource(pipeable_1.pipe(M.bracket(T.unit, function () {\n                return T.sync(function () {\n                    listeners[\"delete\"](push);\n                });\n            }), M.chain(function () { return support_1.emitter(ops, hasCB); })));\n        });\n        return {\n            interrupt: interrupt,\n            subscribe: subscribe\n        };\n    });\n}\nexports.subject = subject;\n"],"sourceRoot":""}